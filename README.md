<?xml version="1.0" encoding="utf-8" ?>
<configuration>
  <configSections>
    <manual>Aptra Advance NDC Reference Manual v4.X.X</manual>
    <section name="TransactionRequest" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="TransactionReply" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="ReadyState" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="InteractiveResponse" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="SolicitedDeviceFault" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="SolicitedCommandReject" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="CommandReject" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="SpecificCommandReject" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="EncryptorDataMessage" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="UnsolicitedStatus" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="UnsolicitedDeviceFault" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="UnsolicitedStatusInfo" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="H0031TerminalStatusInfo" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="H0032TerminalStatusInfo" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="H0037TerminalStatusInfo" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="H0035TerminalStatusInfo" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="H0036TerminalStatusInfo" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="H0048TerminalStatusInfo" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="H0049TerminalStatusInfo" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="H004ATerminalStatusInfo" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="H004BTerminalStatusInfo" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="H004CTerminalStatusInfo" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="H004DTerminalStatusInfo" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="H004ETerminalStatusInfo" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="H004FTerminalStatusInfo" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="H0050TerminalStatusInfo" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="TerminalCommand" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="StateTableData" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="ScreenAndKeyboardData" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="FitData" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="ConfigurationData" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="EnhancedConfigurationData" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="ConfigurationIdData" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="MacFieldSelection" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="DateAndTimeData" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="EncryptionKeyChange" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="ExtendedEncryptionKeyChange" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="EmvCurrencyData" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="EmvTransactionData" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="EmvLanguageTable" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="EmvTerminalData" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="EmvTerminalApplication" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="WcrEmvApplicationId" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
    <section name="DispenserCurrencyCassetteMappingTable" type="Abbrevia.Banking.Atm.MessageInfoSection, Abbrevia.Banking.Atm, Version=1.0.4917.29108, Culture=neutral, PublicKeyToken=null" />
  </configSections>

  <TransactionRequest displayName="TransactionRequest">
    <pattern options="34">
      ^
      (?&lt;b&gt;1)
      (?&lt;c&gt;1)
      \x1C
      (?&lt;d&gt;[^\x1C]{9}|[^\x1C]{3})
      \x1C\x1C
      (?&lt;e&gt;[0-9A-F]{8})?
      \x1C
      (?&lt;f&gt;0|1)
      (?&lt;g&gt;[\x31-\x7E])
      \x1C
      (?&lt;h&gt;
      (?&lt;Pan&gt;\x3B[^\x3D]+)
      (?&lt;NonPan&gt;\x3D[\x30-\x3F]+)
      )?
      \x1C
      (?&lt;i&gt;[\x30-\x3F]{1,106})?
      \x1C
      (?&lt;j&gt;[\x20-\x7E]{0}|[\x20-\x7E]{0,8})?
      \x1C
      (?&lt;k&gt;\w{8}|\w{12})?
      \x1C
      (?&lt;l&gt;[\x20-\x7E]{1,16})?
      \x1C
      (?&lt;m&gt;[\x01-\x1B\x1E-\x7F]{1,32})?
      \x1C
      (?&lt;n&gt;[\x01-\x1B\x1E-\x7F]{1,32})?
      (?&lt;Track1&gt;
      \x1C
      (
      (?&lt;o&gt;1)
      (?&lt;p&gt;[^\x1C]{1,78})
      )?
      )?
      (?&lt;TransactionStatusData&gt;
      \x1C
      (
      (?&lt;q&gt;2)
      (?&lt;r&gt;
      (?&lt;TranSerial&gt;\d{4})
      (?&lt;TranStatusIssue&gt;[0-3])
      (?&lt;TranStatusData&gt;[^\x1C]*)
      )
      )?
      )?
      (?&lt;CSPData&gt;
      \x1C
      (?&lt;av&gt;
      (?&lt;CSPDataID&gt;\x55)
      (?&lt;CSPData&gt;[\x20-\x7E]{16})?
      )
      )?
      (?&lt;ConfirmCSPData&gt;
      \x1C
      (?&lt;aw&gt;
      (?&lt;CSPDataID&gt;\x56)
      (?&lt;CSPData&gt;[\x20-\x7E]{16})?
      )
      )?
      (?&lt;VCDataIDW&gt;
      \x1C
      (?&lt;ax&gt;
      (?&lt;DataIDW&gt;\x57)
      (?&lt;ExitFieldW&gt;[\x20-\x7E]+)
      )
      )?
      (?&lt;VCDataIDX&gt;
      \x1C
      (?&lt;ay&gt;
      (?&lt;DataIDX&gt;\x58)
      (?&lt;ExitFieldX&gt;[\x20-\x7E]+)
      )
      )?
      (?&lt;VCDataIDY&gt;
      \x1C
      (?&lt;az&gt;
      (?&lt;DataIDY&gt;\x59)
      (?&lt;ExitFieldY&gt;[\x20-\x7E]+)
      )
      )?
      (?&lt;VCDataIDZ&gt;
      \x1C
      (?&lt;ba&gt;
      (?&lt;DataIDZ&gt;\x60)
      (?&lt;ExitFieldZ&gt;[\x20-\x7E]+)
      )
      )?
      (?&lt;VCDataIDObsIdKey&gt;
      \x1C
      (?&lt;bb&gt;
      (?&lt;DataIDObsId&gt;\x5B)
      (?&lt;ExitFieldObsId&gt;[\x20-\x7E]+)
      )
      )?
      (?&lt;VCDataIDBsIdKey&gt;
      \x1C
      (?&lt;bc&gt;
      (?&lt;DataIDBsId&gt;\x5C)
      (?&lt;ExitFieldBsId&gt;[\x20-\x7E]+)
      )
      )?
      (?&lt;bd&gt;
      (
      \x1C
      (
      (?&lt;bd1&gt;5)
      (?&lt;bd2&gt;
      (?&lt;bd2a&gt;CAM)
      (?&lt;bd2b&gt;[0-9A-Fa-f]{4})
      (?&lt;bd2c_d&gt;[\x20-\x7E]+)
      )
      )
      )
      |
      (
      \x1C
      (
      (?&lt;bd1&gt;e)
      (?&lt;bd2&gt;
      (?&lt;bd2c_d&gt;[\x20-\x7E]+)
      )
      )
      )
      )?
      (?&lt;Device&gt;
      \x1C
      (?&lt;ca&gt;
      (?&lt;DeviceID&gt;\x77)
      (?&lt;DeviceNotes&gt;
      (?&lt;DeviceNotesType&gt;[0-9A-Fa-f]{2})
      ((?&lt;DeviceNumNotes&gt;[0-9]{2}) | (?&lt;DeviceNumNotes&gt;[0-9]{3}))
      )+
      )
      )?
      (
      \x1C
      (?&lt;cb&gt;
      (?&lt;DocumentDataID&gt;\x61)
      (?&lt;MICRFlag&gt;[0-1]{1})
      (?&lt;MICRVaue&gt;[\x20-\x7E]{1,256})
      )
      )?
      (
      \x1C
      (?&lt;cc&gt;
      (?&lt;DataID&gt;\x63)
      (?&lt;NoteTypeNumber&gt;[0-9]{2})
      (?&lt;NotesType&gt;[0-9A-Fa-f]{4})
      (?&lt;SuspectNoteNumber&gt;[0-9]{3})
      )
      )?
      (
      \x1C
      (?&lt;cd&gt;
      (?&lt;DataID&gt;\x64)
      (?&lt;NoteTypeNumber&gt;[0-9]{2})
      (?&lt;NotesType&gt;[0-9A-Fa-f]{4})
      (?&lt;CounterfietNoteNumber&gt;[0-9]{3})
      )
      )?
      (?&lt;Device&gt;
      \x1C
      (?&lt;cc&gt;
      (?&lt;DeviceID&gt;\x72)
      (?&lt;DeviceNotes&gt;
      (?&lt;DeviceNotesType&gt;[0-9A-Fa-f]{2})
      (
      (?&lt;DeviceNumNotes&gt;[0-9A-Za-z]{2,3})
      )
      )+
      \x1D
      (?&lt;DispenseTypeOfDrums&gt;[0-4])*
      \x1D
      (?&lt;SupplyStatusOfDrums&gt;[0-4])*
      \x1D
      (?&lt;ReActivationFlagOfDrumsn&gt;[01])*
      )
      )?
      (?&lt;ce&gt;
      (?&lt;FieldID&gt;\x65)?
      (?&lt;BarCodeHex&gt;[\x20-\x7E]{4})?
      (?&lt;Reserved&gt;[\x20-\x7E]{2}0)?
      )
      (
      \x1C
      (?&lt;cg&gt;
      (?&lt;DataId&gt;\x67)
      (?&lt;TotalChequesToReturn&gt;[0-9]{3})
      (?&lt;Reserved3&gt;0000)
      (?&lt;DepositCurrency&gt;[0-9]{3})
      (?&lt;AmountSign&gt;[+-]{1})
      (?&lt;AmountExponentValue&gt;[0-9]{2})
      (?&lt;TotalCustomerAmount&gt;[0-9]{12})
      (?&lt;TotalDerivedAmount&gt;[0-9]{12})
      (?&lt;Reserved9&gt;0000)
      (?&lt;ChequeData&gt;
      (?&lt;ChequeIdentifier&gt;[0-9]{3})
      (?&lt;CustomerChequeAmount&gt;[0-9]{12})
      (?&lt;DerivedChequeAmount&gt;[0-9]{12})
      (?&lt;CodelineLength&gt;[0-9]{3})
      (?&lt;CodelineData&gt;[\x00-\x1C\x1E-\xFF]+)
      \x1D
      )*
      )
      )?
      (?&lt;MessageAuthenticationCode&gt;
      \x1C
      (?&lt;x&gt;[\x20-\x7E]{8})?
      )?
      \z
    </pattern>
    <fields>
      <field id="b" name="Message Class" format="1" mandatory="M" description="The message class is: '1' - Unsolicited Message." check="true" critical="true" classification="ATM"/>
      <field id="c" name="Message Sub-Class" format="1" mandatory="M" description="The message sub-class is: '1' - Transaction Request message." check="true" critical="true" classification="ATM"/>
      <field id="d" name="Logical Unit Number (LUNO)" format="3 or 9" mandatory="M" description="This Number is defined in a field transmitted to the terminal in a Configuration Parameters Load message. The default number is 000. If the data security feature is configured, an additional six characters are present which contain the machine number." check="true" classification="ATM"/>
      <field id="e" name="Time Variant Number" format="8" mandatory="Note 2" description="This field can contain an eight-digit number derived from the time of day by the terminal for each transaction request. The digits can contain the characters 0-9, A-F." check="true" classification="ATM"/>
      <field id="f" name="Top of Receipt Transaction Flag" format="1" mandatory="M" description="Informs Central if receipt data for this transaction will print at the top of the receipt as follows: '0' - will not print data for this transaction at the top of the receipt; '1' - will print data for this transaction at the top of the receipt." check="true" classification="ATM"/>
      <field id="g" name="Message Co-Ordination Number" format="1" mandatory="M" description="Message Co-Ordination Number. Contains a character assigned by the terminal to each transaction request message. The terminal assigns a different co-ordination number to each successive transaction request, on a rotating basis. Valid range of the co-ordination number is 31 hex to 3F hex, or if enhanced configuration parameter 34 'MCN Range' has been set to 001, from 31 hex to 7E hex. Central must include the corresponding co-ordination number when responding with a Transaction Reply Command. This ensures that the Transaction Reply matches the Transaction Request. If the co-ordination numbers do not match, the terminal sends a solicited status message with a Command Reject status. Central can override the Message Co-Ordination Number check by sending a Co-Ordination Number of '0' in a Transaction Reply command. As a result, the terminal does not verify that the Transaction Reply co-ordinates with the last transaction request message." check="false" classification="ATM"/>
      <field id="h" name="Track 2 Data" format="Var(39)" mandatory="Note 1" description="Track 2 Data. Contains up to 39 characters of Track 2 data from the start sentinel to the end sentinel inclusive. Characters are in the range 30-3F hex." check="true" classification="ATM"/>
      <field id="i" name="Track 3 Data" format="Var(106)" mandatory="Note 1" description="Track 3 Data. Contains up to 106 characters of Track 3 data from the start sentinel to the end sentinel inclusive. Characters are in the range 30-3F hex." check="true" classification="ATM"/>
      <field id="j" name="Operation Code Data" format="8" mandatory="Note 1" description="Operation Code Data. Contains the data collected in the Operation Code buffer as a result of function display keys pressed. States 'D - Pre-Set Operation Code Buffer State', 'E - Four FDK Selection Function State' and 'Y - Eight FDK Selection Function State' determine the contents of this field, which identifies the transaction selected by the cardholder." check="true" critical="true" classification="ATM"/>
      <field id="k" name="Amount Entry Field" format="8 or 12" mandatory="Note 1-3" description="Amount Entry Field. Identifies the amount entry made at the keyboard. The content of this field is determined by the Amount Entry and Enhanced Amount Entry states. The data is right-justified with zeros to fill unused positions on the left. This field, if requested in the transaction request state, is either eight or twelve bytes long. It will be zero-filled if no amount entry has been made since the last Card Read state was executed. The length is selected in the Configuration Parameters Load message or the Enhanced Configuration Parameters Load message." check="true" classification="ATM"/>
      <field id="l" name="PIN Buffer" format="Var(32)" mandatory="Note 1" description="PIN Buffer (Buffer A). Contains a 16-character PIN, encrypted as specified in the FIT, for remote PIN verification." check="true" classification="ATM"/>
      <field id="m" name="General Purpose Buffer B" format="Var(32)" mandatory="Note 1" description="General Purpose Buffer B. Contains the keyboard data entered during the Information Entry state or after receiving an Interactive Transaction Response. The last character in this buffer is a graphic 'T' if the terminal times out waiting for the cardholder to respond (using the keyboard) to an Interactive Transaction Response, or a graphic 'E' if the cardholder presses the Cancel key. Minimum data length is 3 characters. Maximum data length is 32 characters. May contain an amount value entered during the Enhanced Amount Entry state. In this case, the buffer length will be the same as the Amount Entry Field." check="true" classification="ATM"/>
      <field id="n" name="General Purpose Buffer C" format="Var(32)" mandatory="Note 1" description="General Purpose Buffer C. Contains keyboard data as specified by the Information Entry state. Data length cannot exceed 32 characters. May contain an amount value entered during the Enhanced Amount Entry state. In this case, the buffer length will be the same as the Amount Entry Field." check="true" classification="ATM"/>
      <field id="o" name="Track 1 Identifier" format="1" mandatory="O" description="Track 1 Identifier. Identifies data in the next field as Track 1 data: '1' - Track 1 data." check="true" classification="ATM"/>
      <field id="p" name="Track 1 Data" format="Var(78)" mandatory="O" description="Track 1 Data. Contains up to 78 characters of Track 1 data from the start sentinel to the end sentinel inclusive. The character range is 20-5F hex." check="true" classification="ATM"/>
      <field id="q" name="Transaction Status Data Identifier" format="1" mandatory="Note 4" description="Transaction Status Data Identifier. Identifies the data that follows in the next field as Transaction Status data: '2' - status data." check="true" classification="ATM"/>
      <field id="r" name="Last Transaction Status Data" format="Var(71)" mandatory="Note 4" description="Last Transaction Status Data. Contains status data relating to the previous transaction performed by the terminal. It contains the following data: Last Transaction Serial Number - 4 bytes Last Status Issued - 1 byte. See Table Note 16. Last Transaction Notes Dispensed - 20 bytes or Var bytes. See Table Note 8. Last Transaction Coinage Amount Dispensed - 5 bytes Last Transaction Coins Dispensed - 20 bytes Last Transaction Cash Deposit Data - 21 or Var bytes Last Transaction Serial Number contains the four-digit serial number of the last transaction partially processed by the terminal. If this does not match the last transaction serial number sent by Central, this transaction was not initiated. Last Status Issued contains one byte identifying what the last known status message sent from the terminal was (other than download-type messages). It does not necessarily relate to the Transaction Serial Number. The value will be one of the following: '0' - none sent; '1' - good termination sent; '2' - error status sent; '3' - transaction reply rejected. If Option 76 is set to 000 (four cassette types), Last Transaction Notes Dispensed contains four five-digit decimal counts defining the notes dispensed on the last transaction if the last function command received and processed was a dispense command. These counts will be zero if the last function command received and processed was not a dispense command. If Option 76 is set to 001 (seven cassette types), Last Transaction Notes Dispensed contains seven five-digit decimal counts defining the notes dispensed on the last transaction if the last function command received and processed was a dispense command. These counts will be zero if the last function command received and processed was not a dispense command. The Last Transaction Coinage Amount Dispensed field is included for migration purposes only and always contains zeros. If a Coin Dispenser is present and Option 79 is set to 000 (four hopper types), the Last Transaction Coins Dispensed contains four five-digit decimal counts defining the coins dispensed from each hopper on the last dispense transaction. These will be zero if the last function command was not a coin dispense type function, or if this is the first transaction after installation. If a Coin Dispenser is present and Option 79 is set to 001 (more than four hopper types), this field is set to '00000'. In this case, the Last Transaction Coinage Amount Dispensed is provided in fields to cf&lt;n+1&gt;. If a Coin Dispenser is not present, this field is set to '00000'. The Last Cash Deposit Transaction Direction is present if a BNA or GBXX is present and contains 1 byte as follows: '0' - last transaction was not a cash deposit; '1' - vault direction; '2' - refund direction." check="true" classification="ATM"/>
      <field id="av1" name="CSP Data 1" format="1" mandatory="Note 5-6" description="CSP Data ID 'U'. A value of 'U' (55H, ASCII) in this field identifies the following field as the first Customer Selected PIN data. If this field is selected in the 'I - Transaction Request State' table (see Chapter 2, 'State Tables') and no CSP has been requested, only this field will be present." check="true" classification="ATM"/>
      <field id="av2" name="CSP Data 2" format="Var(16)" mandatory="Note 5-6" description="CSP Data. This field contains an encrypted 16 character PIN. See the 'FIT Data' table in Chapter 8, 'Financial Institution Tables'." check="true" classification="ATM"/>
      <field id="aw1" name="Confirmation CSP Data 1" format="1" mandatory="Note 5-6" description="Confirmation CSP Data ID 'V'. A value of 'V' (56H, ASCII) in this field identifies the following field as the second Customer Selected PIN data. If this field is selected in the 'I - Transaction Request State' table (see Chapter 2, 'State Tables') and no CSP has been requested, only this field will be present. If the CSP state indicates that local verification of the two Customer Selectable PINs is to be carried out, only the identifier will be sent if requested by the Transaction Request State." check="true" classification="ATM"/>
      <field id="aw2" name="Confirmation CSP Data 2" format="Var(16)" mandatory="Note 5-6" description="Confirmation CSP Data. This field contains an encrypted 16 character PIN. For details, see the 'FIT Data' table in Chapter 8, 'Financial Institution Tables'." check="true" classification="ATM"/>
      <field id="ax1" name="VC Data 'W' 1'" format="1" mandatory="Note 5-6-7" description="VC Data ID 'W'. The value 'W' in this field identifies the following field as containing data inserted by Exits." check="true" classification="ATM"/>
      <field id="ax2" name="VC Data 'W' 2'" format="Var" mandatory="Note 5-6-7" description="This field is available for use by Exits." check="true" classification="ATM"/>
      <field id="ay1" name="VC Data 'X' 1" format="1" mandatory="Note 5-6-7" description="VC Data ID 'X'. The value 'X' in this field identifies the following field as containing data inserted by Exits." check="true" classification="ATM"/>
      <field id="ay2" name="VC Data 'X' 2" format="Var" mandatory="Note 5-6-7" description="This field is available for use by Exits" check="true" classification="ATM"/>
      <field id="az1" name="VC Data 'Y' 1" format="1" mandatory="Note 5-6-7" description="VC Data ID 'Y'. The value 'Y' in this field identifies the following field as containing data inserted by Exits." check="true" classification="ATM"/>
      <field id="az2" name="VC Data 'Y' 2" format="Var" mandatory="Note 5-6-7" description="This field is available for use by Exits" check="true" classification="ATM"/>
      <field id="ba1" name="VC Data 'Z' 1" format="1" mandatory="Note 5-6-7" description="VC Data ID 'Z'. The value 'Z' in this field identifies the following field as containing data inserted by Exits." check="true" classification="ATM"/>
      <field id="ba2" name="VC Data 'Z' 2" format="Var" mandatory="Note 5-6-7" description="This field is available for use by Exits" check="true" classification="ATM"/>
      <field id="bb1" name="VC Data '[' 1" format="1" mandatory="Note 5-6-7" description="VC Data ID '['. The value '[' in this field identifies the following field as containing data inserted by Exits." check="true" classification="ATM"/>
      <field id="bb2" name="VC Data '[' 2" format="Var" mandatory="Note 5-6-7" description="This field is available for use by Exits" check="true" classification="ATM"/>
      <field id="bc1" name="VC Data '\' 1" format="1" mandatory="Note 5-6-7" description="VC Data ID '\'. The value '\' in this field identifies the following field as containing data inserted by Exits." check="true" classification="ATM"/>
      <field id="bc2" name="VC Data '\' 2" format="Var" mandatory="Note 5-6-7" description="This field is available for use by Exits." check="true" classification="ATM"/>
      <field id="bd" name="Smart Card Data Buffer" check="true" classification="ATM"/>
      <field id="bd1" name="Smart Card Data ID '5'" parentId="bd" format="1" mandatory="Note 5-6-7" description="Smart Card Data ID '5'. The value '5' in this field identifies the following field as containing data inserted by CAM2/EMV Exits." check="true" classification="ATM"/>
      <field id="bd2" name="Smart Card Data" parentId="bd" format="Var" mandatory="Note 5-6-7" description="This field is available for use by EMV/CAM2 Exits." check="true" classification="ATM"/>
      <field id="bd2a" name="Smart Card Data identifier" parentId="bd2" check="true" classification="ATM"/>
      <field id="bd2b" name="CAM Flags" parentId="bd2" check="true" classification="ATM"/>
      <field id="bd2c_d" name="ICC Data Objects" parentId="bd2" detailProvider="Abbrevia.Banking.Atm.SIMplicity.TlvDetailProvider, Abbrevia.Banking.Atm.SIMplicity, Version=1.0.5006.20195, Culture=neutral, PublicKeyToken=null" check="true" classification="ATM"/>
      <field id="ca1" name="Device ID 'w' - BNA or GBXX data 1" format="1" mandatory="Note 9" description="Device ID 'w'. The value 'w' in this field identifies the following two fields as containing BNA or GBXX data." check="true" classification="ATM"/>
      <field id="ca2" name="Device ID 'w' - BNA or GBXX data 2" format="2" mandatory="Note 9" description="Two-digit hexadecimal number (01 - 32) representing a note type, allowing up to 50 note types to be represented." check="true" classification="ATM"/>
      <field id="ca3" name="Device ID 'w' - BNA or GBXX data 3" format="2 or 3" mandatory="Note 9-10" description="Number of notes in escrow for the note type defined in ca2. This field has either 2 or 3 digits, depending on whether option 45 is set to report more than 90 notes or not. If option 45 is not set to report more than 90 notes, this is a two-digit number (01 - 90). If option 45 is set to report more than 90 notes, this is a three-digit number (000-999). For details of the settings for option 45, see page 10-18 in the table 'Enhanced Configuration Parameters Load'." check="true" classification="ATM"/>
      <field id="cb1" name="Document Data ID 'a' - Cheque Deposit Data 1" format="1" mandatory="Note 11-13" description="Document Data ID 'a'. The value 'a' in this field identifies the following field as containing single cheque deposit data." check="true" classification="ATM"/>
      <field id="cb2" name="Magnetic Ink Code Recognition (MICR) detected" format="1" mandatory="Note 11-12-13-15" description="Magnetic Ink Code Recognition (MICR) detected. This field contains the value '1' if a minimum number of MICR characters have been detected, or the value '0' if the MICR on an otherwise good cheque has not been detected after retries." check="true" classification="ATM"/>
      <field id="cb3" name="Magnetic Ink Code Recognition (MICR) value" format="Var(256)" mandatory="Note 11-13" description="Magnetic Ink Code Recognition (MICR) value. This field is only present if the MICR detected field value is '1', in which case it contains the MICR read from the cheque." check="true" classification="ATM"/>
      <field id="cc1" name="Data ID 'c' - Suspect Note Data" format="1" mandatory="O" description="Data ID 'c'. The value 'c' in this field idnetified as suspect under ECB regulations" check="true" classification="ATM"/>
      <field id="cc2" name="Number of Note Type identified as suspect" format="2" mandatory="O" description="The number of note types with note identified as suspect,the note type count is a decimal number in the range '00' to '99'" check="true" classification="ATM"/>
      <field id="cc3_4" name="Notes Type id and Number of Suspect Notes" format="Var(256)" mandatory="O" description="Note Type identifier as a hexadecimal number in the range '0001' to '00FF'" check="true" classification="ATM"/>
      <field id="cd1" name="Data ID 'd' - Counterfiet Note Data" format="1" mandatory="O" description="Data ID 'd'. The value 'd' in this field idnetified as counterfeit under ECB regulations" check="true" classification="ATM"/>
      <field id="cd2" name="Number of Note Type identified as counterfeit" format="2" mandatory="O" description="The number of note types with note identified as counterfeit,the note type count is a decimal number in the range '00' to '99'" check="true" classification="ATM"/>
      <field id="cd3_4" name="Notes Type id and Number of Counterfeit Notes" format="Var(256)" mandatory="O" description="Note Type identifier as a hexadecimal number in the range '0001' to '00FF'" check="true" classification="ATM"/>
      <field id="cc" name="CashIn or GBXX data" format="Var(5)" mandatory="O" description="Contains CashIn data Field" check="true" classification="ATM"/>
      <field id="DeviceID" name="Device ID 'r'" parentId="cc" format="1" mandatory="O" description="Device ID 'r'. The value 'r' in this field identifies the following two fields as containing CashIn or GBXX data." check="true" classification="ATM"/>
      <field id="DeviceNotes" name="Note Type" parentId="cc" format="2" mandatory="O" description="Two-digit hexadecimal number (01 - 32 A - Z) representing a note type, allowing up to 50 note types to be represented." check="true" classification="ATM"/>
      <field id="DeviceNotesType" name="Number of Notes"  parentId="cc" format="3" mandatory="O" description="Number of notes in drum for the note type defined in cc2." check="true" classification="ATM"/>
      <field id="ce1" name="Field ID 'e' - Barcode data 1" format="1" mandatory="O Note 14" description="Field ID 'e'. The value 'e' in this field shows that barcode data is being reported." check="true" classification="ATM"/>
      <field id="ce2" name="Field ID 'e' - Barcode data 2" format="4" mandatory="O" description="ASCII hexadecimal representation of the Barcode Format identifier. The list of barcode format values is based on the CEN XFS barcode reader device class, or the value '0000' if the barcode format is not known." check="true" classification="ATM"/>
      <field id="ce3" name="Field ID 'e' - Barcode data 3" format="2" mandatory="O" description="Reserved" check="true" classification="ATM"/>
      <field id="ce4" name="Field ID 'e' - Barcode data 4" format="Var" mandatory="O" description="The scanned barcode data. The length is defined by the barcode format and the length of the scanned barcode. The length of the whole message, including this field, must not exceed the maximum message length, as defined by the COMMS protocol." check="true" classification="ATM"/>
      <field id="cg1" name="Data ID 'g' - Bunch Cheque Data" format="1" mandatory="O Note 14" description="The value 'g' in this field shows that a bunch cheque deposit is being reported." check="true" classification="ATM"/>
      <field id="cg2" name="Total Cheques To Return - Bunch Cheque Data" format="3" mandatory="O" description="This field contains a count of the cheques inserted into the bunch cheque acceptor, but not included in the deposit transaction." check="true" classification="ATM"/>
      <field id="cg3" name="Reserved - Bunch Cheque Data" format="4" mandatory="O" description="Must be 0000" check="true" classification="ATM"/>
      <field id="cg4" name="Deposit Currency - Bunch Cheque Data" format="3" mandatory="O" description="This field contains the three-character ISO 4217 currency code for the deposit cheques." check="true" classification="ATM"/>
      <field id="cg5" name="Amount Sign - Bunch Cheque Data" format="1" mandatory="O" description="This field contains the amount exponent sign which is either '+' or '-'" check="true" classification="ATM"/>
      <field id="cg6" name="Amount Exponent Value - Bunch Cheque Data" format="2" mandatory="O" description="This field contains the exponent value for all cheque amounts reported in the bunch cheque deposit buffer." check="true" classification="ATM"/>
      <field id="cg7" name="Total Customer Amount - Bunch Cheque Data" format="12" mandatory="O" description="This field contains the sum of all amounts entered or corrected by the cardholder for cheques to be deposited." check="true" classification="ATM"/>
      <field id="cg8" name="Total Derived Amount - Bunch Cheque Data" format="12" mandatory="O" description="This field contains the sum of all amounts for cheques to be deposited derived from image processing technologies." check="true" classification="ATM"/>
      <field id="cg9" name="Reserved - Bunch Cheque Data" format="4" mandatory="O" description="Must be 0000" check="true" classification="ATM"/>
      <field id="cg10" name="Cheque Identifier - Bunch Cheque Data" format="3" mandatory="O" description="This field contains a three-digit number in the range '001-999' that identifies a specific cheque into he deposit request." check="true" classification="ATM"/>
      <field id="cg11" name="Customer Cheque Amount - Bunch Cheque Data" format="12" mandatory="O" description="This field contains the value of the cheque identified in field cg10 as entered or corrected by the cardholder." check="true" classification="ATM"/>
      <field id="cg12" name="Derived Cheque Amount - Bunch Cheque Data" format="12" mandatory="O" description="This field contains the value of the cheque identified in field cg10 as derived from image processing technologies." check="true" classification="ATM"/>
      <field id="cg13" name="Codeline Length - Bunch Cheque Data" format="3" mandatory="O" description="This field contains the length of the data reported in field cg14 for the cheque identified in field cg10." check="true" classification="ATM"/>
      <field id="cg14" name="Codeline Data - Bunch Cheque Data" format="3" mandatory="O" description="This field contains the codeline read from the cheque." check="true" classification="ATM"/>
      <field id="x" name="Message Authentication Code Data" format="8" mandatory="Note 2" description="Message Authentication Code Data. This field contains the calculated value for authentication of this message." check="true" classification="ATM"/>
    </fields>
  </TransactionRequest>
  <TransactionReply displayName="TransactionReply">
    <pattern options="34">
      ^
      (?&lt;b&gt;4)
      (?&lt;c&gt;.)?
      [\x1C]
      (?&lt;d&gt;[^\x1C]{9}|[^\x1C]{3})?
      [\x1C]
      (?&lt;e&gt;[^\x1C]{8}|[^\x1C]{3})?
      [\x1C]
      (?&lt;f&gt;[0-9a-zA-Z]{3})?
      [\x1C]
      (?&lt;g&gt;[0-9]{2})*
      [\x1D]?
      (?&lt;j&gt;[0-9]{2})*
      [\x1C]
      (?&lt;k&gt;[0-9]{4})
      (?&lt;l&gt;[1-9bcfA-CEFO-Tr\x2A\x2D\x27\x3A])
      (?&lt;m&gt;[ul][0-9]{4}|[0-9]{3})?
      (?&lt;n&gt;[^\x1C]*)?
      [\x1C]
      (?&lt;o&gt;[\x30-\x7E])
      (?&lt;p&gt;[01])
      (?&lt;q_r&gt;
      [\x1D]?
      (?&lt;q&gt;[0-589:=ab&lt;\x20])
      (?&lt;r&gt;(([^\x1C\x1D])|\x1D(?![0-589:=ab&lt;])){0,999})
      ){1,13}
      (
      [\x1C]
      (?&lt;w&gt;4)
      (?&lt;x&gt;\x3B[^\x1C^?]{0,104}\?)
      )?
      (
      (
      [\x1C]
      (?&lt;ak1&gt;K)
      (?&lt;ak2&gt;\%[^\x1C]{0,76}\?)
      )?
      (
      [\x1C]
      (?&lt;al1&gt;L)
      (?&lt;al2&gt;\x3B[^\x1C]{0,37}\?)
      )?
      (
      [\x1C]
      (?&lt;am1&gt;[M-R])
      (?&lt;am2&gt;[^\x1C^\x1D]*)
      ){0,6}
      (
      [\x1C]
      (?&lt;arr1&gt;r)
      (?&lt;arr2&gt;[0-2])
      (?&lt;arr3&gt;[0-9]{3})?
      (?&lt;arr4&gt;[0-9]{3})?
      (?&lt;arr5&gt;[0-9]{3})?
      )?
      (?&lt;at&gt;
      [\x1C]?
      (
      (
      (?&lt;at1&gt;5)
      (?&lt;at2&gt;
      (?&lt;at2a&gt;CAM)
      (?&lt;at2b_c_d&gt;[^\x1C]*)
      )
      )
      |
      (
      (?&lt;at1&gt;e)
      (?&lt;at2&gt;
      (?&lt;at2a&gt;(a|d))
      (?&lt;at2b_c_d&gt;[^\x1C]*)
      )
      )
      |
      (
      [\x1C]?
      (?&lt;at1&gt;e)
      (?&lt;at2&gt;
      (?&lt;at2a&gt;(a|d))
      (?&lt;at2b_c_d&gt;([0-9A-F][^\x1C])*)?
      )
      )
      )
      )?
      (
      [\x1C]
      (?&lt;ba1&gt;a)
      (?&lt;ba2&gt;[1-3])
      )?
      (
      [\x1C]
      (?&lt;bb1&gt;b)
      (?&lt;bb2&gt;[0-9]{3})
      (?&lt;bb3&gt;[0-9]{2})
      (?&lt;bb4&gt;(0|1))
      (?&lt;bb5&gt;0000)
      (?&lt;bb6&gt;([0-9a-zA-Z.:\\\/\s])*)
      )?
      (
      [\x1C](?![^\x1C]{8})
      (?&lt;bc&gt;[^\x1C](?![^\x1C]*))?
      )?
      )*
      (
      [\x1C]
      (?&lt;y&gt;[0-9A-F]{8})
      )?
      (?&lt;z&gt;.*)
    </pattern>
    <fields>
      <field id="b" name="Message Class" format="1" mandatory="M" description="Message Class. The message class is: '4' - Transaction Reply Command" check="true" critical="true" classification="Switch"/>
      <field id="c" name="Response Flag" format="1" mandatory="O" description="Response Flag. Included for future use and ignored by the terminal." check="true" classification="Switch"/>
      <field id="d" name="Logical Unit Number (LUNO)" format="3 or 9" mandatory="O" description="Logical Unit Number (LUNO). The contents of this field are only used when Central asks for the security terminal number to be checked. In this case the field will contain nine characters, the last six of which are checked." check="true" classification="Switch"/>
      <field id="e" name="Time Variant Number" format="3 or 8" mandatory="Note 50" description="Message Sequence/Time Variant Number. The Message Sequence number field is ignored by the terminal and is included for future use. The Time Variant field contains an eight-character time variant number which should be the same as the last time variant number transmitted to Central." check="true" classification="Switch"/>
      <field id="f" name="Next State ID Data" format="3" mandatory="O" description="Next State ID Data. Contains a base 10 (decimal) number in the range 000-254 or 256-999, or a base 36 (alphanumeric) number in the range 000-254 or 256-ZZZ. This identifies the state number which the terminal should execute after it has completed the specified Transaction Reply command. This field must be included in all Transaction Reply messages except a Print Immediate." check="true" critical="true" classification="Switch"/>
      <field id="g" name="Number of Notes To Dispense" format="2" mandatory="Note 46-47-48-49" description="Number of notes to dispense. Contains the number of notes to be dispensed. Valid range is defined by hardware capabilities." check="true" critical="true" classification="Switch"/>
      <field id="j" name="Coins To Dispense" format="2" mandatory="Note 52-53" description="Contains the number of coins to be dispensed from approperiate hopper type. Valid range is defined by hardware capabilities. See Note 54" check="true" classification="Switch"/>
      <field id="k" name="Transaction Serial Number" format="4" mandatory="M" description="Transaction Serial Number. Number that Central uses to identify the transaction. It is used by the SST for the following functions: - Default PPD printing - Transaction number of the last transaction processed by the SST. (This can be requested by Central by transmitting a Send Supply Counters Terminal Command to the terminal.) - Part of the information printed on the journal when an exception status is sent to Central. Valid range is 0000-9999" check="true" classification="Switch"/>
      <field id="l" name="Function Identifier" format="1" mandatory="M" description="Function Identifier. Instructs the terminal on what functions are to be performed: Function ID Functions Performed: '1' or '7' Deposit and print. See Note 42. '2' or '8' Dispense and print. See Note 40. '3' or '9' Display and print '4' Print immediate '5' Set next state and print '6' Night safe deposit and print 'A' Eject card and dispense and print (card before cash) 'B' or 'C' Parallel dispense and print and card eject 'E' Reserved. A specific command reject will be sent if this is received. 'F' Card before parallel dispense/print 'O' Reserved 'P' Print statement and wait. See Note 41. 'Q' Print statement and set next state. See Note 41. 'R' Reserved. A specific command reject will be sent if this is received. 'S' Reserved. A specific command reject will be sent if this is received. 'T' Reserved. A specific command reject will be sent if this is received. '*' Refund notes and print '?' Deposit notes and print ''' Deposit notes and wait ':' Process cheque 'c' Process multiple cheques" check="true" critical="true" classification="Switch"/>
      <field id="m" name="Screen Number" format="3 or 5" mandatory="O" description="Screen Number. Contains either a three-digit decimal value from 010 to 999, or a five-character value containing a four-digit screen number prefixed with the letter 'u' or 'l'. The screen number defines the screen to be displayed on the terminal during execution of the specified function. To select a screen from the current language group, use either group -l- or a three-digit screen number. To select a screen independently of language group, use group 'u'. On a Card Before Cash or Card Before Parallel Dispense and Print transaction, this screen should contain two nested screen numbers for displaying at different times during the transaction; S0 (screen 1) S0 (screen 2). Do not include a clear screen control, as this prevents the nested screens being displayed. This field must be present if field 'n' is present. Otherwise, it is optional." check="true" classification="Switch"/>
      <field id="n" name="Screen Display Update" format="Var" mandatory="O" description="Screen Display Update. Contains screen numbers and new screen data which can replace existing screen data. The new screen data is displayed when its screen number is referenced during transaction processing. To immediately update a displayed screen, the displayed screen must be the first screen in the screen update data. In a voice-guided session, this can be used to insert dynamic audio data in a message. Screen numbers in the screen update can be specified as four digit numbers in group -u- (u1234) to load a screen independent of language group. A screen number from group -l- (l1234) can be specified to load a screen in the current language group. A screen number specified with three decimal digits (123) will be language independent, unless a language has been selected with a group size of 1000 or greater, in which case the screen number will be adjusted for language. The screen update data is in the format: No. Of Bytes Content 3, 5 or 6 Screen number Var Screen data 1 * Group separator 4 * Reserved 3 * Screen number Var * Screen data * These fields are only included when multiple screens are to be updated within one message. They are repeated for each additional screen." check="true" classification="Switch"/>
      <field id="o" name="Message Co-Ordination Number" format="1" mandatory="M" description="Message Co-Ordination Number." check="false" classification="Switch"/>
      <field id="p" name="Card Return/Retain Flag" format="1" mandatory="M" description="Card Return/Retain Flag. Tells the terminal to either return or retain the card during the Close state. '0' - return card during Close state '1' - retain card during Close state This flag is ignored and the card is always returned if the Function ID is 'A', 'B' or 'C' and the card is not in the card reader at the close state." check="true" critical="true" classification="Switch"/>
      <field id="q_r" name="Printer Info" format="Var(501)" mandatory="M Note 43" description="Contains Printer Flag and Printer Data Field." check="true" classification="Switch"/>
      <field id="q" name="Printer Flag Field" parentId="q_r" format="1" mandatory="M Note 43" description="Printer Flag. Tells the terminal which printer or printers to use. '0' - Do not print. '1' - Print on journal printer only. '2' - Print on receipt printer only. '3' - Print on receipt and journal printer. '4' - Print on PPD if the Function ID is '1' or '7' (Deposit and print). '5' - Print on PPD and journal if the Function ID is '1' or '7' (Deposit and print). '8' - Print on statement printer only '9' - Reserved ':' - Reserved '=' - Print sideways on the receipt printer if the Function ID is 'P' (Print Statement and Wait) or 'Q' (Print Statement and Set Next State). '>' or 'w' - Identifies audio data for a voice-guided session 'a' - Stamp cheque if the Function ID is ':' (Process cheque). This flag indicates that a cheque is to be stamped. The data field is ignored as the stamp content is fixed. This flag is not actioned if the cheque is ejected. 'b' - Endorse cheque if the Function ID is ':' (Process cheque) or 'c' (Process Multiple Cheques). This flag indicates that printing takes place on the reverse of a cheque and relates to cheque endorsement. This flag is not actioned if the cheque is ejected. If the Function ID is 'B' or 'C' (Parallel dispense, eject and print), NCR recommends that you use only one journal print data field and one receipt print data field. If multiple printer flags '4' and/or '5' are used in the same transaction message, only the first printer data field will be printed on the depository. If printer flag value '8' is used in any functions other than 'P' and 'Q', the following printer data field will be ignored. Only the first printer data field with flag value '8' will be accepted in a message. For sideways printing on the receipt, only one printer flag of '=' will be accepted in the message for functions 'P' and 'Q'. If printer flag '=' is used in any other function, the following printer data field will be ignored. If printer flags '=' and '8' are both present in a transaction reply along with Function Id 'P' or 'Q', the first of these flags encountered in the message will be accepted and processed. It is therefore recommended that only one of these printer flags is present in a Print Statement and Wait or Print Statement and Set Next State function. Printer flags '9' and ':' are ignored." check="true" classification="Switch"/>
      <field id="r" name="Printer Data Field" parentId="q_r" format="var(500)" mandatory="O" description="Printer Data Field. The maximum length of this field depends on the amount of data compression used in the transmitted data, but it is at least 500 bytes of uncompressed print data. Inserted data is printed by the printer indicated in the Printer Flag field. Each printer device has its own restrictions: Text sent to print on the depository must be 80 characters or less. Text sent to print on the receipt printer must be: - 24 lines or less if printing in normal mode - 49 lines or less if local configuration option digit 6B is set - 20 lines or less for sideways printing on the receipt. Sideways printing is not supported for the journal printer. Text sent to be printed sideways on the receipt printer can be up to a maximum width of 80 characters. The statement printer is constrained either to the compressed data length and the overall message length, or to the length of paper. When used with printer flag 'b' for Function ID ':' (Process cheque) or Function ID 'c' (Process Multiple Cheques), this field contains the endorsement print data (ASCII text) for the cheque. When used with printer flag 'w' or '>' (Identify audio data for voice guidance), this field contains the audioID sub-element reference to the Text element in the voice guidance XML configuration file, and any dynamic audio data to be included in the message. If the first character is '?', the text is printed in the alternative format. The alternative format could be normal, bold, or compressed text depending on the cheque processor variant. The '?' character can be used to select the XFS PTR form to use. These forms can be used to modify the text format. No escape sequences or control codes are supported with printer flag 'b'. If no endorsement data is suppled with this flag, a specific command reject is returned." check="true" classification="Switch"/>
      <field id="w" name="Buffer Identifier - Track 3 Data" format="1" mandatory="O Note 45" description="Buffer Identifier. A '4' in this field identifies the following data as Track 3 data." check="true" classification="Switch"/>
      <field id="x" name="Track 3 Data" format="Var(106)" mandatory="O Note 45" description="Track 3 Data. Contains the data to be written on to Track 3 during the Card Write state or Card Before Cash function command. This data replaces any existing data in the terminal's Track 3 buffer. The Track 3 data consists of up to 106 characters including the start and end sentinels." check="true" classification="Switch"/>
      <field id="ak1" name="Buffer Identifier - Track 1 Data" format="1" mandatory="O" description="Buffer Identifier 'K'. A value of 'K' for the Buffer Identifier indicates that the following fields define the new Track 1 data that is to be written to the card." check="true" classification="Switch"/>
      <field id="ak2" name="Track 1 Data" format="Var(78)" mandatory="O" description="Track 1 Data. This field contains the data to be written to Track 1 during the Card Write state or Card Before Cash function command. This data replaces any data already in the terminal's Track 1 buffer. The Track 1 data consists of up to 78 characters." check="true" classification="Switch"/>
      <field id="al1" name="Buffer Identifier - Track 2 Data" format="1" mandatory="O" description="Buffer Identifier 'L'. A value of 'L' for the Buffer Identifier indicates that the following fields define the new track data that is to be written to the card." check="true" classification="Switch"/>
      <field id="al2" name="Track 2 Data" format="Var(39)" mandatory="O" description="Track 2 Data. This field contains the data to be written to Track 2 during the Card Write state or Card Before Cash function command. This data replaces any data already in the terminal's Track 2 buffer. The Track 2 data consists of up to 39 characters." check="true" classification="Switch"/>
      <field id="am1" name="VC data ID 'M'" format="1" mandatory="O" description="VC data ID 'M'. Fields am1/am2 to ar1/ar2 are reserved for Exits use. The first field in the pair is a data identifier, the second is a variable length buffer. The data identifier should be in the range 'M' (4DH) to 'R' (52H). The fields can be selectively MACed." check="true" classification="Switch"/>
      <field id="am2" name="VC data" format="Var" mandatory="O" description="VC data The Exit data. The data field should not contain the Group Separator character (1DH)." check="true" classification="Switch"/>
      <field id="arr1" name="CashIn Buffer Identifier" format="1" mandatory="O" description="Indicates that CashIn function command data follow" check="true" classification="Switch"/>
      <field id="arr2" name="CashIn Buffer Command Modifier" format="1" mandatory="O" description="The command modifier indicates which type of Cash In function command should be initiated. 0 - Parallel CashIn + Eject Card + Print + Set Next State, 1 - CashIn + Print + Set Next State, 2 - Rollback + Print + Set Next State" check="true" classification="Switch"/>
      <field id="arr3" name="CashIn Screen 1" format="3" mandatory="O" description="Depending on the function of command modifier, this screen has the following meaning. Command Modifier 0 or 1 - Level 2 notes are detected by no Level 3 and no Level 4 notes, Command Modifier 2 - Level 2 notes are detected and will not be returned and no other money (Level3 or Level4 notes) will be returned." check="true" classification="Switch"/>
      <field id="arr4" name="CashIn Screen 2" format="3" mandatory="O" description="Depending on the function of command modifier, this screen has the following meaning. Command Modifier 0 or 1 - Level 3 and Level 4 notes are detected by no Level 2 notes are detected, Command Modifier 2 - optionally display to inform the consumer that all notes will be returned." check="true" classification="Switch"/>
      <field id="arr5" name="CashIn Screen 3" format="3" mandatory="O" description="Depending on the function of command modifier, this screen has the following meaning. Command Modifier 0 or 1 - Level 2 notes are detected together with Level 3 and Level 4 notes, Command Modifier 2 - Level 2 notes are detected and will not be returned but Level 3 and Level 4 notes will be returned." check="true" classification="Switch"/>
      <field id="at" name="Smart Card Data Buffer" format="" mandatory="" description="Smart Card Data" check="true" classification="Switch"/>
      <field id="at1" name="EMV ICC (Smart Card) data ID '5'" parentId="at" format="1" mandatory="Note 45" description="EMV ICC (Smart Card) data ID '5'" check="true" classification="Switch"/>
      <field id="at2" name="EMV ICC (Smart Card) data" parentId="at" format="Var" mandatory="Note 45" description="EMV ICC (Smart Card) data." check="true" classification="Switch"/>
      <field id="at2a" name="Smart Card Data Identifier" parentId="at2"  format="Var" mandatory="Note 45" description="'CAM' - Data in buffer is for CAM." check="true" classification="Switch"/>
      <field id="at2b_c_d" name="Issuer Authentication Data/Authorisation Response Code/Issuer Scripts" parentId="at2"  format="Var" mandatory="Note 45" description="" detailProvider="Abbrevia.Banking.Atm.SIMplicity.TlvDetailProvider, Abbrevia.Banking.Atm.SIMplicity, Version=1.0.5006.20195, Culture=neutral, PublicKeyToken=null" check="true" classification="Switch"/>
      <field id="ba1" name="Cheque Destination Buffer Data ID 'a'" format="1" mandatory="O" description="Cheque(s) Destination Buffer Data ID 'a'" check="true" classification="Switch"/>
      <field id="ba2" name="Cheque Destination Data" format="1" mandatory="O" description="Cheque(s) destination data '1' - Deposit cheque into pocket 1 '2' - Deposit cheque into pocket 2 '3' - Deposit cheque into pocket 3 'E' - Eject the cheque The host can determine the number of pockets present by retrieving the Hardware Configuration Data only message. If the Transaction Reply specifies a pocket which does not exist, the cheque will be captured to the reject pocket and the count for the reject pocket will be updated. If a Transaction Reply is sent that does not contain one of the above destination values (an invalid cheque destination field), a specific command reject with error code B13 - Unrecognised Document Destination will be returned. If the Transaction Reply does not include endorsement print data (see page 10-56), no endorsement data is printed and cheques are sent to pocket 2 (pocket 1 if only one pocket is available)." check="true" classification="Switch"/>
      <field id="bb1" name="Buffer ID 'b'" format="1" mandatory="O" 		description="Buffer ID 'b'" check="true" classification="Switch"/>
      <field id="bb2" name="Cheque Identifier" format="1" mandatory="O" 	description="Cheque Identifier" check="true" classification="Switch"/>
      <field id="bb3" name="Cheque Destination" format="1" mandatory="O" 	description="Cheque Destination" check="true" classification="Switch"/>
      <field id="bb4" name="Cheque Stamp" format="1" mandatory="O" 			description="Cheque Stamp" check="true" classification="Switch"/>
      <field id="bb5" name="Reserved" format="1" mandatory="O" 				description="Reserved" check="true" classification="Switch"/>
      <field id="bb6" name="Cheque Endorse Text" format="1" mandatory="O" 	description="Cheque Endorse Text" check="true" classification="Switch"/>
      <field id="y" name="Message Authentication Code (MAC) Data" format="8" mandatory="O" description="Message Authentication Code (MAC) Data. Contains the transmitted value for authentication of this message. The characters can be 0-9, A-F." check="true" classification="Switch"/>
      <!--field id="z" name="Trailer" format="Var" mandatory="M" description="Trailer. Protocol-dependent." check="true" classification="Switch"/-->
    </fields>
  </TransactionReply>
  <ReadyState displayName="ReadyState">
    <pattern options="34">
      ^
      (?&lt;b&gt;2)
      (?&lt;c&gt;2)
      \x1C
      (?&lt;d&gt;[^\x1C]{9}|[^\x1C]{3})
      \x1C\x1C
      (
      (?&lt;e&gt;[0-9A-F]{8})?
      \x1C
      )?
      (?&lt;f&gt;9|B)
      (
      (
      (?&lt;g&gt;\x1C[0-9A-F]{4})?
      (
      \x1D
      CAM
      \x1D
      (?&lt;CamData&gt;.*)
      )
      )
      |
      (
      \x1C
      (?&lt;g&gt;
      (?&lt;DeviceID&gt;[r])
      (?&lt;DeviceNotes&gt;
      (?&lt;NotesDepositedInDrums&gt;[0-9]{5})?
      \x1D
      (?&lt;DispenseTypeOfDrums&gt;[0-4])?
      \x1D
      (?&lt;SupplyStatusOfDrums&gt;[0-4])?
      \x1D
      (?&lt;ReActivationFlagOfDrumsn&gt;[01])?
      )+
      )
      )?
      |
      (
      (?&lt;g&gt;\x1Ce)?
      (?&lt;CamData&gt;.*)
      )?
      ) \z
    </pattern>
    <fields>
      <field id="b" name="Message Class" check="true" classification="ATM"/>
      <field id="c" name="Message Sub-Class" check="true" classification="ATM"/>
      <field id="d" name="Logical Unit Number (LUNO)" check="true" classification="ATM"/>
      <field id="f" name="Status Descriptor" check="true" classification="ATM"/>
      <field id="CamData" name="Central requested ICC data objects" check="true" classification="ATM"/>
    </fields>
  </ReadyState>
  <InteractiveResponse displayName="InteractiveResponse">
    <pattern options="34">
      ^
      (?&lt;b&gt;3)
      (?&lt;c&gt;.)?
      \x1C
      (?&lt;d&gt;[^\x1C]{9}|[^\x1C]{3})?
      \x1C
      (?&lt;e&gt;\d{3})?
      \x1C
      (?&lt;f&gt;2)
      (?&lt;g&gt;[0-2])
      (?&lt;h&gt;[^\x1C]{1,10})
      \x1C
      (?&lt;i&gt;\d{3})
      \x1C
      (?&lt;j&gt;[^\x1C]*)
      (?&lt;at&gt;
      \x1C
      (
      (
      (?&lt;at1&gt;5)
      (?&lt;at2&gt;
      (?&lt;at2a&gt;CAM)
      (?&lt;at2b_c_d&gt;[^\x1C]*)
      )
      )
      |
      (
      (?&lt;at1&gt;e)
      (?&lt;at2&gt;
      (?&lt;at2a&gt;(a|d))
      (?&lt;at2b_c_d&gt;[^\x1C]*)
      )
      )
      |
      (
      \x1C?
      (?&lt;at1&gt;e)
      (?&lt;at2&gt;
      (?&lt;at2a&gt;(a|d))
      (?&lt;at2b_c_d&gt;([0-9A-F][^\x1C])*)
      )
      )
      )?
      )?
      \z
    </pattern>
    <fields>
      <field id="b" name="Message Class" description="The message class is '3'." check="true" classification="Switch"/>
      <field id="c" name="Response Flag" description="This field is included for future use and is ignored by the terminal." check="true" classification="Switch"/>
      <field id="d" name="Logical Unit Number (LUNO)" description="This field is included for future use and is ignored by the treminal." check="true" classification="Switch"/>
      <field id="e" name="Message Sequence Number" description="This field is included for future use and is ignored by the terminal." check="true" classification="Switch"/>
      <field id="f" name="Message Sub-Class" description="The message sub-class is '2' - Interactive Transaction Response." check="true" classification="Switch"/>
      <field id="g" name="Display Flag" description="This one character field instructs the terminal display as follows: '0' - do not display carholder keyboard entry. '1' - display cardholder keyboard entry. '2' - display '*' for cardholder keyboard entry." check="true" classification="Switch"/>
      <field id="h" name="Active Keys/Touch Areas" description="This is a variable length field which activates the required keys or touch areas for cardholder responses." check="true" classification="Switch"/>
      <field id="i" name="Screen Timer Field" description="This three character field contains the time-out intervals from the cardholder screen display." check="true" classification="Switch"/>
      <field id="j" name="Screen Data Field" description="This is a variable-length field which represents data to be displayed on the cardholder screen." check="true" classification="Switch"/>
      <field id="at" name="Smart Card Data Buffer" format="" mandatory="" description="Smart Card Data" check="true" classification="Switch"/>
      <field id="at1" name="EMV ICC (Smart Card) data ID '5'" parentId="at" format="1" mandatory="Note 45" description="EMV ICC (Smart Card) data ID '5'" check="true" classification="Switch"/>
      <field id="at2" name="EMV ICC (Smart Card) data" parentId="at" format="Var" mandatory="Note 45" description="EMV ICC (Smart Card) data." check="true" classification="Switch"/>
      <field id="at2a" name="Smart Card Data Identifier" parentId="at2"  format="Var" mandatory="Note 45" description="'CAM' - Data in buffer is for CAM." check="true" classification="Switch"/>
      <field id="at2b_c_d" name="Issuer Authentication Data/Authorisation Response Code/Issuer Scripts" parentId="at2"  format="Var" mandatory="Note 45" description="" detailProvider="Abbrevia.Banking.Atm.SIMplicity.TlvDetailProvider, Abbrevia.Banking.Atm.SIMplicity, Version=1.0.5006.20195, Culture=neutral, PublicKeyToken=null" check="true" classification="Switch"/>
    </fields>
  </InteractiveResponse>
  <SolicitedDeviceFault displayName="SolicitedDeviceFault">
    <pattern options="34">
      ^
      (?&lt;b&gt;2)
      (?&lt;c&gt;2)
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})
      \x1C
      \x1C
      (
      (?&lt;e&gt;[0-9A-F]{8})?
      \x1C
      )?
      (
      (?&lt;f&gt;8)
      (
      \x1C
      (?&lt;g&gt;
      (?&lt;g1&gt;[0-9A-Fa-r]{1})
      (
      (
      (
      (?&lt;g2&gt;[0-9A-Fa-f]{0,17})?
      )
      (
      \x1C
      (?&lt;g3&gt;[0-9]{0,14})?
      )
      (
      \x1C
      (?&lt;g4&gt;[0-9A-Fa-f]*)?
      (
      \x1D
      CAM
      \x1D
      (?&lt;CamData&gt;.*)
      )?
      )
      (
      \x1C
      (?&lt;g5&gt;[0-9]{0,8})?
      )
      )
      )
      )
      )
      ([\x1C]
      (?&lt;h&gt;[0-9A-F]{8})
      )?
      )
      \z
    </pattern>
    <fields>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '2' - Solicited message." check = "true" classification = "ATM"/>
      <field id="c" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '2' - Status message." check = "true" classification = "ATM"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3 or 9" mandatory = "M" description = "Logical Unit Number (LUNO). This number is defined in a field transmitted to the terminal in a Configuration Parameters Load message. The default number is 000. If the data security feature is configured, an additional six characters are present which contain the machine number. For details, see the APTRA Advance NDC, Supervisor's Guide." check = "true" classification = "ATM"/>
      <field id="e" name = "Time Variant Number" format = "8" mandatory = "O" description = "Time Variant Number. Contains an eight-digit number derived from the time of day by the terminal for each status message. The digits can be 0-9, A-F." check = "true" classification = "ATM"/>
      <field id="f" name = "Status Descriptor" format = "1" mandatory = "M" description = "Status Descriptor. Describes the status message as follows: '8' Device Fault - This indicates that a terminal device is reporting abnormal status. This value is also used in a configuration ID status message. '9' Ready - This indicates that the instruction was completed successfully. 'A' Command Reject - This is inserted into the status descriptor field under the following conditions: 1. Terminal receives an illegal command. 2. Terminal receives illegal data from Central. 3. Terminal receives data while not in the correct mode. For more information, see the Message Validation section in Chapter 10, Central to Terminal Messages. 'B' Ready - This indicates that the Transaction Reply was successfully completed. (When separate 'Ready' for Transaction Reply commands option has been selected as a configuration parameter.) 'C' Specific Command Reject - This is sent to indicate a rejection of the message for authentication failure, or if the specific command reject option is set and a message is rejected that would otherwise generate a command reject 'A'. The status information field identifies the reason for rejection. 'F' Terminal State - This is sent in response to Terminal Commands requesting supply counters, terminal configuration information, or the date and time." check = "true" classification = "ATM"/>
      <field id="g" name = "Status Information" format = "Var" mandatory = "O" description = "Status Information. Additional status information is sent only when the status descriptor contains '8', 'C' or 'F'." check = "true" classification = "ATM"/>
      <field id="g1" name = "Device Identifier Graphics (DIG)" format = "1" mandatory = "M" description = "Device Identifier Graphic (DIG). The device identifier." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g2" name = "Transaction Status" format = "Var(17)" mandatory = "O" description = "Transaction Status. Contains information required to make a transaction completion decision." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g3" name = "Error Severity" format = "Var(14)" mandatory = "O" description = "Error Severity. Contains information required to decide whether to shut down or continue to use the SST. Each character is always coded in the same way: '0' No Error. Continue to use - no error has occurred. Diagnostic information follows. '1' Routine. Continue to use - a routine error has occurred and diagnostic information follows. '2' Warning. Continue to use, but it is recommended that the network operator be informed of the error or exception condition. Diagnostic information follows. '3' Suspend. This code indicates that the terminal will suspend transaction processing on completion of the current transaction (state 000 entered). This is sent if cardholder tampering is suspected. If no action is taken by Central, the terminal will attempt to go back in service in five minutes. Diagnostic information follows. '4' Fatal. This code indicates that the device is out-of-service and will continue to report fatal error until operator intervention at the terminal. It is recommended that the terminal is put out-of-service or that transactions involving the faulty device are not allowed." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g4" name = "Diagnostic Status" format = "Var" mandatory = "O" description = "Diagnostic Status. Used for logging errors. The field length may be omitted if there is no error condition to be reported. The field will always be present if preceded by an Error Severity field with a value of 1 or greater. The following vendor-specific rules are applied for all devices: Characters 1 and 2 contain a main error status value (M-Status) in the range 0-99, transmitted as two characters which give the decimal representation of the M-Status value. M-Status is used mainly as an error log to assist machine servicing. It may also be used in a transaction log to supplement Transaction status or Device status information. Note: For a GBRU with Enhanced Configuration option 78 set to 000, see GBRU to CDM M-Status Mapping on page 9-71 for the M-Status reporting. Characters 3 to n (M-Data) contain detailed diagnostic information related to the device. Each byte is transmitted as two characters. These give the hexadecimal representation of the value of the byte. Note: The data returned for devices is hardware-dependent, except for the EJ printer, where the data is application-driven. Note: Where an EPP is present, the data returned in this field is of the format 00mm. 00 is always returned in characters 1 and 2, and mm, in characters 3 to n, contains the value from byte 0 of the T-data." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g5" name = "Supplies Status" format = "Var(8)" mandatory = "O" description = "Supplies Status. Contains information about the state of supplies (paper, currency, magnetic cards, envelopes, inkwells, documents) in the terminal. This field contains 1 character for each supplies container managed by the device. Each character is always coded in the same way: '0' No New State. The state of the container can be assumed to be unchanged. '1' Good State. The state of the container is known to be good, for example, not low, empty or overfilled. '2' Media Low. '3' Media Out. '4' Overfill. The container has sensed a full condition and should be emptied. If this field is omitted, it can be assumed that there is 'no new state' on any container." check = "true" classification = "ATM" parentId = "g"/>
      <field id="h" name = "Message Authentication Code (MAC)" format = "8" mandatory = "O" description = "Message Authentication Code (MAC) Data. Contains the calculated value for authentication of this message. The characters are in the range 0-9 and A-F." check = "true" classification = "ATM"/>
    </fields>
  </SolicitedDeviceFault>
  <SolicitedCommandReject displayName="SolicitedCommandReject">
    <pattern options="34">
      ^
      (?&lt;b&gt;2)
      (?&lt;c&gt;2)
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})
      \x1C
      \x1C
      (
      (?&lt;e&gt;[0-9A-F]{8})?
      \x1C
      )?
      (?&lt;f&gt;A)
      \z
    </pattern>
    <fields>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '2' - Solicited message." check = "true" classification = "ATM"/>
      <field id="c" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '3' - Encryptor Initialisation Data." check = "true" classification = "ATM"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3 or 9" mandatory = "M" description = "Logical Unit Number (LUNO). This number is defined in a field transmitted to the terminal in a Configuration Parameters Load message. The default number is 000. If the data security feature is configured, an additional six characters are present which contain the machine number. For details, see the APTRA Advance NDC, Supervisor's Guide." check = "true" classification = "ATM"/>
      <field id="e" name = "Time Variant Number" format = "8" mandatory = "O" description = "Time Variant Number. Contains an eight-digit number derived from the time of day by the terminal for each status message. The digits can be 0-9, A-F." check = "true" classification = "ATM"/>
      <field id="f" name = "Status Descriptor" format = "1" mandatory = "M" description = "Status Descriptor. Describes the status message as follows: '8' Device Fault - This indicates that a terminal device is reporting abnormal status. This value is also used in a configuration ID status message. '9' Ready - This indicates that the instruction was completed successfully. 'A' Command Reject - This is inserted into the status descriptor field under the following conditions: 1. Terminal receives an illegal command. 2. Terminal receives illegal data from Central. 3. Terminal receives data while not in the correct mode. For more information, see the Message Validation section in Chapter 10, Central to Terminal Messages. 'B' Ready - This indicates that the Transaction Reply was successfully completed. (When separate 'Ready' for Transaction Reply commands option has been selected as a configuration parameter.) 'C' Specific Command Reject - This is sent to indicate a rejection of the message for authentication failure, or if the specific command reject option is set and a message is rejected that would otherwise generate a command reject 'A'. The status information field identifies the reason for rejection. 'F' Terminal State - This is sent in response to Terminal Commands requesting supply counters, terminal configuration information, or the date and time." check = "true" classification = "ATM"/>
    </fields>
  </SolicitedCommandReject>
  <SpecificCommandReject displayName="SpecificCommandReject">
    <pattern options="34">
      ^
      (?&lt;b&gt;2)
      (?&lt;c&gt;2)
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})
      \x1C
      \x1C
      (
      (?&lt;e&gt;[0-9A-F]{8})?
      \x1C
      )?
      (
      (?&lt;f&gt;C)
      (
      (
      \x1C
      (?&lt;g&gt;
      (?&lt;g1&gt;A|B|C|D|E)
      (?&lt;g2&gt;[0-9]{2})
      )?
      )
      |
      (
      \x1C
      (?&lt;g&gt;
      (?&lt;g1&gt;[1|2|3]{1})
      )
      )?
      )
      (
      [\x1C]
      (?&lt;h&gt;[0-9A-F]{8})
      )?
      )\z
    </pattern>
    <fields>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '2' - Solicited message." check = "true" classification = "ATM"/>
      <field id="c" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '2' - Status message." check = "true" classification = "ATM"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3 or 9" mandatory = "M" description = "Logical Unit Number (LUNO). This number is defined in a field transmitted to the terminal in a Configuration Parameters Load message. The default number is 000. If the data security feature is configured, an additional six characters are present which contain the machine number. For details, see the APTRA Advance NDC, Supervisor's Guide." check = "true" classification = "ATM"/>
      <field id="e" name = "Time Variant Number" format = "8" mandatory = "O" description = "Time Variant Number. Contains an eight-digit number derived from the time of day by the terminal for each status message. The digits can be 0-9, A-F." check = "true" classification = "ATM"/>
      <field id="f" name = "Status Descriptor" format = "1" mandatory = "M" description = "Status Descriptor. Describes the status message as follows: '8' Device Fault - This indicates that a terminal device is reporting abnormal status. This value is also used in a configuration ID status message. '9' Ready - This indicates that the instruction was completed successfully. 'A' Command Reject - This is inserted into the status descriptor field under the following conditions: 1. Terminal receives an illegal command. 2. Terminal receives illegal data from Central. 3. Terminal receives data while not in the correct mode. For more information, see the Message Validation section in Chapter 10, Central to Terminal Messages. 'B' Ready - This indicates that the Transaction Reply was successfully completed. (When separate 'Ready' for Transaction Reply commands option has been selected as a configuration parameter.) 'C' Specific Command Reject - This is sent to indicate a rejection of the message for authentication failure, or if the specific command reject option is set and a message is rejected that would otherwise generate a command reject 'A'. The status information field identifies the reason for rejection. 'F' Terminal State - This is sent in response to Terminal Commands requesting supply counters, terminal configuration information, or the date and time." check = "true" classification = "ATM"/>
      <field id="g" name = "Status Information" format = "Var" mandatory = "O" description = "Status Information. Additional status information is sent only when the status descriptor contains '8', 'C' or 'F'." check = "true" classification = "ATM"/>
      <field id="g1" name = "Status Value" format = "1" mandatory = "M" description = "Gives the reason for rejecting the command. Values are: '1' - MAC Failure. Result of MAC verification did not equal the MAC field in  the message.'2' - Time Variant Number Failure. The time variant number received in the last Transaction Reply message is not the same as the last transmitted value. '3' - Security Terminal Number Mismatch. The number received in the last transaction reply security terminal number is not the same as the number held in the terminal. 'A' - Message Format error. (g2) Status Qualifier: 01 Message length error. 02 Field Separator missing/unexpectedly found. 03 Transaction Reply message has too many print groups. 04 Group Separator missing/unexpectedly found. 07 Malformed XML. 08 XML does not conform to XML schema. 'B' - Field Value error. (g2) Status Qualifier: 01 Illegal Message Class. 02 Illegal Message Sub-Class or Identifier. 03 Illegal Encryption Key Change or Extended Encryption Key Change Message Modifier. 04 Illegal Terminal Command Code. 05 Illegal Terminal Command Modifier. 06 Illegal Transaction Reply Function Identifier. 07 Data field contains non-decimal digit. 08 Data field value out of range. 09 Invalid Message Co-Ordination number. 10 Illegal FIT number. 11 Too many notes in a dispense function. 12 Reserved 13 Unrecognised Document Destination. 14 Reserved 15 Unrecognised Buffer Identifier. 16 Reserved 17 Document Name Error. 18 The screen identifier is out of range. 19 Reserved 20 No data supplied to endorse cheque 21 Reserved 22 Invalid Encryption Key Size. 23 RSA Signature Verification Failed. 24 Signature or Encryption Key PKCS#1 Packing Failed. 25 Signature or Encryption Key PKCS#1 Unpacking Failed. 26 Invalid Signature or Encryption Key PKCS#1 Pad Block Type. 27 Fixed Header Decryption Failed. 28 Null Byte After Padding Missing. 29 Invalid Pad Byte Count. 34 Invalid/Incomplete Cheque Identifier(s). 35 Passbook update not supported in specified Transaction Reply Function. 'C' - Illegal Message type for current mode. (g2) Status Qualifier: 01 Message type only accepted while terminal is In-Service and expecting a Transaction Reply 02 Message not accepted while diagnostics is in progress. This is returned when the application has passed control to VDM 03 Message not accepted while in Out-of-Service or Supply mode 04 Message not accepted while in In-Service mode 05 Message not allowed while configured for NCR status message mode 06-09 Reserved 10 Message not accepted while processing a Transaction Reply. 11 Cheque not present in cheque processor transport while processing a Transaction Reply 12-14 Reserved 15 Encryption Key Change or Extended Encryption Key Change message not accepted during a cardholder transaction, or while the terminal is in suspend mode, or while the operator is initiating the execution of supervisory/ settlement transactions. 16 Reserved 17 Key change operation cannot be accepted in restricted encryption mode. This applies when an Extended Encryption Key Change message with modifier '3', '4', '6' or '7' is received in restricted mode. 18 Key entry mode not authorised. 'D' - Hardware Failure. (g2) Status Qualifier: 01 Encryption failure during Encryption Key Change or Extended Encryption Key Change message. 02 Time-of-Day Clock failure or invalid data sent during Date/Time Set command 03-05 Reserved 06 Insufficient disk space. 07 File IO error. 08 File not found. 'E' - Not Supported. (g2) Status Qualifier: 01 A DLL required to complete the transaction reply processing is missing. 02 Required device not configured. Also, sideways print on the receipt is requested, but either the printer does not have the capability or has not been configured for sideways printing. 03 Reserved 04 Reserved 05 Journal printer backup inactive" check = "true" classification = "ATM" parentId = "g"/>
      <field id="g2" name = "Status Qualifier" format = "2" mandatory = "O" description = "Present for status values 'A' - E'" check = "true" classification = "ATM" parentId = "g"/>
      <field id="h" name = "Message Authentication Code (MAC)" format = "8" mandatory = "O" description = "Message Authentication Code (MAC) Data. Contains the calculated value for authentication of this message. The characters are in the range 0-9 and A-F." check = "true" classification = "ATM"/>
    </fields>
  </SpecificCommandReject>
  <CommandReject displayName="CommandReject">
    <pattern options="34">
      ^
      (?&lt;b&gt;2)
      (?&lt;c&gt;2)
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})
      \x1C
      \x1C
      (
      (?&lt;e&gt;[0-9A-F]{8})?
      \x1C
      )?
      (
      (?&lt;f&gt;A)
      (
      (
      \x1C
      (?&lt;g&gt;
      (?&lt;g1&gt;A|B|C|D|E)
      (?&lt;g2&gt;[0-9]{2})
      )?
      )
      |
      (
      \x1C
      (?&lt;g&gt;
      (?&lt;g1&gt;[1|2|3]{1})
      )
      )?
      )
      (
      [\x1C]
      (?&lt;h&gt;[0-9A-F]{8})
      )?
      )\z
    </pattern>
    <fields>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '2' - Solicited message." check = "true" classification = "ATM"/>
      <field id="c" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '2' - Status message." check = "true" classification = "ATM"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3 or 9" mandatory = "M" description = "Logical Unit Number (LUNO). This number is defined in a field transmitted to the terminal in a Configuration Parameters Load message. The default number is 000. If the data security feature is configured, an additional six characters are present which contain the machine number. For details, see the APTRA Advance NDC, Supervisor's Guide." check = "true" classification = "ATM"/>
      <field id="e" name = "Time Variant Number" format = "8" mandatory = "O" description = "Time Variant Number. Contains an eight-digit number derived from the time of day by the terminal for each status message. The digits can be 0-9, A-F." check = "true" classification = "ATM"/>
      <field id="f" name = "Status Descriptor" format = "1" mandatory = "M" description = "Status Descriptor. Describes the status message as follows: '8' Device Fault - This indicates that a terminal device is reporting abnormal status. This value is also used in a configuration ID status message. '9' Ready - This indicates that the instruction was completed successfully. 'A' Command Reject - This is inserted into the status descriptor field under the following conditions: 1. Terminal receives an illegal command. 2. Terminal receives illegal data from Central. 3. Terminal receives data while not in the correct mode. For more information, see the Message Validation section in Chapter 10, Central to Terminal Messages. 'B' Ready - This indicates that the Transaction Reply was successfully completed. (When separate 'Ready' for Transaction Reply commands option has been selected as a configuration parameter.) 'C' Specific Command Reject - This is sent to indicate a rejection of the message for authentication failure, or if the specific command reject option is set and a message is rejected that would otherwise generate a command reject 'A'. The status information field identifies the reason for rejection. 'F' Terminal State - This is sent in response to Terminal Commands requesting supply counters, terminal configuration information, or the date and time." check = "true" classification = "ATM"/>
      <field id="g" name = "Status Information" format = "Var" mandatory = "O" description = "Status Information. Additional status information is sent only when the status descriptor contains '8', 'C' or 'F'." check = "true" classification = "ATM"/>
      <field id="g1" name = "Status Value" format = "1" mandatory = "M" description = "Gives the reason for rejecting the command. Values are: '1' - MAC Failure. Result of MAC verification did not equal the MAC field in  the message.'2' - Time Variant Number Failure. The time variant number received in the last Transaction Reply message is not the same as the last transmitted value. '3' - Security Terminal Number Mismatch. The number received in the last transaction reply security terminal number is not the same as the number held in the terminal. 'A' - Message Format error. (g2) Status Qualifier: 01 Message length error. 02 Field Separator missing/unexpectedly found. 03 Transaction Reply message has too many print groups. 04 Group Separator missing/unexpectedly found. 07 Malformed XML. 08 XML does not conform to XML schema. 'B' - Field Value error. (g2) Status Qualifier: 01 Illegal Message Class. 02 Illegal Message Sub-Class or Identifier. 03 Illegal Encryption Key Change or Extended Encryption Key Change Message Modifier. 04 Illegal Terminal Command Code. 05 Illegal Terminal Command Modifier. 06 Illegal Transaction Reply Function Identifier. 07 Data field contains non-decimal digit. 08 Data field value out of range. 09 Invalid Message Co-Ordination number. 10 Illegal FIT number. 11 Too many notes in a dispense function. 12 Reserved 13 Unrecognised Document Destination. 14 Reserved 15 Unrecognised Buffer Identifier. 16 Reserved 17 Document Name Error. 18 The screen identifier is out of range. 19 Reserved 20 No data supplied to endorse cheque 21 Reserved 22 Invalid Encryption Key Size. 23 RSA Signature Verification Failed. 24 Signature or Encryption Key PKCS#1 Packing Failed. 25 Signature or Encryption Key PKCS#1 Unpacking Failed. 26 Invalid Signature or Encryption Key PKCS#1 Pad Block Type. 27 Fixed Header Decryption Failed. 28 Null Byte After Padding Missing. 29 Invalid Pad Byte Count. 34 Invalid/Incomplete Cheque Identifier(s). 35 Passbook update not supported in specified Transaction Reply Function. 'C' - Illegal Message type for current mode. (g2) Status Qualifier: 01 Message type only accepted while terminal is In-Service and expecting a Transaction Reply 02 Message not accepted while diagnostics is in progress. This is returned when the application has passed control to VDM 03 Message not accepted while in Out-of-Service or Supply mode 04 Message not accepted while in In-Service mode 05 Message not allowed while configured for NCR status message mode 06-09 Reserved 10 Message not accepted while processing a Transaction Reply. 11 Cheque not present in cheque processor transport while processing a Transaction Reply 12-14 Reserved 15 Encryption Key Change or Extended Encryption Key Change message not accepted during a cardholder transaction, or while the terminal is in suspend mode, or while the operator is initiating the execution of supervisory/ settlement transactions. 16 Reserved 17 Key change operation cannot be accepted in restricted encryption mode. This applies when an Extended Encryption Key Change message with modifier '3', '4', '6' or '7' is received in restricted mode. 18 Key entry mode not authorised. 'D' - Hardware Failure. (g2) Status Qualifier: 01 Encryption failure during Encryption Key Change or Extended Encryption Key Change message. 02 Time-of-Day Clock failure or invalid data sent during Date/Time Set command 03-05 Reserved 06 Insufficient disk space. 07 File IO error. 08 File not found. 'E' - Not Supported. (g2) Status Qualifier: 01 A DLL required to complete the transaction reply processing is missing. 02 Required device not configured. Also, sideways print on the receipt is requested, but either the printer does not have the capability or has not been configured for sideways printing. 03 Reserved 04 Reserved 05 Journal printer backup inactive" check = "true" classification = "ATM" parentId = "g"/>
      <field id="g2" name = "Status Qualifier" format = "2" mandatory = "O" description = "Present for status values 'A' - E'" check = "true" classification = "ATM" parentId = "g"/>
      <field id="h" name = "Message Authentication Code (MAC)" format = "8" mandatory = "O" description = "Message Authentication Code (MAC) Data. Contains the calculated value for authentication of this message. The characters are in the range 0-9 and A-F." check = "true" classification = "ATM"/>
    </fields>
  </CommandReject>
  <EncryptorDataMessage displayName="EncryptorDataMessage">
    <pattern options="34">
      ^
      (?&lt;b&gt;2)
      (?&lt;c&gt;3)
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})
      \x1C
      \x1C
      (?&lt;e&gt;[0-9]{1})
      \x1C
      (
      (?&lt;f&gt;[\x20-\x7E]*)?
      )\z
    </pattern>
    <fields>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '2' - Solicited message." check = "true" classification = "ATM"/>
      <field id="c" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '3' - Encryptor Initialisation Data." check = "true" classification = "ATM"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3 or 9" mandatory = "M" description = "Logical Unit Number (LUNO). This number is defined in a field transmitted to the terminal in a Configuration Parameters Load message. The default number is 000. If the data security feature is configured, an additional six characters are present which contain the machine number. For details, see the APTRA Advance NDC, Supervisor's Guide." check = "true" classification = "ATM"/>
      <field id="e" name = "Information Identifier." format = "1" mandatory = "M" description = "Information Identifier. Identifies the type of information sent, as follows:'1' EPP serial number and signature '2' EPP public key and signature '3' New Key Verification Value (KVV) '4' Keys status '5' Key loaded '6' Key entry mode '7' RSA encryption KVV '8' SST certificate '9' SST random number 'A' PKCS7 key loaded 'B' Encryptor capabilities and state 'C' Key deleted 'D' EPP attributes 'E' Variable-length EPP serial number and signature" check = "true" classification = "ATM"/>
      <field id="f" name = "Encryptor Information" format = "Var" mandatory = "O" description = "Encryptor Information, dependent on the Information Identifier in field 'e', as follows: When Information Identifier = '1': 8 EPP Serial Number 320 EPP Serial Number Signature, created using the RSA NCR key, and base 94 encoded. For further details of EPP authentication and base 94 encoding, see EPP Authentication Process on page 11-18 and Base 94 Encoding and Decoding on page 11-26. When Information Identifier = '2': 320 EPP Public Key (PK-EPP), base 94 encoded. The exponent of the EPP Public Key is always 65537, and is therefore not sent to Central. 320 EPP Public Key Signature, created using the RSA NCR key, and base 94 encoded. For further details of EPP authentication and base 94 encoding, see EPP Authentication Process on page 11-18 and Base 94 Encoding and Decoding on page 11-26. When Information Identifier = '3': 6 or 72 New KVV for key just loaded or reactivated When Information Identifier = '4': Keys Status, containing KVVs as follows: Master Key KVV Communications Key KVV MAC Key KVV B Key KVV If a key has not been loaded, its KVV will be six zeroes. If the hardware does not allow a KVV to be generated, 6 spaces (0x20) will be reported Note: Central should accept a variable length Key Status field, in case new keys need to be added in the future. For details of the calculation of KVVs, see Key Verification Values on page 11-17. When Information Identifier = '5': For Key Loaded, this field is absent. When Information Identifier = '6': Key Entry Mode, a single character in the range '1' to '4' as follows: '1' Single length without XOR '2' Single length with XOR '3' Double length with XOR '4' Double length, restricted. When Information Identifier = '7' Binary data length RSA KVV base 94 encoded When Information Identifier = '8' Binary data length SST certificate base 94 encoded When Information Identifier = '9' SST random number, ASCII hexadecimal encoded. When Information Identifier = 'A' KVV of new DES key Binary data length Key Load Acknowledgement Packet, base 94 encoded See Table Note 83 When Information Identifier = 'B' Remote Key Protocol, two characters in the range '00' to '06' as follows: '00' None '01' Signature '02' Certificate '03' Signature and certificate '04' Enhanced signature '06' Enhanced signature and certificate Certificate state '00' Not ready or not supported '01' Certificate primary '02' Certificate secondary EPP Variable Length Serial Number Capability See Table Note 84 '0' Variable length EPP serial numbers not supported See Table Note 85 '1' Variable length EPP serial numbers supported See Table Note 86 When Information Identifier = 'C' For Key Deleted, this field is absent When Information Identifier = 'D' EPP attributes are defined as follows: '0' EPP Vendor Company Name Identifier Alphanumeric characters that define the EPP vendor company name as registered with PCI Group Separator '1' EPP Model Identifier Data Identifier Alphanumeric characters that define the EPP model identifier as registered with PCI Group Separator '2' EPP Hardware Identifier Data Identifier Alphanumeric characters that define the EPP hardware identifier as registered with PCI Group Separator '3' EPP Firmware Identifier(s) Data Identifier Alphanumeric characters that define the EPP firmware module identifiers as registered with PCI. Group Separator '4' EPP Application Identifier(s) Data identifier Alphanumeric characters that define the application module identifiers as registered with PCI When Information Identifier = 'E' The Variable-length EPP serial number and signature are returned as follows: EPP serial number (SN-EPP) Group Separator SN-EPP multiplied by SK-Vendor, base 94 encoded" check = "true" classification = "ATM"/>
    </fields>
  </EncryptorDataMessage>
  <UnsolicitedStatus displayName="UnsolicitedStatus">
    <pattern options="34">
      ^
      (?&lt;b&gt;1)
      (?&lt;c&gt;2)
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})
      \x1C
      \x1C
      (?&lt;e&gt;
      (?&lt;e1&gt;[0-9A-Za-z]{1})
      (?&lt;e2&gt;[\x20-\x7E]{0,154})?
      (?&lt;e3&gt;\x1C?[\x20-\x7E]{0,14})?
      (?&lt;e4&gt;\x1C?[\x20-\x7E]*)?
      (?&lt;e5&gt;\x1C?[\x20-\x7E]{0,8})?
      )
      (?&lt;f&gt;[\x20-\x30]*)
      \z
    </pattern>
    <fields>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '1' - Unsolicited message." check = "true" classification = "ATM"/>
      <field id="c" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '2' - Status message." check = "true" classification = "ATM"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3 or 9" mandatory = "O" description = "Logical Unit Number (LUNO). This number is defined in a field transmitted to the terminal in a Configuration Parameters Load message. The default is 000. If the data security feature is configured, an additional six characters are present. These contain the security terminal number." check = "true" classification = "ATM"/>
      <field id="e" name = "Status Information" format = "Var" mandatory = "M" description = "Status Information. The content of this field varies according to the message mode selected at installation time." check = "true" classification = "ATM"/>
      <field id="f" name = "Trailer." format = "Var" mandatory = "M" description = "Trailer. Protocol-dependent." check = "true" classification = "ATM"/>
    </fields>
  </UnsolicitedStatus>
  <UnsolicitedDeviceFault displayName="UnsolicitedDeviceFault">
    <pattern options="34">
      ^
      (?&lt;b&gt;1)
      (?&lt;c&gt;2)
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})
      \x1C
      \x1C
      (?&lt;e&gt;
      (?&lt;e1_e2_e3_e4&gt;
      (?&lt;e1&gt;r)
      (?&lt;e2&gt;[0-9])
      \x1C
      (?&lt;e3&gt;[0-9])?
      \x1C
      (?&lt;e4&gt;[0-9]{2})
      (?&lt;e5&gt;[^\x1C]*)
      (?&lt;e6&gt;
      \x1C
      (?&lt;e7&gt;[0-4])
      \x1C
      (?&lt;e8&gt;[0-9\x31-\x7E])
      (?&lt;e9_e10_e11_e12_e13_e14&gt;
      \x1C
      (?&lt;e9&gt;[^\x1D]+)?
      \x1D
      (?&lt;e10&gt;[^\x1D]+)?
      \x1D
      (?&lt;e11&gt;[^\x1C]+)?
      \x1C
      (?&lt;e12&gt;[^\x1D]{1,79})?
      \x1D?
      (?&lt;e13&gt;[^\x1D]{1,39})?
      \x1D?
      (?&lt;e14&gt;[^\x1D]{1,136})?
      )?
      )?
      )?
      |
      (?&lt;e1_e2_e3_e4&gt;
      (?&lt;e1&gt;[0-9A-Za-z]{1})
      (?&lt;e2&gt;[\x20-\x7E]{0,154})?
      (?&lt;e3&gt;\x1C?[\x20-\x7E]{0,14})?
      (?&lt;e4&gt;\x1C?[\x20-\x7E]*)?
      (?&lt;e5&gt;\x1C?[\x20-\x7E]{0,8})?
      )?
      )?
      (?&lt;f&gt;[\x20-\x30]*)
      \z
    </pattern>
    <fields>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '1' - Unsolicited message." check = "true" classification = "ATM"/>
      <field id="c" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '2' - Status message." check = "true" classification = "ATM"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3 or 9" mandatory = "O" description = "Logical Unit Number (LUNO). This number is defined in a field transmitted to the terminal in a Configuration Parameters Load message. The default is 000. If the data security feature is configured, an additional six characters are present. These contain the security terminal number." check = "true" classification = "ATM"/>
      <field id="e" name = "Status Information" format = "Var" mandatory = "M" description = "Status Information. The content of this field varies according to the message mode selected at installation time." check = "true" classification = "ATM"/>
      <field id="f" name = "Trailer." format = "Var" mandatory = "M" description = "Trailer. Protocol-dependent." check = "true" classification = "ATM"/>
    </fields>
  </UnsolicitedDeviceFault>
  <UnsolicitedStatusInfo displayName="UnsolicitedStatusInfo">
    <pattern options="34">
      ^
      (?&lt;b&gt;1)
      (?&lt;c&gt;2)
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})
      \x1C
      \x1C
      (?&lt;e&gt;
      (?&lt;e1&gt;[0-9A-Za-z]{1})
      (?&lt;e2&gt;[\x20-\x7E]{0,154})?
      (?&lt;e3&gt;\x1C?[\x20-\x7E]{0,14})?
      (?&lt;e4&gt;\x1C?[\x20-\x7E]*)?
      (?&lt;e5&gt;\x1C?[\x20-\x7E]{0,8})?
      )
      (?&lt;f&gt;[\x20-\x30]*)
      \z
    </pattern>
    <fields>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '1' - Unsolicited message." check = "true" classification = "ATM"/>
      <field id="c" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '2' - Status message." check = "true" classification = "ATM"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3 or 9" mandatory = "O" description = "Logical Unit Number (LUNO). This number is defined in a field transmitted to the terminal in a Configuration Parameters Load message. The default is 000. If the data security feature is configured, an additional six characters are present. These contain the security terminal number." check = "true" classification = "ATM"/>
      <field id="e" name = "Status Information" format = "Var" mandatory = "M" description = "Status Information. The content of this field varies according to the message mode selected at installation time." check = "true" classification = "ATM"/>
      <field id="f" name = "Trailer." format = "Var" mandatory = "M" description = "Trailer. Protocol-dependent." check = "true" classification = "ATM"/>
    </fields>
  </UnsolicitedStatusInfo>
  <H0031TerminalStatusInfo displayName="H0031TerminalStatusInfo">
    <pattern options="34">
      ^
      (?&lt;b&gt;2)
      (?&lt;c&gt;2)
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})
      \x1C
      \x1C
      (
      (?&lt;e&gt;[0-9A-F]{8})?
      \x1C
      )?
      (
      (?&lt;f&gt;F)
      (\x1C
      (?&lt;g&gt;
      (?&lt;g1&gt;1)
      (?&lt;g2&gt;[0-9]{4})
      \x1C
      (
      (?&lt;g3&gt;[0-4]{22})
      |
      (?&lt;g3&gt;[0-4]{38})
      )
      \x1C
      (
      (
      (?&lt;g4&gt;[\x20-\x7E]{44})
      |
      (?&lt;g4&gt;[\x20-\x7E]{76})
      )
      (
      \x1D
      CAM
      \x1D
      (?&lt;CamData&gt;.*)
      )?
      )
      \x1C
      (
      (?&lt;g5&gt;[0-4]{23})
      |
      (?&lt;g5&gt;[0-4]{26})
      )
      \x1C
      (
      (?&lt;g6&gt;[0-9]{5})
      |
      (?&lt;g6&gt;[0-9]{12})
      )
      (
      \x1C
      (?&lt;g7&gt;[0-9]{6})
      )?
      (
      \x1C
      (?&lt;g8&gt;[0-9A-Fa-f]{9})
      )?
      )
      )
      (
      [\x1C]
      (?&lt;h&gt;[0-9A-F]{8})
      )?
      )
      \z
    </pattern>
    <fields>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '2' - Solicited message." check = "true" classification = "ATM"/>
      <field id="c" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '2' - Status message." check = "true" classification = "ATM"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3 or 9" mandatory = "M" description = "Logical Unit Number (LUNO). This number is defined in a field transmitted to the terminal in a Configuration Parameters Load message. The default number is 000. If the data security feature is configured, an additional six characters are present which contain the machine number. For details, see the APTRA Advance NDC, Supervisor's Guide." check = "true" classification = "ATM"/>
      <field id="e" name = "Time Variant Number" format = "8" mandatory = "O" description = "Time Variant Number. Contains an eight-digit number derived from the time of day by the terminal for each status message. The digits can be 0-9, A-F." check = "true" classification = "ATM"/>
      <field id="f" name = "Status Descriptor" format = "1" mandatory = "M" description = "Status Descriptor. Describes the status message as follows: '8' Device Fault - This indicates that a terminal device is reporting abnormal status. This value is also used in a configuration ID status message. '9' Ready - This indicates that the instruction was completed successfully. 'A' Command Reject - This is inserted into the status descriptor field under the following conditions: 1. Terminal receives an illegal command. 2. Terminal receives illegal data from Central. 3. Terminal receives data while not in the correct mode. For more information, see the Message Validation section in Chapter 10, Central to Terminal Messages. 'B' Ready - This indicates that the Transaction Reply was successfully completed. (When separate 'Ready' for Transaction Reply commands option has been selected as a configuration parameter.) 'C' Specific Command Reject - This is sent to indicate a rejection of the message for authentication failure, or if the specific command reject option is set and a message is rejected that would otherwise generate a command reject 'A'. The status information field identifies the reason for rejection. 'F' Terminal State - This is sent in response to Terminal Commands requesting supply counters, terminal configuration information, or the date and time." check = "true" classification = "ATM"/>
      <field id="g" name = "Status Information" format = "Var" mandatory = "O" description = "Status Information. Additional status information is sent only when the status descriptor contains '8', 'C' or 'F'." check = "true" classification = "ATM"/>
      <field id="g1" name = "Message Identifier" format = "1" mandatory = "M" description = "This message is sent to Central in response to a Send Configuration Information Terminal Command message and has identifier '1'" check = "true" classification = "ATM" parentId = "g"/>
      <field id="g2" name = "Configuration ID" format = "4" mandatory = "M" description = "Contains the last four-digit configuration ID numbers (00009999) sent to the terminal from Central" check = "true" classification = "ATM" parentId = "g"/>
      <field id="g3" name = "Hardware Fitness" format = "22 or 38" mandatory = "M" description = "Contains one byte for each device or major device resource. The position of the byte identifies the device; the byte indicates the fitness status." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g4" name = "Hardware Configuration" format = "44 or 76" mandatory = "M" description = "Contains information for each device indicating whether or not it is configured. If configured, it gives details of which option, if any, is configured" check = "true" classification = "ATM" parentId = "g"/>
      <field id="g5" name = "Supplies Status" format = "23 or 26" mandatory = "M" description = "Contains one byte per type of media container or resource. The position of the byte identifies the media resource; the byte indicates the supplies status." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g6" name = "Sensor Status" format = "5 or 12" mandatory = "M" description = "Contains one byte per type of media container or resource. The poContains one byte per sensor and is identical to the information reported in characters 2-13 of the Sensors Status message included later in this chapter. As in the status messages, TI sensors are only reported if the TI feature is configured. The number of characters is always twelve if fields 'g7' and 'g8' are present. The last seven bytes are blank if no TI is presentition of the byte identifies the media resource; the byte indicates the supplies status." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g7" name = "Advance NDC Release Number" format = "6" mandatory = "O" description = "Contains a six-digit decimal number. The first pair of digits represents the release number. The second pair of digits represents the point release number. The third pair of digits represents the patch release number." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g8" name = "Advance NDC Software ID" format = "9" mandatory = "O" description = "Contains the Advance NDC Software ID. The field takes the following values: G531-0283 (Advance NDC package) If the Advance NDC software ID is unavailable, this field contains nine blanks." check = "true" classification = "ATM" parentId = "g"/>
      <field id="h" name = "Message Authentication Code (MAC)" format = "8" mandatory = "O" description = "Message Authentication Code (MAC) Data. Contains the calculated value for authentication of this message. The characters are in the range 0-9 and A-F." check = "true" classification = "ATM"/>
    </fields>
  </H0031TerminalStatusInfo>
  <H0032TerminalStatusInfo displayName="H0032TerminalStatusInfo">
    <pattern options="34">
      ^
      (?&lt;b&gt;2)
      (?&lt;c&gt;2)
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})
      \x1C
      \x1C
      (
      (?&lt;e&gt;[0-9A-F]{8})?
      \x1C
      )?
      (
      (?&lt;f&gt;F)
      (
      \x1C
      (?&lt;g&gt;
      (?&lt;g1&gt;2)
      (?&lt;g2&gt;[0-9]{4})
      (?&lt;g3&gt;[0-9]{7})
      (
      (?&lt;g4&gt;[0-9]{20})
      (
      \x1D
      CAM
      \x1D
      (?&lt;CamData&gt;.*)
      )?
      )
      (?&lt;g5&gt;[0-9]{20})
      (?&lt;g6&gt;[0-9]{20})
      (?&lt;g7&gt;[0-9]{20})
      (?&lt;g8&gt;[0-9]{5})
      (?&lt;g9&gt;[0-9]{5})
      (?&lt;g10&gt;[0-9]{5})
      (?&lt;g11&gt;[0-9]{5})
      (
      (?&lt;g12&gt;[\x20-\x7E]{1})?
      )
      (
      (
      \x1D
      (?&lt;g20_22&gt;[\x20-\x7E]{0,15})?
      )?
      )
      (
      (
      \x1D
      (?&lt;g30_32&gt;[\x20-\x7E]{0,15})?
      )?
      )
      (
      (
      \x1D
      (?&lt;g40_4x&gt;[\x20-\x7E]*)?
      )?
      )
      (
      (
      \x1D
      (?&lt;g50_53&gt;[\x20-\x7E]{0,20})?
      )?
      )
      (
      (
      \x1D
      (?&lt;g60_62&gt;[\x20-\x7E]{0,60})?
      )?
      )
      (
      (
      \x1D
      (?&lt;g70&gt;[0-9]{5})?
      (?&lt;g71&gt;[0-9]{5})?
      (?&lt;g72&gt;[0-9]{5})?
      (?&lt;g73&gt;[0-9]{5})?
      )?
      )
      (
      (
      \x1D
      (?&lt;g80_89&gt;[\x20-\x7E]{0,5})?
      )?
      )
      (
      (
      \x1D
      (?&lt;g90_99&gt;[\x20-\x7E]{0,5})?
      )?
      )
      (
      (
      \x1D
      (?&lt;g100_109&gt;[\x20-\x7E]{0,5})?
      )?
      )
      (
      (
      \x1D
      (?&lt;g110_119&gt;[\x20-\x7E]{0,5})?
      )?
      )
      (
      (
      \x1D
      (?&lt;g120&gt;[0-9]{5})?
      (?&lt;g121&gt;[0-9]{5})?
      (?&lt;g122&gt;[0-9]{5})?
      (?&lt;g12n&gt;[0-9][\x20-\x7E]*)?
      )?
      )
      (
      (
      \x1D
      (?&lt;g130_g139&gt;[0-9]{5})?
      )?
      )
      (
      (
      \x1D
      (?&lt;g140&gt;[0-9]{5})?
      )?
      )
      (
      (
      \x1D
      (?&lt;g150_g154&gt;[0-9]{5})?
      )?
      )
      (
      (
      \x1D
      (?&lt;g160&gt;[0-9]{5})?
      )?
      )
      )
      )
      )
      (
      [\x1C]
      (?&lt;h&gt;[0-9A-F]{8})
      )?
      \z
    </pattern>
    <fields>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '2' - Solicited message." check = "true" classification = "ATM"/>
      <field id="c" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '2' - Status message." check = "true" classification = "ATM"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3 or 9" mandatory = "M" description = "Logical Unit Number (LUNO). This number is defined in a field transmitted to the terminal in a Configuration Parameters Load message. The default number is 000. If the data security feature is configured, an additional six characters are present which contain the machine number. For details, see the APTRA Advance NDC, Supervisor's Guide." check = "true" classification = "ATM"/>
      <field id="e" name = "Time Variant Number" format = "8" mandatory = "O" description = "Time Variant Number. Contains an eight-digit number derived from the time of day by the terminal for each status message. The digits can be 0-9, A-F." check = "true" classification = "ATM"/>
      <field id="f" name = "Status Descriptor" format = "1" mandatory = "M" description = "Status Descriptor. Describes the status message as follows: '8' Device Fault - This indicates that a terminal device is reporting abnormal status. This value is also used in a configuration ID status message. '9' Ready - This indicates that the instruction was completed successfully. 'A' Command Reject - This is inserted into the status descriptor field under the following conditions: 1. Terminal receives an illegal command. 2. Terminal receives illegal data from Central. 3. Terminal receives data while not in the correct mode. For more information, see the Message Validation section in Chapter 10, Central to Terminal Messages. 'B' Ready - This indicates that the Transaction Reply was successfully completed. (When separate 'Ready' for Transaction Reply commands option has been selected as a configuration parameter.) 'C' Specific Command Reject - This is sent to indicate a rejection of the message for authentication failure, or if the specific command reject option is set and a message is rejected that would otherwise generate a command reject 'A'. The status information field identifies the reason for rejection. 'F' Terminal State - This is sent in response to Terminal Commands requesting supply counters, terminal configuration information, or the date and time." check = "true" classification = "ATM"/>
      <field id="g" name = "Status Information" format = "Var" mandatory = "O" description = "Status Information. Additional status information is sent only when the status descriptor contains '8', 'C' or 'F'." check = "true" classification = "ATM"/>
      <field id="g1" name = "Message Identifier" format = "1" mandatory = "M" description = "This message has identifier '2'." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g2" name = "Transaction Serial Number (TSN)" format = "4" mandatory = "M" description = "Transaction Serial Number (TSN). Contains the TSN of the last transaction processed by the terminal. If this does not correspond to the last TSN sent by Central, it means that the transaction has not been initiated and the counters have not been updated." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g3" name = "Accumulated Transaction Count" format = "7" mandatory = "M" description = "Accumulated Transaction Count. Defines the total number of detected transaction attempts since the terminal was installed or the non-volatile terminal memory was last corrupted. The count is reset to 0 after 9,999,999 transactions. A transaction attempt is detected when it is recognised that the TSN received from Central is different from the previously received TSN." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g4" name = "Notes In Cassettes" format = "20" mandatory = "M" description = "Notes In Cassettes. Consists of four five-digit decimal counts of the total number of notes remaining in cassette types 1, 2, 3 and 4. The counts are set by supervisor functions and are decremented on each dispense transaction. These counts are zero if not set by an 'Add Cash' or 'Set Standard Cash' supervisor function. The count contains 65535 (the decimal equivalent of 0FFFF hex) if more notes have been dispensed from a cassette than it has been set to contain, or if notes are dispensed from a cassette type that has not been set. If dual cash handlers are used, the combined number of notes for the cassette type is reported. Only four cassette types are reported, regardless of the setting of the Enhanced Configuration option 76." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g5" name = "Notes Rejected" format = "20" mandatory = "M" description = "Notes Rejected. Consists of four five-digit decimal counts of the total number of notes moved to the reject bin from cassette types 1, 2, 3 and 4. If dual cash handlers are used, the combined number of notes for the cassette type is reported. Only four cassette types are reported, regardless of the setting of the Enhanced Configuration option 76. Although fields 'g4' and 'g5' may not be totally accurate, the sum of these counts for a particular cassette type does accurately represent the difference between the original number of notes added and the number of notes dispensed." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g6" name = "Notes Dispensed" format = "20" mandatory = "M" description = "Notes Dispensed. Consists of four five-digit decimal counts of the total number of notes dispensed from cassette types 1, 2, 3 and 4. These counts are consistent with note counts reported since the counts were last cleared by a supervisor transaction. If dual cash handlers are used, the combined number of notes for the cassette type is reported. Only four cassette types are reported, regardless of the setting of the Enhanced Configuration option 76. If a transaction is prematurely stopped by a power failure, these counts are updated to reflect the number of notes dispensed up to the time of power failure." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g7" name = "Last Transaction Notes Dispensed" format = "20" mandatory = "M" description = "Last Transaction Notes Dispensed. Consists of four five-digit decimal counts of the number of notes dispensed on the last transaction processed by the terminal. This field allows Central to recover note counts after power failure, even if the power failure occurred in the middle of a dispense operation." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g8" name = "Cards Captured" format = "5" mandatory = "M" description = "Cards Captured. Consists of one five-digit decimal count of the number of cards captured since the count was cleared by a supervisor transaction. The count includes cards captured up to and including the transaction defined in field 'g2'." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g9" name = "Envelopes Deposited" format = "5" mandatory = "M" description = "Envelopes Deposited. Consists of one five-digit decimal count of the number of envelopes deposited since the count was last cleared by a Supervisor transaction. The count includes envelopes deposited up to and including the transaction defined in field 'g2'." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g10" name = "Camera Film Remaining" format = "5" mandatory = "M" description = "Camera Film Remaining. The camera film remaining is always 00000." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g11" name = "Last Envelope Serial Number" format = "5" mandatory = "M" description = "Last Envelope Serial Number. This is always 00000." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g12" name = "Reserved" format = "1" mandatory = "O" description = "Reserved." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g20_g22" name = "Reserved" format = "Var(15)" mandatory = "O" description = "Reserved." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g30_g32" name = "Reserved" format = "Var(15)" mandatory = "O" description = "Reserved." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g40_g4x" name = "Reserved" format = "Var(x)" mandatory = "O" description = "Reserved." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g50_g53" name = "Reserved" format = "Var(20)" mandatory = "O" description = "Reserved." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g60" name = "Coins remaining" format = "Var(20)" mandatory = "O" description = "Coins remaining" check = "true" classification = "ATM" parentId = "g"/>
      <field id="g61" name = "Coins dispensed" format = "Var(20)" mandatory = "O" description = "Coins dispensed" check = "true" classification = "ATM" parentId = "g"/>
      <field id="g62" name = "Last Transaction Coin Dispensed" format = "Var(20)" mandatory = "O" description = "Last transaction coins dispensed" check = "true" classification = "ATM" parentId = "g"/>
      <field id="g70" name = "Total Notes Refunded" format = "5" mandatory = "O" description = "Total notes refunded" check = "true" classification = "ATM" parentId = "g"/>
      <field id="g71" name = "Total Notes Rejected" format = "5" mandatory = "O" description = "Total notes rejected" check = "true" classification = "ATM" parentId = "g"/>
      <field id="g72" name = "Total Notes Encashed" format = "5" mandatory = "O" description = "Total notes encashed" check = "true" classification = "ATM" parentId = "g"/>
      <field id="g73" name = "Total Notes Escrowed" format = "5" mandatory = "O" description = "Total notes escrowed" check = "true" classification = "ATM" parentId = "g"/>
      <field id="g80_g89" name = "Reserved" format = "5" mandatory = "O" description = "Reserved." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g90_g99" name = "Reserved" format = "5" mandatory = "O" description = "Reserved." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g100_g109" name = "Reserved" format = "5" mandatory = "O" description = "Reserved." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g110_g119" name = "Reserved" format = "5" mandatory = "O" description = "Reserved." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g120" name = "Cheque Processor Cheques deposited into BIN 1" format = "5" mandatory = "O" description = "Cheque processor cheques deposited into BIN1" check = "true" classification = "ATM" parentId = "g"/>
      <field id="g121" name = "Cheque Processor Cheques deposited into reject/retain BIN 2" format = "5" mandatory = "O" description = "Cheque processor cheques deposited into reject/retain BIN2" check = "true" classification = "ATM" parentId = "g"/>
      <field id="g122" name = "Cheque Processor Cheques deposited into BIN 3" format = "5" mandatory = "O" description = "Cheque processor cheques deposited into BIN3" check = "true" classification = "ATM" parentId = "g"/>
      <field id="g12n" name = "Cheque Processor Cheques deposited into BINn-1" format = "5" mandatory = "O" description = "Cheque processor cheques deposited into BINn-1" check = "true" classification = "ATM" parentId = "g"/>
      <field id="g130_g139" name = "Reserved" format = "5" mandatory = "O" description = "Reserved." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g140" name = "Reserved" format = "5" mandatory = "O" description = "Reserved." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g140_g154" name = "Reserved" format = "5" mandatory = "O" description = "Reserved." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g160" name = "Number of passbooks captured" format = "5" mandatory = "O" description = "Number of passbooks captured." check = "true" classification = "ATM" parentId = "g"/>
      <field id="h" name = "Message Authentication Code (MAC)" format = "84O" description = "Message Authentication Code (MAC) Data. Contains the calculated value for authentication of this message. The characters are in the range 0-9 and A-F." check = "true" classification = "ATM"/>
    </fields>
  </H0032TerminalStatusInfo>
  <H0037TerminalStatusInfo displayName="H0037TerminalStatusInfo">
    <pattern options="34">
      ^
      (?&lt;b&gt;2)
      (?&lt;c&gt;2)
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})
      \x1C
      \x1C
      (
      (?&lt;e&gt;[0-9A-F]{8})?
      \x1C
      )?
      (?&lt;f&gt;F)
      (
      \x1C
      (?&lt;g&gt;
      (?&lt;g1&gt;7)
      (?&lt;g2&gt;A)
      (?&lt;g3&gt;[0-9]{4})
      (?&lt;g4&gt;[0-9]{7})
      (
      (?&lt;g4&gt;[0-9]{7})
      (
      \x1D
      CAM
      \x1D
      (?&lt;CamData&gt;.*)
      )?
      )?
      \x1D?
      (?&lt;g5&gt;B)
      (?&lt;g6&gt;[0-9]{5})
      \x1D?
      (?&lt;g7&gt;C)
      (?&lt;g8_g13&gt;
      (?&lt;g8&gt;[0-9]{3})
      (?&lt;g9&gt;[0-9]{5})
      (?&lt;g10&gt;[0-9]{5})
      (?&lt;g11&gt;[0-9]{5})
      (?&lt;g12&gt;[0-9]{5})
      (?&lt;g13&gt;00000)?
      )*
      \x1D?
      (?&lt;g14_20&gt;
      (?&lt;g14&gt;D)
      (?&lt;g15_g20&gt;
      (?&lt;g15&gt;[0-9]{3})
      (?&lt;g16&gt;[0-9]{5})
      (?&lt;g17&gt;[0-9]{5})
      (?&lt;g18&gt;[0-9]{5})
      (?&lt;g19&gt;[0-9]{5})
      (?&lt;g20&gt;[0-9]{5})
      )*
      \x1D?
      )?
      (?&lt;g21_26&gt;
      (?&lt;g21&gt;E)
      (?&lt;g22_26&gt;
      (?&lt;g22&gt;[0-9]{2})
      (?&lt;g23&gt;[0-9]{5})
      (?&lt;g24&gt;[0-9]{5})
      (?&lt;g25&gt;[0-9]{5})
      (?&lt;g26&gt;[0-9]{5})
      )*
      \x1D?
      )?
      (?&lt;g27_29&gt;
      (?&lt;g27&gt;F)
      (?&lt;g28&gt;[0-9]{5})
      (?&lt;g29&gt;00000)
      \x1D?
      )?
      (?&lt;g30_31&gt;
      (?&lt;g30&gt;G)
      (?&lt;g31&gt;[0-9]{5})
      \x1D?
      )?
      (?&lt;g32_34&gt;
      (?&lt;g32&gt;H)
      (?&lt;g33&gt;[0-9]{2})
      (?&lt;g34&gt;[0-9]{5})
      \x1D?
      )?
      (
      (?&lt;g35&gt;I)
      (?&lt;g36_38&gt;
      (?&lt;g36&gt;[0-9]{3})
      (?&lt;g37&gt;[0-9]{5})
      (?&lt;g38&gt;[0-9]{3})
      )*
      (
      (?&lt;g39&gt;[0-9A-F]{4})
      (?&lt;g40&gt;[0-9]{5})
      )*
      \x1D?
      )?
      (
      (?&lt;g41&gt;J)
      (?&lt;g42_43&gt;
      (?&lt;g42&gt;[0-9]{1})
      (?&lt;g43&gt;[0-9]{5})
      )*
      \x1D?
      )?
      (
      (?&lt;g44&gt;K)
      (?&lt;g45_48&gt;
      (?&lt;g45&gt;[0-9]{5})
      (?&lt;g46&gt;[0-9]{5})
      (?&lt;g47&gt;[0-9]{5})
      (?&lt;g48&gt;[0-9])
      )*
      \x1D?
      )?
      )
      )
      (
      [\x1C]
      (?&lt;h&gt;[0-9A-F]{8})
      )?
      \z
    </pattern>
    <fields>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '2' - Solicited message." check = "true" classification = "ATM"/>
      <field id="c" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '2' - Status message." check = "true" classification = "ATM"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3 or 9" mandatory = "M" description = "Logical Unit Number (LUNO). This number is defined in a field transmitted to the terminal in a Configuration Parameters Load message. The default number is 000. If the data security feature is configured, an additional six characters are present which contain the machine number. For details, see the APTRA Advance NDC, Supervisor's Guide." check = "true" classification = "ATM"/>
      <field id="e" name = "Time Variant Number" format = "8" mandatory = "O" description = "Time Variant Number. Contains an eight-digit number derived from the time of day by the terminal for each status message. The digits can be 0-9, A-F." check = "true" classification = "ATM"/>
      <field id="f" name = "Status Descriptor" format = "1" mandatory = "M" description = "Status Descriptor. Describes the status message as follows: '8' Device Fault - This indicates that a terminal device is reporting abnormal status. This value is also used in a configuration ID status message. '9' Ready - This indicates that the instruction was completed successfully. 'A' Command Reject - This is inserted into the status descriptor field under the following conditions: 1. Terminal receives an illegal command. 2. Terminal receives illegal data from Central. 3. Terminal receives data while not in the correct mode. For more information, see the Message Validation section in Chapter 10, Central to Terminal Messages. 'B' Ready - This indicates that the Transaction Reply was successfully completed. (When separate 'Ready' for Transaction Reply commands option has been selected as a configuration parameter.) 'C' Specific Command Reject - This is sent to indicate a rejection of the message for authentication failure, or if the specific command reject option is set and a message is rejected that would otherwise generate a command reject 'A'. The status information field identifies the reason for rejection. 'F' Terminal State - This is sent in response to Terminal Commands requesting supply counters, terminal configuration information, or the date and time." check = "true" classification = "ATM"/>
      <field id="g" name = "Status Information" format = "Var" mandatory = "O" description = "Status Information. Additional status information is sent only when the status descriptor contains '8', 'C' or 'F'." check = "true" classification = "ATM"/>
      <field id="g1" name = "Message Identifier" format = "1" mandatory = "M" description = "This message has identifier '7'." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g2" name = "Transaction Group ID" format = "1" mandatory = "M" description = "This message has transaction group identifier 'A'." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g3" name = "Transaction Serial Number (TSN)" format = "4" mandatory = "M" description = "Transaction Serial Number (TSN). Contains the TSN of the last transaction processed by the terminal. If this does not correspond to the last TSN sent by Central, it means that the transaction has not been initiated and the counters have not been updated." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g4" name = "Accumulated Transaction Count" format = "7" mandatory = "M" description = "Accumulated Transaction Count. Defines the total number of detected transaction attempts since the terminal was installed or the non-volatile terminal memory was last corrupted. The count is reset to 0 after 9,999,999 transactions. A transaction attempt is detected when it is recognised that the TSN received from Central is different from the previously received TSN." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g5" name = "Card Reader Data Group ID" format = "1" mandatory = "M" description = "Card Reader data group ID 'B'" check = "true" classification = "ATM" parentId = "g"/>
      <field id="g6" name = "Cards Captured" format = "5" mandatory = "M" description = "Cards Captured. Consists of one five-digit decimal count of the number of cards captured since the count was cleared by a supervisor transaction. The count includes cards captured up to and including the transaction defined in field 'g2'." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g7" name = "Cash Handler 0 data group ID" format = "1" mandatory = "M" description = "Cash Handler data group ID 'B'" check = "true" classification = "ATM" parentId = "g"/>
      <field id="g8" name = "Cassette Type" format = "3" mandatory = "M" description = "Cassette Type. Consists of one three digits identifier of the cassette type being reported on. The identifier can be between 000 and 007 depending on the cash handler configuration" check = "true" classification = "ATM" parentId = "g"/>
      <field id="g9" name = "Notes In Cassettes" format = "5" mandatory = "M" description = "Notes In Cassettes. Consists of five-digit decimal count of the total number of notes remaining in cassette. The count is set by supervisor functions and are decremented on each dispense transaction. These counts are zero if not set by an 'Add Cash' or 'Set Standard Cash' supervisor function. The count contains 65535 (the decimal equivalent of 0FFFF hex) if more notes have been dispensed from a cassette than it has been set to contain, or if notes are dispensed from a cassette type that has not been set. If dual cash handlers are used, the combined number of notes for the cassette type is reported. Only four cassette types are reported, regardless of the setting of the Enhanced Configuration option 76." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g10" name = "Notes Rejected" format = "5" mandatory = "M" description = "Notes Rejected. Consists of five-digit decimal count of the total number of notes moved to the reject bin from cassette. If dual cash handlers are used, the combined number of notes for the cassette type is reported. Only four cassette types are reported, regardless of the setting of the Enhanced Configuration option 76. Although fields 'g4' and 'g5' may not be totally accurate, the sum of these counts for a particular cassette type does accurately represent the difference between the original number of notes added and the number of notes dispensed." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g11" name = "Notes Dispensed" format = "5" mandatory = "M" description = "Notes Dispensed. Consists of five-digit decimal counts of the total number of notes dispensed from cassette. These counts are consistent with note counts reported since the counts were last cleared by a supervisor transaction. If dual cash handlers are used, the combined number of notes for the cassette type is reported. Only four cassette types are reported, regardless of the setting of the Enhanced Configuration option 76. If a transaction is prematurely stopped by a power failure, these counts are updated to reflect the number of notes dispensed up to the time of power failure." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g12" name = "Last Transaction Notes Dispensed" format = "5" mandatory = "M" description = "Last Transaction Notes Dispensed. Consists of five-digit decimal counts of the number of notes dispensed on the last transaction processed by the terminal. This field allows Central to recover note counts after power failure, even if the power failure occurred in the middle of a dispense operation." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g13" name = "Notes Deposited" format = "5" mandatory = "M" description = "Notes Deposited. Consists of five-digit decimal counts of the number of notes dispensed on the last transaction processed by the terminal. This field allows Central to recover note counts after power failure, even if the power failure occurred in the middle of a dispense operation." check = "true" classification = "ATM" parentId = "g"/>
    </fields>
  </H0037TerminalStatusInfo>
  <H0035TerminalStatusInfo displayName="H0035TerminalStatusInfo">
    <pattern options="34">
      ^
      (?&lt;b&gt;2)
      (?&lt;c&gt;2)
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})
      \x1C
      \x1C
      (
      (?&lt;e&gt;[0-9A-F]{8})?
      \x1C
      )?
      (
      (?&lt;f&gt;F)
      (
      \x1C
      (?&lt;g&gt;
      (?&lt;g1&gt;5)
      (?&lt;g2&gt;[0-2]{1})
      (?&lt;g3&gt;[0-9]{12})
      )?
      )
      (
      [\x1C]
      (?&lt;h&gt;[0-9A-F]{8})
      )?
      )
      \z
    </pattern>
    <fields>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '2' - Solicited message." check = "true" classification = "ATM"/>
      <field id="c" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '2' - Status message." check = "true" classification = "ATM"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3 or 9" mandatory = "M" description = "Logical Unit Number (LUNO). This number is defined in a field transmitted to the terminal in a Configuration Parameters Load message. The default number is 000. If the data security feature is configured, an additional six characters are present which contain the machine number. For details, see the APTRA Advance NDC, Supervisor's Guide." check = "true" classification = "ATM"/>
      <field id="e" name = "Time Variant Number" format = "8" mandatory = "O" description = "Time Variant Number. Contains an eight-digit number derived from the time of day by the terminal for each status message. The digits can be 0-9, A-F." check = "true" classification = "ATM"/>
      <field id="f" name = "Status Descriptor" format = "1" mandatory = "M" description = "Status Descriptor. Describes the status message as follows: '8' Device Fault - This indicates that a terminal device is reporting abnormal status. This value is also used in a configuration ID status message. '9' Ready - This indicates that the instruction was completed successfully. 'A' Command Reject - This is inserted into the status descriptor field under the following conditions: 1. Terminal receives an illegal command. 2. Terminal receives illegal data from Central. 3. Terminal receives data while not in the correct mode. For more information, see the Message Validation section in Chapter 10, Central to Terminal Messages. 'B' Ready - This indicates that the Transaction Reply was successfully completed. (When separate 'Ready' for Transaction Reply commands option has been selected as a configuration parameter.) 'C' Specific Command Reject - This is sent to indicate a rejection of the message for authentication failure, or if the specific command reject option is set and a message is rejected that would otherwise generate a command reject 'A'. The status information field identifies the reason for rejection. 'F' Terminal State - This is sent in response to Terminal Commands requesting supply counters, terminal configuration information, or the date and time." check = "true" classification = "ATM"/>
      <field id="g" name = "Status Information" format = "Var" mandatory = "O" description = "Status Information. Additional status information is sent only when the status descriptor contains '8', 'C' or 'F'." check = "true" classification = "ATM"/>
      <field id="g1" name = "Message Identifier" format = "1" mandatory = "M" description = "This message has identifier '5'." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g2" name = "ToD Clock Status" format = "1" mandatory = "M" description = "This field has the following values: '0' - Time is actual. '1' - Time is default (clock not loaded with actual time). '2' - ToD malfunction." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g3" name = "Terminal Date/Time" format = "12" mandatory = "M" description = "The actual date and time returned by the terminal clock in the following format: YY = Year('00' - '99') MM = Month('01' - '12') DD = Day('01' - '31') HH = Hour('00' - '23') MM = Minute('00' - '59') SS = Second('00' - '59') If 00&lt;=YY&lt;=89, the year is taken to be in the range 2000&lt;=YY&lt;=2089. If 90&lt;=YY&lt;=99, the year is taken to be in the range 1990&lt;=YY&lt;=1999. In the case of a ToD malfunction, these are zero. In the case of Default time, the value is initialised to the lowest value, and counting starts from this." check = "true" classification = "ATM" parentId = "g"/>
      <field id="h" name = "Message Authentication Code (MAC)" format = "8" mandatory = "O" description = "Message Authentication Code (MAC) Data. Contains the calculated value for authentication of this message. The characters are in the range 0-9 and A-F." check = "true" classification = "ATM"/>
    </fields>
  </H0035TerminalStatusInfo>
  <H0036TerminalStatusInfo displayName="H0036TerminalStatusInfo">
    <pattern options="34">
      ^
      (?&lt;b&gt;2)
      (?&lt;c&gt;2)
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})
      \x1C
      \x1C
      (
      (?&lt;e&gt;[0-9A-F]{8})?
      \x1C
      )?
      (?&lt;f&gt;F)
      (
      \x1C
      (?&lt;g&gt;
      (?&lt;g1&gt;6)
      (?&lt;g2&gt;[0-9]{4})
      )
      )
      \z
    </pattern>
    <fields>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '2' - Solicited message." check = "true" classification = "ATM"/>
      <field id="c" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '2' - Status message." check = "true" classification = "ATM"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3 or 9" mandatory = "M" description = "Logical Unit Number (LUNO). This number is defined in a field transmitted to the terminal in a Configuration Parameters Load message. The default number is 000. If the data security feature is configured, an additional six characters are present which contain the machine number. For details, see the APTRA Advance NDC, Supervisor's Guide." check = "true" classification = "ATM"/>
      <field id="e" name = "Time Variant Number" format = "8" mandatory = "O" description = "Time Variant Number. Contains an eight-digit number derived from the time of day by the terminal for each status message. The digits can be 0-9, A-F." check = "true" classification = "ATM"/>
      <field id="f" name = "Status Descriptor" format = "1" mandatory = "M" description = "Status Descriptor. Describes the status message as follows: '8' Device Fault - This indicates that a terminal device is reporting abnormal status. This value is also used in a configuration ID status message. '9' Ready - This indicates that the instruction was completed successfully. 'A' Command Reject - This is inserted into the status descriptor field under the following conditions: 1. Terminal receives an illegal command. 2. Terminal receives illegal data from Central. 3. Terminal receives data while not in the correct mode. For more information, see the Message Validation section in Chapter 10, Central to Terminal Messages. 'B' Ready - This indicates that the Transaction Reply was successfully completed. (When separate 'Ready' for Transaction Reply commands option has been selected as a configuration parameter.) 'C' Specific Command Reject - This is sent to indicate a rejection of the message for authentication failure, or if the specific command reject option is set and a message is rejected that would otherwise generate a command reject 'A'. The status information field identifies the reason for rejection. 'F' Terminal State - This is sent in response to Terminal Commands requesting supply counters, terminal configuration information, or the date and time." check = "true" classification = "ATM"/>
      <field id="g" name = "Status Information" format = "Var" mandatory = "O" description = "Status Information. Additional status information is sent only when the status descriptor contains '8', 'C' or 'F'." check = "true" classification = "ATM"/>
      <field id="g1" name = "Message Identifier" format = "1" mandatory = "M" description = "This message has identifier '6'." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g2" name = "Configuration ID" format = "4" mandatory = "M" description = "Contains the last four-digit configuration ID number (0000-9999) sent to the terminal from Central." check = "true" classification = "ATM" parentId = "g"/>
      <field id="h" name = "Message Authentication Code (MAC)" format = "84O" description = "Message Authentication Code (MAC) Data. Contains the calculated value for authentication of this message. The characters are in the range 0-9 and A-F." check = "true" classification = "ATM"/>
    </fields>
  </H0036TerminalStatusInfo>
  <H0048TerminalStatusInfo displayName="H0048TerminalStatusInfo">
    <pattern options="34">
      ^
      (?&lt;b&gt;2)
      (?&lt;c&gt;2)
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})
      \x1C
      \x1C
      (
      (?&lt;e&gt;[0-9A-F]{8})?
      \x1C
      )?
      (
      (?&lt;f&gt;F)
      (
      \x1C
      (?&lt;g&gt;
      (?&lt;g1&gt;H)
      (?&lt;g2&gt;A[0-9]{4})
      \x1C
      (?&lt;g3&gt;B[0-9A-F]{2})
      \x1C
      (
      (?&lt;g4&gt;C[^\x1C]*)
      (
      \x1D
      CAM
      \x1D
      (?&lt;CamData&gt;.*)
      )?
      )
      (
      \x1C
      (?&lt;g5&gt;[^\x1C]*)?
      )?
      )
      )
      (
      [\x1C]
      (?&lt;h&gt;[0-9A-F]{8})
      )?
      )
      \z
    </pattern>
    <fields>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '2' - Solicited message." check = "true" classification = "ATM"/>
      <field id="c" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '2' - Status message." check = "true" classification = "ATM"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3 or 9" mandatory = "M" description = "Logical Unit Number (LUNO). This number is defined in a field transmitted to the terminal in a Configuration Parameters Load message. The default number is 000. If the data security feature is configured, an additional six characters are present which contain the machine number. For details, see the APTRA Advance NDC, Supervisor's Guide." check = "true" classification = "ATM"/>
      <field id="e" name = "Time Variant Number" format = "8" mandatory = "O" description = "Time Variant Number. Contains an eight-digit number derived from the time of day by the terminal for each status message. The digits can be 0-9, A-F." check = "true" classification = "ATM"/>
      <field id="f" name = "Status Descriptor" format = "1" mandatory = "M" description = "Status Descriptor. Describes the status message as follows: '8' Device Fault - This indicates that a terminal device is reporting abnormal status. This value is also used in a configuration ID status message. '9' Ready - This indicates that the instruction was completed successfully. 'A' Command Reject - This is inserted into the status descriptor field under the following conditions: 1. Terminal receives an illegal command. 2. Terminal receives illegal data from Central. 3. Terminal receives data while not in the correct mode. For more information, see the Message Validation section in Chapter 10, Central to Terminal Messages. 'B' Ready - This indicates that the Transaction Reply was successfully completed. (When separate 'Ready' for Transaction Reply commands option has been selected as a configuration parameter.) 'C' Specific Command Reject - This is sent to indicate a rejection of the message for authentication failure, or if the specific command reject option is set and a message is rejected that would otherwise generate a command reject 'A'. The status information field identifies the reason for rejection. 'F' Terminal State - This is sent in response to Terminal Commands requesting supply counters, terminal configuration information, or the date and time." check = "true" classification = "ATM"/>
      <field id="g" name = "Status Information" format = "Var" mandatory = "O" description = "Status Information. Additional status information is sent only when the status descriptor contains '8', 'C' or 'F'." check = "true" classification = "ATM"/>
      <field id="g1" name = "Message Identifier" format = "1" mandatory = "M" description = "This message has identifier 'H'." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g2" name = "Configuration ID" format = "1 , Var (4)" mandatory = "M" description = "Configuration ID Identifier 'A'. This four-character field contains the last four-digit configuration ID number, in the range 0000-9999, sent to the terminal from Central." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g3" name = "Product Class" format = "1 , Var (2)" mandatory = "M" description = "Product Class Identifier 'B'. Product Class. This two-character field contains the Product Class of the terminal. The following entries are possible, but this does not mean that Advance NDC supports all these classes: '0E' - 5663 '0F' - 5674 '10' - 5675 '11' - 5684 '12' - 5685 '13' - 5688 '14' - 5665 '15' - 5670 '16' - Personas 75 '17' - Personas 88 '18' - Personas 40 '19' - Personas 70 '1A' - Personas 74 '1B' - Personas 84 '1C' - Personas 85 '1D' - Personas 90 '1E' - EasyPoint 55 or EasyPoint 57 '1F' - Personas 86 '20' - 5588 '21' - Personas 73 '22' - Personas 72 '23' - Personas 77 '24' - 6674 '25' - 6676 '26' - 5879 '27' - 5887 '28' - 5362 '29' - Personas 71 '2A' - 5867 '30' - 6622 '31' - 6624 '32' - 6626 '33' - 6628 '34' - 6631 '35' - 6632 '36' - 6634 '37' - 6638 '38' - 6625 '39' - 6618 '3A' - 6636 '3B'- SelfServ 22e (2012)" check = "true" classification = "ATM" parentId = "g"/>
      <field id="g4" name = "Hardware Configuration Identifier 'C'" format = "1" mandatory = "M" description = "This field contains hardware configuration information for each of the devices present in the SST. It is divided into a series of subfields separated by group separators. If a device is not present, there will be no corresponding DIG in the field. Device Identifier Graphic (DIG)1ODevice Identifier Graphic (DIG). This identifies the device to which the following hardware configuration data applies. For details, see see Hardware Configuration Data on page E-2       Hardware ConfigurationVarOHardware Configuration. This contains information for each device indicating which variant of the device is configured and any other configuration data available. For details, see Hardware Configuration Data on page E-2. Group Separator1OGroup Separator Device Identifier Graphic (DIG)1ODevice Identifier Graphic (DIG) Hardware ConfigurationVarOHardware Configuration" check = "true" classification = "ATM" parentId = "g"/>
      <field id="g5" name = "Device Identifier Graphic (DIG)" format = "1" mandatory = "O" description = "Field Separator Device Identifier Graphic (DIG)1ODevice Identifier Graphic (DIG) Hardware ConfigurationVarOHardware Configuration" check = "true" classification = "ATM" parentId = "g"/>
      <field id="h" name = "Message Authentication Code (MAC)" format = "8" mandatory = "O" description = "Message Authentication Code (MAC) Data. Contains the calculated value for authentication of this message. The characters are in the range 0-9 and A-F." check = "true" classification = "ATM"/>
    </fields>
  </H0048TerminalStatusInfo>
  <H0049TerminalStatusInfo displayName="H0049TerminalStatusInfo">
    <pattern options="34">
      ^
      (?&lt;b&gt;2)
      (?&lt;c&gt;2)
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})
      \x1C
      \x1C
      (
      (?&lt;e&gt;[0-9A-F]{8})?
      \x1C
      )?
      (
      (?&lt;f&gt;F)
      (
      \x1C
      (?&lt;g&gt;
      (?&lt;g1&gt;I)
      (?&lt;g2&gt;A[^\x1C]*)
      (
      \x1C
      (?&lt;g3&gt;[^\x1C]*)
      )?
      )?
      )
      (
      [\x1C]
      (?&lt;h&gt;[0-9A-F]{8})
      )?
      )
      \z
    </pattern>
    <fields>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '2' - Solicited message." check = "true" classification = "ATM"/>
      <field id="c" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '2' - Status message." check = "true" classification = "ATM"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3 or 9" mandatory = "M" description = "Logical Unit Number (LUNO). This number is defined in a field transmitted to the terminal in a Configuration Parameters Load message. The default number is 000. If the data security feature is configured, an additional six characters are present which contain the machine number. For details, see the APTRA Advance NDC, Supervisor's Guide." check = "true" classification = "ATM"/>
      <field id="e" name = "Time Variant Number" format = "8" mandatory = "O" description = "Time Variant Number. Contains an eight-digit number derived from the time of day by the terminal for each status message. The digits can be 0-9, A-F." check = "true" classification = "ATM"/>
      <field id="f" name = "Status Descriptor" format = "1" mandatory = "M" description = "Status Descriptor. Describes the status message as follows: '8' Device Fault - This indicates that a terminal device is reporting abnormal status. This value is also used in a configuration ID status message. '9' Ready - This indicates that the instruction was completed successfully. 'A' Command Reject - This is inserted into the status descriptor field under the following conditions: 1. Terminal receives an illegal command. 2. Terminal receives illegal data from Central. 3. Terminal receives data while not in the correct mode. For more information, see the Message Validation section in Chapter 10, Central to Terminal Messages. 'B' Ready - This indicates that the Transaction Reply was successfully completed. (When separate 'Ready' for Transaction Reply commands option has been selected as a configuration parameter.) 'C' Specific Command Reject - This is sent to indicate a rejection of the message for authentication failure, or if the specific command reject option is set and a message is rejected that would otherwise generate a command reject 'A'. The status information field identifies the reason for rejection. 'F' Terminal State - This is sent in response to Terminal Commands requesting supply counters, terminal configuration information, or the date and time." check = "true" classification = "ATM"/>
      <field id="g" name = "Status Information" format = "Var" mandatory = "O" description = "Status Information. Additional status information is sent only when the status descriptor contains '8', 'C' or 'F'." check = "true" classification = "ATM"/>
      <field id="g1" name = "Message Identifier" format = "1" mandatory = "M" description = "This message has identifier 'I'." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g2" name = "Supplies Status Identifier 'A' Device Identifier Graphic (DIG) Supplies Status Group Separator Device Identifier Graphic (DIG) Supplies Status" format = "1, 1, Var, 1, 1, Var" mandatory = "M, O, O, O, O, O" description = "This field contains supplies information for each of the devices present in the SST. It is divided into a series of sub-fields separated by group separators. If a device is not present, there will be no corresponding DIG in the field. This identifies the device to which the following supplies status data applies. For details, see Appendix E, Device Identifiers. This contains information for each device indicating the condition of the device's replenishables. For details, see Appendix E, Device Identifiers. Each element of the supplies status data will take one of the following values: Value Description '0' Not configured/reserved '1' Good state '2' Media low '3' Media out '4' Overfill Group Separator. Device Identifier Graphic (DIG). Supplies Status." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g3" name = "Field Separator, Data Identifier, Data" format = "1, 1, Var" mandatory = "O, O, O" description = "Field Separator, Data Identifier, Data" check = "true" classification = "ATM" parentId = "g"/>
      <field id="h" name = "Message Authentication Code (MAC)" format = "8" mandatory = "O" description = "Message Authentication Code (MAC) Data. Contains the calculated value for authentication of this message. The characters are in the range 0-9 and A-F." check = "true" classification = "ATM"/>
    </fields>
  </H0049TerminalStatusInfo>
  <H004ATerminalStatusInfo displayName="H004ATerminalStatusInfo">
    <pattern options="34">
      ^
      (?&lt;b&gt;2)
      (?&lt;c&gt;2)
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})
      \x1C
      \x1C
      (
      (?&lt;e&gt;[0-9A-F]{8})?
      \x1C
      )?
      (
      (?&lt;f&gt;F)
      (
      \x1C
      (?&lt;g&gt;
      (?&lt;g1&gt;J)
      (?&lt;g2&gt;A[^\x1C]*)
      (
      \x1C
      (?&lt;g3&gt;[^\x1C]*)
      )?
      )?
      )
      (
      [\x1C]
      (?&lt;h&gt;[0-9A-F]{8})
      )?
      )
      \z
    </pattern>
    <fields>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '2' - Solicited message." check = "true" classification = "ATM"/>
      <field id="c" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '2' - Status message." check = "true" classification = "ATM"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3 or 9" mandatory = "M" description = "Logical Unit Number (LUNO). This number is defined in a field transmitted to the terminal in a Configuration Parameters Load message. The default number is 000. If the data security feature is configured, an additional six characters are present which contain the machine number. For details, see the APTRA Advance NDC, Supervisor's Guide." check = "true" classification = "ATM"/>
      <field id="e" name = "Time Variant Number" format = "8" mandatory = "O" description = "Time Variant Number. Contains an eight-digit number derived from the time of day by the terminal for each status message. The digits can be 0-9, A-F." check = "true" classification = "ATM"/>
      <field id="f" name = "Status Descriptor" format = "1" mandatory = "M" description = "Status Descriptor. Describes the status message as follows: '8' Device Fault - This indicates that a terminal device is reporting abnormal status. This value is also used in a configuration ID status message. '9' Ready - This indicates that the instruction was completed successfully. 'A' Command Reject - This is inserted into the status descriptor field under the following conditions: 1. Terminal receives an illegal command. 2. Terminal receives illegal data from Central. 3. Terminal receives data while not in the correct mode. For more information, see the Message Validation section in Chapter 10, Central to Terminal Messages. 'B' Ready - This indicates that the Transaction Reply was successfully completed. (When separate 'Ready' for Transaction Reply commands option has been selected as a configuration parameter.) 'C' Specific Command Reject - This is sent to indicate a rejection of the message for authentication failure, or if the specific command reject option is set and a message is rejected that would otherwise generate a command reject 'A'. The status information field identifies the reason for rejection. 'F' Terminal State - This is sent in response to Terminal Commands requesting supply counters, terminal configuration information, or the date and time." check = "true" classification = "ATM"/>
      <field id="g" name = "Status Information" format = "Var" mandatory = "O" description = "Status Information. Additional status information is sent only when the status descriptor contains '8', 'C' or 'F'." check = "true" classification = "ATM"/>
      <field id="g1" name = "Message Identifier" format = "1" mandatory = "M" description = "This message has identifier 'J'." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g2" name = "Hardware Fitness Identifier 'A', Device Identifier Graphic (DIG), Fitness, Group Separator, Device Identifier Graphic (DIG), Fitness" format = "1, 1, Var, 1, 1, Var" mandatory = "M, O, O, O, O, O" description = "This field contains fitness information for each of the devices present in the SST. It is divided into a series of sub-fields separated by group separators. This identifies the device to which the following fitness data applies. For details, see Appendix E, Device Identifiers. Each fitness character is encoded with one of the following error severity values, indicating the current fitness of the device: Char Severity '0' No error/not supported '1' Routine errors have occurred '2' Warning conditions have occurred - investigation is required '3' Suspend. The terminal is currently in the suspend state due to suspected tampering with this device '4' Fatal error condition exists on this device Routine, warning and fatal errors can only be cleared by local Supervisor functions. For details, see Appendix E, Device Identifiers. Group Separator. Device Identifier Graphic (DIG). Fitness." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g3" name = "Field Separator, Data Identifier, Data" format = "1, 1, Var" mandatory = "O, O, O" description = "Field Separator - present for future expansion., Data Identifier - present for future expansion., Data  - present for future expansion." check = "true" classification = "ATM" parentId = "g"/>
      <field id="h" name = "Message Authentication Code (MAC)" format = "8" mandatory = "O" description = "Message Authentication Code (MAC) Data. Contains the calculated value for authentication of this message. The characters are in the range 0-9 and A-F." check = "true" classification = "ATM"/>
    </fields>
  </H004ATerminalStatusInfo>
  <H004BTerminalStatusInfo displayName="H004BTerminalStatusInfo">
    <pattern options="34">
      ^
      (?&lt;b&gt;2)
      (?&lt;c&gt;2)
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})
      \x1C
      \x1C
      (
      (?&lt;e&gt;[0-9A-F]{8})?
      \x1C
      )?
      (
      (?&lt;f&gt;F)
      (
      \x1C
      (?&lt;g&gt;
      (?&lt;g1&gt;K)
      (?&lt;g2&gt;A[\x20-\x7E]{0,5}\x1C)
      (?&lt;g3&gt;B[0-9]{13})
      (?&lt;g4&gt;C[^\x1C]*)?
      (
      \x1D
      CAM
      \x1D
      (?&lt;CamData&gt;.*)
      )?
      (?&lt;g5&gt;\x1C[^\x1C]*)?
      )?
      )
      (
      [\x1C]
      (?&lt;h&gt;[0-9A-F]{8})
      )?
      )
      \z
    </pattern>
    <fields>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '2' - Solicited message." check = "true" classification = "ATM"/>
      <field id="c" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '2' - Status message." check = "true" classification = "ATM"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3 or 9" mandatory = "M" description = "Logical Unit Number (LUNO). This number is defined in a field transmitted to the terminal in a Configuration Parameters Load message. The default number is 000. If the data security feature is configured, an additional six characters are present which contain the machine number. For details, see the APTRA Advance NDC, Supervisor's Guide." check = "true" classification = "ATM"/>
      <field id="e" name = "Time Variant Number" format = "8" mandatory = "O" description = "Time Variant Number. Contains an eight-digit number derived from the time of day by the terminal for each status message. The digits can be 0-9, A-F." check = "true" classification = "ATM"/>
      <field id="f" name = "Status Descriptor" format = "1" mandatory = "M" description = "Status Descriptor. Describes the status message as follows: '8' Device Fault - This indicates that a terminal device is reporting abnormal status. This value is also used in a configuration ID status message. '9' Ready - This indicates that the instruction was completed successfully. 'A' Command Reject - This is inserted into the status descriptor field under the following conditions: 1. Terminal receives an illegal command. 2. Terminal receives illegal data from Central. 3. Terminal receives data while not in the correct mode. For more information, see the Message Validation section in Chapter 10, Central to Terminal Messages. 'B' Ready - This indicates that the Transaction Reply was successfully completed. (When separate 'Ready' for Transaction Reply commands option has been selected as a configuration parameter.) 'C' Specific Command Reject - This is sent to indicate a rejection of the message for authentication failure, or if the specific command reject option is set and a message is rejected that would otherwise generate a command reject 'A'. The status information field identifies the reason for rejection. 'F' Terminal State - This is sent in response to Terminal Commands requesting supply counters, terminal configuration information, or the date and time." check = "true" classification = "ATM"/>
      <field id="g" name = "Status Information" format = "Var" mandatory = "O" description = "Status Information. Additional status information is sent only when the status descriptor contains '8', 'C' or 'F'." check = "true" classification = "ATM"/>
      <field id="g1" name = "Message Identifier" format = "1" mandatory = "M" description = "This message has identifier 'K'." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g2" name = "Sensor Status Identifier 'A', Sensor Status, Field Separator" format = "1, Var(5), 1" mandatory = "M, M, M" description = "Sensor Status Identifier 'A', This five-character field contains one byte per sensor and is identical to the information reported in bytes 2-6 of the Sensors Status message. For details, see the Sensors (Unsolicited) section, Field Separator" check = "true" classification = "ATM" parentId = "g"/>
      <field id="g3" name = "Tamper Indicator Identifier 'B', Tamper Status" format = "1, Var" mandatory = "M, M" description = "Tamper Indicator Identifier 'B', This field contains the status of the TI sensors. If the TI feature is not configured, this field, with the buffer identifier, will not be present. The contents of the tamper status data field are as follows: Char Code 1-7 Identical to bytes 7-13 of the Sensors Status message, described in the Sensors (Unsolicited) section. 8 '0' Coin Dispenser out. '1' Coin Dispenser in. 9 '0' Coin Dispenser Hopper 1 out. '1' Coin Dispenser Hopper 1 in. 10 '0' Coin Dispenser Hopper 2 out. '1' Coin Dispenser Hopper 2 in. 11 '0' Coin Dispenser Hopper 3 out. '1' Coin Dispenser Hopper 3 in. 12 '0' Coin Dispenser Hopper 4 out. '1' Coin Dispenser Hopper 4 in. 13 Not supported in Advance NDC If a device is not configured, any associated TI byte will take the value '0'." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g4" name = "Extended Tamper Indicator Identifier 'C', Device Identifier Graphic (DIG), Tamper Status, Group Separator, Device Identifier Graphic (DIG), Tamper Status" format = "1, 1, Var, 1, 1, Var" mandatory = "O, O, O, O, O, O" description = "Extended Tamper Indicator Identifier 'C'. This field contains data on each device present in the SST. This field contains the condition of the TI sensors. If the TI feature is not configured, this field, with the buffer identifier, will not be present. The length of the configuration data varies depending on the device being reported. For details, see Tamper Indicator Identifier 'B'. Group Separator. Device Identifier Graphic (DIG). This field contains data on each device present in the SST. This field contains the condition of the TI sensors. If the TI feature is not configured, this field, with the buffer identifier, will not be present." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g5" name = "Field Separator, Data Identifier, Data" format = "1, 1, Var" mandatory = "O, O, O" description = "Field Separator - present for future expansion, Data Identifier - present for future expansion, Data  - present for future expansion." check = "true" classification = "ATM" parentId = "g"/>
      <field id="h" name = "Message Authentication Code (MAC)" format = "8" mandatory = "O" description = "Message Authentication Code (MAC) Data. Contains the calculated value for authentication of this message. The characters are in the range 0-9 and A-F." check = "true" classification = "ATM"/>
    </fields>
  </H004BTerminalStatusInfo>
  <H004CTerminalStatusInfo displayName="H004CTerminalStatusInfo">
    <pattern options="34">
      ^
      (?&lt;b&gt;2)
      (?&lt;c&gt;2)
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})
      \x1C
      \x1C
      (
      (?&lt;e&gt;[0-9A-F]{8})?
      \x1C
      )?
      (
      (?&lt;f&gt;F)
      (
      \x1C
      (?&lt;g&gt;
      (?&lt;g1&gt;L)
      (?&lt;g2&gt;A[0-9]{6}\x1C)
      (?&lt;g3&gt;B[\x20-\x7E]{9})
      (?&lt;g4&gt;\x1C[^\x1C]*)?
      (
      \x1D
      CAM
      \x1D
      (?&lt;CamData&gt;.*)
      )?
      )?
      )
      (
      [\x1C]
      (?&lt;h&gt;[0-9A-F]{8})
      )?
      )
      \z
    </pattern>
    <fields>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '2' - Solicited message." check = "true" classification = "ATM"/>
      <field id="c" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '2' - Status message." check = "true" classification = "ATM"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3 or 9" mandatory = "M" description = "Logical Unit Number (LUNO). This number is defined in a field transmitted to the terminal in a Configuration Parameters Load message. The default number is 000. If the data security feature is configured, an additional six characters are present which contain the machine number. For details, see the APTRA Advance NDC, Supervisor's Guide." check = "true" classification = "ATM"/>
      <field id="e" name = "Time Variant Number" format = "8" mandatory = "O" description = "Time Variant Number. Contains an eight-digit number derived from the time of day by the terminal for each status message. The digits can be 0-9, A-F." check = "true" classification = "ATM"/>
      <field id="f" name = "Status Descriptor" format = "1" mandatory = "M" description = "Status Descriptor. Describes the status message as follows: '8' Device Fault - This indicates that a terminal device is reporting abnormal status. This value is also used in a configuration ID status message. '9' Ready - This indicates that the instruction was completed successfully. 'A' Command Reject - This is inserted into the status descriptor field under the following conditions: 1. Terminal receives an illegal command. 2. Terminal receives illegal data from Central. 3. Terminal receives data while not in the correct mode. For more information, see the Message Validation section in Chapter 10, Central to Terminal Messages. 'B' Ready - This indicates that the Transaction Reply was successfully completed. (When separate 'Ready' for Transaction Reply commands option has been selected as a configuration parameter.) 'C' Specific Command Reject - This is sent to indicate a rejection of the message for authentication failure, or if the specific command reject option is set and a message is rejected that would otherwise generate a command reject 'A'. The status information field identifies the reason for rejection. 'F' Terminal State - This is sent in response to Terminal Commands requesting supply counters, terminal configuration information, or the date and time." check = "true" classification = "ATM"/>
      <field id="g" name = "Status Information" format = "Var" mandatory = "O" description = "Status Information. Additional status information is sent only when the status descriptor contains '8', 'C' or 'F'." check = "true" classification = "ATM"/>
      <field id="g1" name = "Message Identifier" format = "1" mandatory = "M" description = "This message has identifier 'L'." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g2" name = "Release Number Identifier 'A', NDC Release Number" format = "1, Var(6)" mandatory = "M, M" description = "Release Number Identifier 'A', Contains a six-digit decimal number. The first pair of digits represent the release number. The second pair of digits represent the point release number. The third pair of digits represent the patch release number. For example, 020600 is release 2.06." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g3" name = "Software ID Identifier 'B', Advance NDC Software ID" format = "1, Var" mandatory = "M, M" description = "Software ID Identifier 'B', Contains a six-digit decimal number. The first pair of digits represent the release number. The second pair of digits represent the point release numContains the Advance NDC Software ID. For this release, the field takes the following values: G531-0283 (Advance NDC package) If the Advance NDC software ID is unavailable, this field contains nine blanks.er. The third pair of digits represent the patch release number. For example, 020600 is release 2.06." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g4" name = "Field Separator, Data Identifier, Data" format = "1, 1, Var" mandatory = "O, O, O" description = "Field Separator - present for future expansion, Data Identifier - present for future expansion, Data  - present for future expansion." check = "true" classification = "ATM" parentId = "g"/>
      <field id="h" name = "Message Authentication Code (MAC)" format = "8" mandatory = "O" description = "Message Authentication Code (MAC) Data. Contains the calculated value for authentication of this message. The characters are in the range 0-9 and A-F." check = "true" classification = "ATM"/>
    </fields>
  </H004CTerminalStatusInfo>
  <H004DTerminalStatusInfo displayName="H004DTerminalStatusInfo">
    <pattern options="34">
      ^
      (?&lt;b&gt;2)
      (?&lt;c&gt;2)
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})
      \x1C
      \x1C
      (
      (?&lt;e&gt;[0-9A-F]{8})?
      \x1C
      )?
      (
      (?&lt;f&gt;F)
      (
      \x1C
      (?&lt;g&gt;
      (?&lt;g1&gt;M)
      (?&lt;g2&gt;A[\x20-\x7E]{16})
      (?&lt;g3&gt;\x1C[^\x1C]*)?
      )?
      )
      (
      [\x1C]
      (?&lt;h&gt;[0-9A-F]{8})
      )?
      )
      \z
    </pattern>
    <fields>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '2' - Solicited message." check = "true" classification = "ATM"/>
      <field id="c" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '2' - Status message." check = "true" classification = "ATM"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3 or 9" mandatory = "M" description = "Logical Unit Number (LUNO). This number is defined in a field transmitted to the terminal in a Configuration Parameters Load message. The default number is 000. If the data security feature is configured, an additional six characters are present which contain the machine number. For details, see the APTRA Advance NDC, Supervisor's Guide." check = "true" classification = "ATM"/>
      <field id="e" name = "Time Variant Number" format = "8" mandatory = "O" description = "Time Variant Number. Contains an eight-digit number derived from the time of day by the terminal for each status message. The digits can be 0-9, A-F." check = "true" classification = "ATM"/>
      <field id="f" name = "Status Descriptor" format = "1" mandatory = "M" description = "Status Descriptor. Describes the status message as follows: '8' Device Fault - This indicates that a terminal device is reporting abnormal status. This value is also used in a configuration ID status message. '9' Ready - This indicates that the instruction was completed successfully. 'A' Command Reject - This is inserted into the status descriptor field under the following conditions: 1. Terminal receives an illegal command. 2. Terminal receives illegal data from Central. 3. Terminal receives data while not in the correct mode. For more information, see the Message Validation section in Chapter 10, Central to Terminal Messages. 'B' Ready - This indicates that the Transaction Reply was successfully completed. (When separate 'Ready' for Transaction Reply commands option has been selected as a configuration parameter.) 'C' Specific Command Reject - This is sent to indicate a rejection of the message for authentication failure, or if the specific command reject option is set and a message is rejected that would otherwise generate a command reject 'A'. The status information field identifies the reason for rejection. 'F' Terminal State - This is sent in response to Terminal Commands requesting supply counters, terminal configuration information, or the date and time." check = "true" classification = "ATM"/>
      <field id="g" name = "Status Information" format = "Var" mandatory = "O" description = "Status Information. Additional status information is sent only when the status descriptor contains '8', 'C' or 'F'." check = "true" classification = "ATM"/>
      <field id="g1" name = "Message Identifier" format = "1" mandatory = "M" description = "This message has identifier 'M'." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g2" name = "Local Options Identifier 'A', Local Option Digits" format = "1, Var(16)" mandatory = "M, M" description = "Local Options Identifier 'A', These characters represent the values of the Local Option Digits which may be entered using the MSG MODE option on the Configure menu in Supervisor mode. For details, refer to theAPTRA Advance NDC, Supervisor's Guide. Each character is an ASCII representation of the associated Option Digit." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g3" name = "Field Separator, Data Identifier, Data" format = "1, 1, Var" mandatory = "O, O, O" description = "Field Separator - present for future expansion, Data Identifier - present for future expansion, Data  - present for future expansion." check = "true" classification = "ATM" parentId = "g"/>
      <field id="h" name = "Message Authentication Code (MAC)" format = "8" mandatory = "O" description = "Message Authentication Code (MAC) Data. Contains the calculated value for authentication of this message. The characters are in the range 0-9 and A-F." check = "true" classification = "ATM"/>
    </fields>
  </H004DTerminalStatusInfo>
  <H004ETerminalStatusInfo displayName="H004ETerminalStatusInfo">
    <pattern options="34">
      ^
      (?&lt;b&gt;2)
      (?&lt;c&gt;2)
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})
      \x1C
      \x1C
      (
      (?&lt;e&gt;[0-9A-F]{8})?
      \x1C
      )?
      (
      (?&lt;f&gt;F)
      (
      \x1C
      (?&lt;g&gt;
      (?&lt;g1&gt;N)
      (?&lt;g2&gt;A[^\x1C]*)
      (?&lt;g3&gt;[\x20-\x7E]{4})?
      (?&lt;g4&gt;\x1C[^\x1C])?
      (
      \x1D
      CAM
      \x1D
      (?&lt;CamData&gt;.*)
      )?
      )?
      )
      (
      [\x1C]
      (?&lt;h&gt;[0-9A-F]{8})
      )?
      )
      \z
    </pattern>
    <fields>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '2' - Solicited message." check = "true" classification = "ATM"/>
      <field id="c" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '2' - Status message." check = "true" classification = "ATM"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3 or 9" mandatory = "M" description = "Logical Unit Number (LUNO). This number is defined in a field transmitted to the terminal in a Configuration Parameters Load message. The default number is 000. If the data security feature is configured, an additional six characters are present which contain the machine number. For details, see the APTRA Advance NDC, Supervisor's Guide." check = "true" classification = "ATM"/>
      <field id="e" name = "Time Variant Number" format = "8" mandatory = "O" description = "Time Variant Number. Contains an eight-digit number derived from the time of day by the terminal for each status message. The digits can be 0-9, A-F." check = "true" classification = "ATM"/>
      <field id="f" name = "Status Descriptor" format = "1" mandatory = "M" description = "Status Descriptor. Describes the status message as follows: '8' Device Fault - This indicates that a terminal device is reporting abnormal status. This value is also used in a configuration ID status message. '9' Ready - This indicates that the instruction was completed successfully. 'A' Command Reject - This is inserted into the status descriptor field under the following conditions: 1. Terminal receives an illegal command. 2. Terminal receives illegal data from Central. 3. Terminal receives data while not in the correct mode. For more information, see the Message Validation section in Chapter 10, Central to Terminal Messages. 'B' Ready - This indicates that the Transaction Reply was successfully completed. (When separate 'Ready' for Transaction Reply commands option has been selected as a configuration parameter.) 'C' Specific Command Reject - This is sent to indicate a rejection of the message for authentication failure, or if the specific command reject option is set and a message is rejected that would otherwise generate a command reject 'A'. The status information field identifies the reason for rejection. 'F' Terminal State - This is sent in response to Terminal Commands requesting supply counters, terminal configuration information, or the date and time." check = "true" classification = "ATM"/>
      <field id="g" name = "Status Information" format = "Var" mandatory = "O" description = "Status Information. Additional status information is sent only when the status descriptor contains '8', 'C' or 'F'." check = "true" classification = "ATM"/>
      <field id="g1" name = "Message Identifier" format = "1" mandatory = "M" description = "Message Identifier ('N')" check = "true" classification = "ATM" parentId = "g"/>
      <field id="g2" name = "Accepted Cash Items Identifier ('A'), Local Option Digits" format = "1, Var (11)" mandatory = "M, O" description = "Accepted Cash Items Identifier ('A'), Cash type information, 11 characters for each type up to a maximum of 50 cash types." check = "true" classification = "ATM" parentId = "g"/>
      <field id="g3" name = "ECB6 Note Retention Mode ID ('D'), ECB6 Note Retention Mode" format = "1, 3" mandatory = "O, O" description = "ECB6 Note Retention Mode ID ('D') - Not supported in Advance NDC 4.00, ECB6 Note Retention Mode - Not supported in Advance NDC 4.00" check = "true" classification = "ATM" parentId = "g"/>
      <field id="h" name = "Message Authentication Code (MAC)" format = "8" mandatory = "O" description = "Message Authentication Code (MAC) Data. Contains the calculated value for authentication of this message. The characters are in the range 0-9 and A-F." check = "true" classification = "ATM"/>
    </fields>
  </H004ETerminalStatusInfo>
  <H0050TerminalStatusInfo displayName="H0050TerminalStatusInfo">
    <pattern options="34">
      ^
      (?&lt;b&gt;2)
      (?&lt;c&gt;2)
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})
      \x1C
      \x1C
      (
      (?&lt;e&gt;[0-9A-F]{8})?
      \x1C
      )?
      (
      (?&lt;f&gt;F)
      \x1C
      (?&lt;g1&gt;[r])
      \x1C
      (?&lt;h&gt;[4])
      \x1C
      (?&lt;i&gt;\d{4})
      \x1C
      (?&lt;j&gt;\d{5})
      \x1D
      (?&lt;k&gt;[0-7]{2})
      (?&lt;l&gt;[0-9^\x1C]{5})*
      \x1C
      (?&lt;m&gt;[0-7]{2})?
      (?&lt;n&gt;[0-9^\x1C]{5})*
      \x1C
      (?&lt;o&gt;[0-9]{5})
      (?&lt;p&gt;[0-9]{5})
      (?&lt;q&gt;[0-9]{5})
      \x1C
      (?&lt;r&gt;
      (?&lt;s&gt;[0-9]{2})
      (?&lt;t&gt;[0-9]{5})
      )*
      (
      [\x1C]
      (?&lt;u&gt;[0-9A-F]{8})
      )?
      \z
    </pattern>
    <fields>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '2' - Solicited message." check = "true" classification = "ATM"/>
      <field id="c" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '2' - Status message." check = "true" classification = "ATM"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3 or 9" mandatory = "M" description = "Logical Unit Number (LUNO). This number is defined in a field transmitted to the terminal in a Configuration Parameters Load message. The default number is 000. If the data security feature is configured, an additional six characters are present which contain the machine number. For details, see the APTRA Advance NDC, Supervisor's Guide." check = "true" classification = "ATM"/>
      <field id="e" name = "Time Variant Number" format = "8" mandatory = "O" description = "Time Variant Number. Contains an eight-digit number derived from the time of day by the terminal for each status message. The digits can be 0-9, A-F." check = "true" classification = "ATM"/>
      <field id="f" name = "Status Descriptor" format = "1" mandatory = "M" description = "Status Descriptor. Describes the status message as follows: '8' Device Fault - This indicates that a terminal device is reporting abnormal status. This value is also used in a configuration ID status message. '9' Ready - This indicates that the instruction was completed successfully. 'A' Command Reject - This is inserted into the status descriptor field under the following conditions: 1. Terminal receives an illegal command. 2. Terminal receives illegal data from Central. 3. Terminal receives data while not in the correct mode. For more information, see the Message Validation section in Chapter 10, Central to Terminal Messages. 'B' Ready - This indicates that the Transaction Reply was successfully completed. (When separate 'Ready' for Transaction Reply commands option has been selected as a configuration parameter.) 'C' Specific Command Reject - This is sent to indicate a rejection of the message for authentication failure, or if the specific command reject option is set and a message is rejected that would otherwise generate a command reject 'A'. The status information field identifies the reason for rejection. 'F' Terminal State - This is sent in response to Terminal Commands requesting supply counters, terminal configuration information, or the date and time." check = "true" classification = "ATM"/>
      <field id="g1" name = "Message Identifier" format = "Var" mandatory = "O" description = "Status Information. Additional status information is sent only when the status descriptor contains '8', 'C' or 'F'." check = "true" classification = "ATM"/>
      <field id="h" name = "Message Sub Identifier" format = "1" mandatory = "M" description = "Message Identifier ('N')" check = "true" classification = "ATM" parentId = "g"/>
      <field id="i" name = "Number of Cash In Transaction" format = "1, Var (11)" mandatory = "M, O" description = "Accepted Cash Items Identifier ('A'), Cash type information, 11 characters for each type up to a maximum of 50 cash types." check = "true" classification = "ATM" parentId = "g"/>
      <field id="j" name = "Number of Retract Operations" format = "1, 3" mandatory = "O, O" description = "ECB6 Note Retention Mode ID ('D') - Not supported in Advance NDC 4.00, ECB6 Note Retention Mode - Not supported in Advance NDC 4.00" check = "true" classification = "ATM" parentId = "g"/>
      <field id="k" name = "Number of CashIn Boxes" format = "1, 3" mandatory = "O, O" description = "ECB6 Note Retention Mode ID ('D') - Not supported in Advance NDC 4.00, ECB6 Note Retention Mode - Not supported in Advance NDC 4.00" check = "true" classification = "ATM" parentId = "g"/>
      <field id="l" name = "Number of Notes in CashIn Box" format = "1, 3" mandatory = "O, O" description = "ECB6 Note Retention Mode ID ('D') - Not supported in Advance NDC 4.00, ECB6 Note Retention Mode - Not supported in Advance NDC 4.00" check = "true" classification = "ATM" parentId = "g"/>
      <field id="m" name = "Number of Drums" format = "1, 3" mandatory = "O, O" description = "ECB6 Note Retention Mode ID ('D') - Not supported in Advance NDC 4.00, ECB6 Note Retention Mode - Not supported in Advance NDC 4.00" check = "true" classification = "ATM" parentId = "g"/>
      <field id="n" name = "Number of Notes in Drums" format = "1, 3" mandatory = "O, O" description = "ECB6 Note Retention Mode ID ('D') - Not supported in Advance NDC 4.00, ECB6 Note Retention Mode - Not supported in Advance NDC 4.00" check = "true" classification = "ATM" parentId = "g"/>
      <field id="o" name = "Number of L4 Notes Inserted" format = "1, 3" mandatory = "O, O" description = "ECB6 Note Retention Mode ID ('D') - Not supported in Advance NDC 4.00, ECB6 Note Retention Mode - Not supported in Advance NDC 4.00" check = "true" classification = "ATM" parentId = "g"/>
      <field id="p" name = "Number of L3 Notes Inserted" format = "1, 3" mandatory = "O, O" description = "ECB6 Note Retention Mode ID ('D') - Not supported in Advance NDC 4.00, ECB6 Note Retention Mode - Not supported in Advance NDC 4.00" check = "true" classification = "ATM" parentId = "g"/>
      <field id="q" name = "Number of L2 Notes Inserted" format = "1, 3" mandatory = "O, O" description = "ECB6 Note Retention Mode ID ('D') - Not supported in Advance NDC 4.00, ECB6 Note Retention Mode - Not supported in Advance NDC 4.00" check = "true" classification = "ATM" parentId = "g"/>
      <field id="r" name = "Notes Cashed In" format = "1, 3" mandatory = "O, O" description = "ECB6 Note Retention Mode ID ('D') - Not supported in Advance NDC 4.00, ECB6 Note Retention Mode - Not supported in Advance NDC 4.00" check = "true" classification = "ATM" parentId = "g"/>
      <field id="s" name = "Note Id" format = "1, 3" mandatory = "O, O" description = "ECB6 Note Retention Mode ID ('D') - Not supported in Advance NDC 4.00, ECB6 Note Retention Mode - Not supported in Advance NDC 4.00" check = "true" classification = "ATM" parentId = "g"/>
      <field id="t" name = "Number of Notes Per Note Id Cashed In" format = "1, 3" parentId="r" mandatory = "O, O" description = "ECB6 Note Retention Mode ID ('D') - Not supported in Advance NDC 4.00, ECB6 Note Retention Mode - Not supported in Advance NDC 4.00" check = "true" classification = "ATM"/>
      <field id="u" name = "Message Authentication Code (MAC)" format = "8" parentId="r" mandatory = "O" description = "Message Authentication Code (MAC) Data. Contains the calculated value for authentication of this message. The characters are in the range 0-9 and A-F." check = "true" classification = "ATM"/>
    </fields>
  </H0050TerminalStatusInfo>
  <H004FTerminalStatusInfo displayName="H004FTerminalStatusInfo">
    <pattern options="34">
      ^
      (?&lt;b&gt;2)
      (?&lt;c&gt;2)
      \x1C
      (?&lt;d&gt;[^\x1C]{0}|[^\x1C]{3}|[^\x1C]{9})
      \x1C
      \x1C
      (
      (?&lt;e&gt;[0-9A-F]{8})?
      \x1C
      )?
      (?&lt;f&gt;[F])
      \x1C
      (?&lt;g1&gt;[r])
      \x1C
      (?&lt;h&gt;[7])
      \x1C
      (?&lt;i&gt;\d{4})
      \x1C
      (?&lt;j&gt;\d{2})
      (?&lt;k&gt;[\d]{2})?
      \x1C
      (?&lt;l&gt;\d{2})
      (?&lt;m&gt;
      (?&lt;m_a&gt;[0-9]{2})
      (?&lt;m_b&gt;[A-Z]{1})
      )*
      \x1C
      (?&lt;n&gt;[0-4ABCDEFGHabcdefgh_])*
      \x1C
      (?&lt;o&gt;\d)*
      \x1C
      (?&lt;p&gt;[0-4])
      \x1D
      (?&lt;q&gt;\d{2})
      (?&lt;r&gt;\d)*
      (?&lt;s&gt;
      \x1D
      (?&lt;s&gt;[A-O0]{2})*
      )?
      (?&lt;t&gt;
      \x1C
      (?&lt;t&gt;[0-4])
      \x1D
      (?&lt;u&gt;\d{2})
      (?&lt;v&gt;\d)*
      )?
      (
      [\x1C]
      (?&lt;w&gt;[0-9A-F]{8})
      )?
      \z
    </pattern>
    <fields>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '2' - Solicited message." check = "true" classification = "ATM"/>
      <field id="c" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '2' - Status message." check = "true" classification = "ATM"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3 or 9" mandatory = "M" description = "Logical Unit Number (LUNO). This number is defined in a field transmitted to the terminal in a Configuration Parameters Load message. The default number is 000. If the data security feature is configured, an additional six characters are present which contain the machine number. For details, see the APTRA Advance NDC, Supervisor's Guide." check = "true" classification = "ATM"/>
      <field id="e" name = "Time Variant Number" format = "8" mandatory = "O" description = "Time Variant Number. Contains an eight-digit number derived from the time of day by the terminal for each status message. The digits can be 0-9, A-F." check = "true" classification = "ATM"/>
      <field id="f" name = "Status Descriptor" format = "1" mandatory = "M" description = "Status Descriptor. Describes the status message as follows: '8' Device Fault - This indicates that a terminal device is reporting abnormal status. This value is also used in a configuration ID status message. '9' Ready - This indicates that the instruction was completed successfully. 'A' Command Reject - This is inserted into the status descriptor field under the following conditions: 1. Terminal receives an illegal command. 2. Terminal receives illegal data from Central. 3. Terminal receives data while not in the correct mode. For more information, see the Message Validation section in Chapter 10, Central to Terminal Messages. 'B' Ready - This indicates that the Transaction Reply was successfully completed. (When separate 'Ready' for Transaction Reply commands option has been selected as a configuration parameter.) 'C' Specific Command Reject - This is sent to indicate a rejection of the message for authentication failure, or if the specific command reject option is set and a message is rejected that would otherwise generate a command reject 'A'. The status information field identifies the reason for rejection. 'F' Terminal State - This is sent in response to Terminal Commands requesting supply counters, terminal configuration information, or the date and time." check = "true" classification = "ATM"/>
      <field id="g1" name = "Message Identifier" format = "Var" mandatory = "O" description = "Status Information. Additional status information is sent only when the status descriptor contains '8', 'C' or 'F'." check = "true" classification = "ATM"/>
      <field id="h" name = "Message Sub Identifier" format = "1" mandatory = "M" description = "Message Identifier ('N')" check = "true" classification = "ATM" parentId = "g"/>
      <field id="i" name = "Configuration ID" format = "1, Var (11)" mandatory = "M, O" description = "Accepted Cash Items Identifier ('A'), Cash type information, 11 characters for each type up to a maximum of 50 cash types." check = "true" classification = "ATM" parentId = "g"/>
      <field id="j" name = "Number Of Drums" format = "1, 3" mandatory = "O, O" description = "ECB6 Note Retention Mode ID ('D') - Not supported in Advance NDC 4.00, ECB6 Note Retention Mode - Not supported in Advance NDC 4.00" check = "true" classification = "ATM" parentId = "g"/>
      <field id="k" name = "Note ID Drum n" format = "1, 3" mandatory = "O, O" description = "ECB6 Note Retention Mode ID ('D') - Not supported in Advance NDC 4.00, ECB6 Note Retention Mode - Not supported in Advance NDC 4.00" check = "true" classification = "ATM" parentId = "g"/>
      <field id="l" name = "Number Of Note/Coin ID" format = "1, 3" mandatory = "O, O" description = "ECB6 Note Retention Mode ID ('D') - Not supported in Advance NDC 4.00, ECB6 Note Retention Mode - Not supported in Advance NDC 4.00" check = "true" classification = "ATM" parentId = "g"/>
      <field id="m" name = "Note/Coin ID With Modifier" format = "1, 3" mandatory = "O, O" description = "ECB6 Note Retention Mode ID ('D') - Not supported in Advance NDC 4.00, ECB6 Note Retention Mode - Not supported in Advance NDC 4.00" check = "true" classification = "ATM" parentId = "g"/>
      <field id="m_a" name = "Note/Coin ID" format = "1, 3" mandatory = "O, O" description = "ECB6 Note Retention Mode ID ('D') - Not supported in Advance NDC 4.00, ECB6 Note Retention Mode - Not supported in Advance NDC 4.00" check = "true" classification = "ATM" parentId = "m"/>
      <field id="m_b" name = "Modifier" format = "1, 3" mandatory = "O, O" description = "ECB6 Note Retention Mode ID ('D') - Not supported in Advance NDC 4.00, ECB6 Note Retention Mode - Not supported in Advance NDC 4.00" check = "true" classification = "ATM" parentId = "m"/>
      <field id="n" name = "Dispense Type/Denom of Drum n" format = "1, 3" mandatory = "O, O" description = "ECB6 Note Retention Mode ID ('D') - Not supported in Advance NDC 4.00, ECB6 Note Retention Mode - Not supported in Advance NDC 4.00" check = "true" classification = "ATM" parentId = "g"/>
      <field id="o" name = "Supply Status Of Drum n" format = "1, 3" mandatory = "O, O" description = "ECB6 Note Retention Mode ID ('D') - Not supported in Advance NDC 4.00, ECB6 Note Retention Mode - Not supported in Advance NDC 4.00" check = "true" classification = "ATM" parentId = "g"/>
      <field id="p" name = "Supply Status of Cash in Retract Box " format = "1, 3" mandatory = "O, O" description = "ECB6 Note Retention Mode ID ('D') - Not supported in Advance NDC 4.00, ECB6 Note Retention Mode - Not supported in Advance NDC 4.00" check = "true" classification = "ATM" parentId = "g"/>
      <field id="q" name = "Number of Cash In Boxes" format = "1, 3" mandatory = "O, O" description = "ECB6 Note Retention Mode ID ('D') - Not supported in Advance NDC 4.00, ECB6 Note Retention Mode - Not supported in Advance NDC 4.00" check = "true" classification = "ATM" parentId = "g"/>
      <field id="r" name = "Supply Status of Cash in Box n" format = "1, 3" mandatory = "O, O" description = "ECB6 Note Retention Mode ID ('D') - Not supported in Advance NDC 4.00, ECB6 Note Retention Mode - Not supported in Advance NDC 4.00" check = "true" classification = "ATM" parentId = "g"/>
      <field id="s" name = "Extended Status Info for Cash In Bins" format = "1, 3" mandatory = "O, O" description = "ECB6 Note Retention Mode ID ('D') - Not supported in Advance NDC 4.00, ECB6 Note Retention Mode - Not supported in Advance NDC 4.00" check = "true" classification = "ATM" parentId = "g"/>
      <field id="t" name = "Supply Status of Coin in Retract Bin" format = "1, 3" parentId="r" mandatory = "O, O" description = "ECB6 Note Retention Mode ID ('D') - Not supported in Advance NDC 4.00, ECB6 Note Retention Mode - Not supported in Advance NDC 4.00" check = "true" classification = "ATM"/>
      <field id="u" name = "Number of Coin in Boxes" format = "1, 3" parentId="r" mandatory = "O, O" description = "ECB6 Note Retention Mode ID ('D') - Not supported in Advance NDC 4.00, ECB6 Note Retention Mode - Not supported in Advance NDC 4.00" check = "true" classification = "ATM"/>
      <field id="v" name = "Supply Status of Coin in Box n" format = "1, 3" parentId="r" mandatory = "O, O" description = "ECB6 Note Retention Mode ID ('D') - Not supported in Advance NDC 4.00, ECB6 Note Retention Mode - Not supported in Advance NDC 4.00" check = "true" classification = "ATM"/>
      <field id="w" name = "Message Authentication Code (MAC)" format = "8" parentId="r" mandatory = "O" description = "Message Authentication Code (MAC) Data. Contains the calculated value for authentication of this message. The characters are in the range 0-9 and A-F." check = "true" classification = "ATM"/>
    </fields>
  </H004FTerminalStatusInfo>

  <TerminalCommand displayName="TerminalCommand">
    <pattern options="34">
      ^
      (?&lt;b&gt;1)
      (?&lt;c&gt;[^\x1C])?
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})?
      \x1C
      (?&lt;e&gt;[0-9A-Fa-f]{3})?
      \x1C
      (?&lt;f&gt;[1-9:;=&lt;&gt;?FG])
      (?&lt;g&gt;[0-8r])?
      \z
    </pattern>
    <fields>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '1' - Terminal Command." check = "true" classification = "Switch"/>
      <field id="c" name = "Response Flag" format = "1" mandatory = "O" description = "Response Flag. Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3" mandatory = "O" description = "Logical Unit Number (LUNO). Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="e" name = "Message Sequence Number" format = "3" mandatory = "O" description = "Message Sequence Number. Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="f" name = "Command Code" format = "1" mandatory = "M" description = "Command Code. One-character field used to identify the type of Terminal Command. The codes that can be used in this field are: Code Description 1 Go in-service (start-up). The Start-Up command is used to place the terminal In-Service after a power-up and Customisation Data load. The terminal sends a Ready status in response to a start-up command when the terminal enters the In-Service mode. If a start-up command is received while the terminal is In-Service, but not in State 000, the terminal sends a Ready status when it enters State 000. The start-up command can also put the terminal into service after a shut-down, exit from Supervisor mode or Suspend. 2 Go out-of-service (shut-down). The Shut-Down command places the terminal temporarily Out-of-Service. All pending messages are sent and current transactions completed before the terminal executes the shut-down. The terminal then indicates that it has successfully completed the shut-down procedure by sending a Ready status in a Solicited Status message. 3 Send configuration ID. The Send Configuration ID command asks the terminal to send the Config ID number to Central. 4 Send supply counters. The Send Supply Counters command asks the terminal to send the state of the supply counters to Central in the format identified by the Command Modifier field 'g', as follows: Send basic supply counters message Send extended supply counters message 5 Send tally information. Not supported; default message returned. 6 Send error log information. Not supported; default message returned. 7 Send configuration information. The Send Configuration Information command asks the terminal to send the following configuration information data, identified by the Command Modifier field 'g', to Central: Hardware Configuration * Supplies Status * Hardware Fitness * Sensor Status Software ID and release number Local Configuration Option Digits Note Definitions (BNA) * These categories return information for a subset of possible devices. 8 Send date and time information. The Send Date and Time Information command asks the terminal to send the locally held date and time to Central. 9 Reserved. : Reserved. ; Reserved. = Reserved. &lt;Reserved.&gt; Reserved. ? Reserved. F Disconnect. For details, see Chapter 13, CCM VISA2 Dialup System. G Maintain connection to complete transaction (No-Op). For details, see Chapter 13, CCM VISA2 Dialup System." check = "true" classification = "Switch"/>
      <field id="g" name = "Command Modifier" format = "1" mandatory = "O" description = "Command Modifier. This field can optionally be used when the Command Code is 2 or 4 and must be present when the Command Code is 5, 6 or 7. Code Go out-of-service (Command Code = 2) '0' Standard Out-of-Service screen displayed '1' Temporary Out-of-Service screen displayed Defaults to zero if: Any value other than zero or one is sent The field is empty Code Send Supply Counters message (Command Code = 4) none Send basic supply counters message '1' Send basic supply counters message '2' Send extended supply counters message Code Tally (Command Code = 5) not supported Code Error Log (Command Code = 6) not supported Code Configuration Information (Command Code = 7) none Send configuration information (included for compatibility with earlier releases) '1' Send hardware configuration data only '2' Send supplies data only '3' Send fitness data only '4' Send tamper and sensor status data only '5' Send software ID and release number data only '6' Send enhanced configuration data '7' Send local configuration option digits '8' Send cash item definitions (BNA) If the command modifier is not within the range '1' - '8', the message will be rejected. If the specific command reject option is set, a Specific Command Reject will be returned." check = "true" classification = "Switch"/>
    </fields>
  </TerminalCommand>
  <StateTableData displayName="StateTableData">
    <pattern options="34">
      ^
      (?&lt;a&gt;[\x02]*)
      (?&lt;b&gt;3)
      (?&lt;c&gt;[^\x1C])?
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})?
      \x1C
      (?&lt;e&gt;[0-9A-Fa-f]{3})?
      \x1C
      (?&lt;f&gt;1)
      (?&lt;g&gt;2)
      \x1C
      (?&lt;stateTable&gt;
      (?&lt;h_i&gt;.{10,28}
      \x1C?
      )*
      )
      ([\x1C]
      (?&lt;j&gt;[0-9A-F]{8})
      )?
      (?&lt;k&gt;[\x03]*)
      \z
    </pattern>
    <fields>
      <field id="a" name = "Header Data" format = "Var" mandatory = "O" description = "Message Header Data" check = "true" classification = "Switch"/>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '3' Data Command" check = "true" classification = "Switch"/>
      <field id="c" name = "Response Flag" format = "1" mandatory = "O" description = "Response Flag. Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3" mandatory = "O" description = "Logical Unit Number (LUNO). Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="e" name = "Message Sequence Number" format = "3" mandatory = "O" description = "Message Sequence Number. Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="f" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '1' Customisation Data" check = "true" classification = "Switch"/>
      <field id="g" name = "Message Identifier" format = "1" mandatory = "M" description = "Message Identifier. The message identifier is: '2' State Table" check = "true" classification = "Switch"/>
      <field id="stateTable" name = "State Table" format = "Var" mandatory = "M" description = "State Number. Contains a base 10 (decimal) number in the range 000 - 254 or 256 - 999, or a base 36 (alphanumeric) number in the range 000 - 254 or 256 - ZZZ. This identifies the state number for the state data which follows it. See Table Note 2. State Table Data. The first character identifies the state type. Valid values are: A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, R, S, T, V, W, X, Y, Z, b, d, e, f, g, k, m, w, _,&amp;, &gt;. Characters 2 to 25 give associated state data." check = "true" classification = "Switch"/>
      <field id="h_i" name = "State Number, State Data" format = "3, Var(25)" parentId="stateTable" mandatory = "M" description = "State Number. Contains a base 10 (decimal) number in the range 000 - 254 or 256 - 999, or a base 36 (alphanumeric) number in the range 000 - 254 or 256 - ZZZ. This identifies the state number for the state data which follows it. See Table Note 2. State Table Data. The first character identifies the state type. Valid values are: A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, R, S, T, V, W, X, Y, Z, b, d, e, f, g, k, m, w, _,&amp;, &gt;. Characters 2 to 25 give associated state data." check = "true" classification = "Switch"/>
      <field id="j" name = "Message Authentication Code (MAC) Data" format = "8" mandatory = "O" description = "Message Authentication Code (MAC) Data. Contains the value transmitted for authentication of this message." check = "true" classification = "Switch"/>
      <field id="k" name = "Trailer Data" format = "Var" mandatory = "O" description = "Message Trailer Data" check = "true" classification = "Switch"/>
    </fields>
  </StateTableData>
  <ScreenAndKeyboardData displayName="ScreenAndKeyboardData">
    <pattern options="34">
      ^
      (?&lt;a&gt;[\x02]*)
      (?&lt;b&gt;3)
      (?&lt;c&gt;[^\x1C])?
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})?
      \x1C
      (?&lt;e&gt;[0-9A-Fa-f]{3})?
      \x1C
      (?&lt;f&gt;1)
      (?&lt;g&gt;1)
      \x1C
      (?&lt;screenData&gt;
      (?&lt;h_i_j&gt;
      ([0-9A-Za-z]{3}|[0-9A-Za-z]{5}|[0-9A-Za-z]{6})
      ([^\x1C\x1D\x03]*)
      (
      (\x1D[^\x1C\x1D\x03]*)?
      (\x1D[^\x1C\x1D\x03]*)?
      (\x1D[^\x1C\x1D\x03]*)?
      (\x1D[^\x1C\x1D\x03]*)?
      )?
      \x1C?
      )*
      )?
      (?&lt;k&gt;[\x03]*)
      \z
    </pattern>
    <fields>
      <field id="a" name = "Header Data" format = "Var" mandatory = "O" description = "Message Header Data" check = "true" classification = "Switch"/>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '3' Data Command" check = "true" classification = "Switch"/>
      <field id="c" name = "Response Flag" format = "1" mandatory = "O" description = "Response Flag. Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3" mandatory = "O" description = "Logical Unit Number (LUNO). Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="e" name = "Message Sequence Number" format = "3" mandatory = "O" description = "Message Sequence Number. Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="f" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '1' Customisation Data" check = "true" classification = "Switch"/>
      <field id="g" name = "Message Identifier" format = "1" mandatory = "M" description = "Message Identifier. The message identifier is: '1' Screen and/or Keyboard Data" check = "true" classification = "Switch"/>
      <field id="screenData" name = "Screen Data Table" format = "Var" mandatory = "O" description = "Screen Number. Identifies the screen data being transmitted. For details, see Chapter 3, Screen Data. Screen numbers can be specified as three decimal digits (123), four decimal digits in double quotes (0123), a group letter and two digits or a group letter and four digits. The groups with four digit numbers are 'E', 'X', 'Y', 'Z' and 'u'. A screen defined in group 'l' is also accepted, mapping directly onto group 'u' (l0123 is equivalent to u0123). Note: The numbering for error message reserved screens consists of an alpha character followed by four numeric digits. The numbering for all other reserved screens consists of an alpha character followed by two numeric digits. Screen Data Field. Represents the data to be displayed on the cardholder screen or printer. This field always follows a screen number field and is always followed by a field separator or protocol-dependent trailer. For details, see Chapter 3, Screen Data. Keyboard Number and Keyboard Data. Identifies the physical keyboard data being transmitted. It must have a minimum of three characters in the range 000-999 that are used to specify the keyboard number to be processed. The remaining characters make up a variable length data field that defines the keyboard layout. This data is made up of sets of four characters, two for the position code and two for the return code. Touch Screen Data. Identifies the touch screen keyboard data being transmitted. The characters make up a variable length data field that defines the keyboard layout. This data is made up of sets of 34 characters, 32 for defining the touch area plus two for the return code. If you create new definitions, you can calculate the co-ordinates of the touch area manually. Nested Keyboard Data (not supported by Advance NDC). Miscellaneous Keyboard Data This field is reserved for future expansion." check = "true" classification = "Switch"/>
      <field id="h_i_j" name = "Screen Number, Screen Data Field, Keyboard Number and Keyboard Data, Touch Screen Data, Nested Keyboard Data, Miscellaneous Keyboard Data" format = "3,5 or 6, Var, Var" parentId="screenData" mandatory = "O" description = "Screen Number. Identifies the screen data being transmitted. For details, see Chapter 3, Screen Data. Screen numbers can be specified as three decimal digits (123), four decimal digits in double quotes (0123), a group letter and two digits or a group letter and four digits. The groups with four digit numbers are 'E', 'X', 'Y', 'Z' and 'u'. A screen defined in group 'l' is also accepted, mapping directly onto group 'u' (l0123 is equivalent to u0123). Note: The numbering for error message reserved screens consists of an alpha character followed by four numeric digits. The numbering for all other reserved screens consists of an alpha character followed by two numeric digits. Screen Data Field. Represents the data to be displayed on the cardholder screen or printer. This field always follows a screen number field and is always followed by a field separator or protocol-dependent trailer. For details, see Chapter 3, Screen Data. Keyboard Number and Keyboard Data. Identifies the physical keyboard data being transmitted. It must have a minimum of three characters in the range 000-999 that are used to specify the keyboard number to be processed. The remaining characters make up a variable length data field that defines the keyboard layout. This data is made up of sets of four characters, two for the position code and two for the return code. Touch Screen Data. Identifies the touch screen keyboard data being transmitted. The characters make up a variable length data field that defines the keyboard layout. This data is made up of sets of 34 characters, 32 for defining the touch area plus two for the return code. If you create new definitions, you can calculate the co-ordinates of the touch area manually. Nested Keyboard Data (not supported by Advance NDC). Miscellaneous Keyboard Data This field is reserved for future expansion." check = "true" classification = "Switch"/>
      <field id="k" name = "Trailer Data" format = "Var" mandatory = "O" description = "Message Trailer Data" check = "true" classification = "Switch"/>
    </fields>
  </ScreenAndKeyboardData>
  <FitData displayName="FitData">
    <pattern options="34">
      ^
      (?&lt;a&gt;[\x02]*)
      (?&lt;b&gt;3)
      (?&lt;c&gt;[^\x1C])?
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})?
      \x1C
      (?&lt;e&gt;[0-9A-Fa-f]{3})?
      \x1C
      (?&lt;f&gt;1)
      (?&lt;g&gt;5)
      \x1C
      (?&lt;fitData&gt;
      (?&lt;h_i&gt;
      ([0-9]{3})
      ([0-9A-Za-z]*)
      \x1C?
      )*
      )
      ([\x1C]
      (?&lt;j&gt;[0-9A-F]{8})
      )?
      (?&lt;m&gt;[\x03]*)
      \z
    </pattern>
    <fields>
      <field id="a" name = "Header Data" format = "Var" mandatory = "O" description = "Message Header Data" check = "true" classification = "Switch"/>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '3' Data Command" check = "true" classification = "Switch"/>
      <field id="c" name = "Response Flag" format = "1" mandatory = "O" description = "Response Flag. Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3" mandatory = "O" description = "Logical Unit Number (LUNO). Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="e" name = "Message Sequence Number" format = "3" mandatory = "O" description = "Message Sequence Number. Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="f" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '1' Customisation Data" check = "true" classification = "Switch"/>
      <field id="g" name = "Message Identifier" format = "1" mandatory = "M" description = "Message Identifier. The message identifier is: '5' FIT Data" check = "true" classification = "Switch"/>
      <field id="fitData" name = "FIT Data Table" format = "Var" mandatory = "M" description = "FIT Number. Designates the number assigned to the FIT in the following field. Values in the range 000 to 999 are valid. The FIT number defines the search order. For example, FIT 000 is the first entry checked during a FIT search. If there is a gap in the numbering range, all omitted entries in the FIT data default to 000. If linked FITs are used, they must have consecutive FIT numbers. FIT Data. Specifies control words for local PIN verification, remote PIN encryption and indirect next state processing. FIT data consists of a number of three character entries. The valid range is 000 to 255, representing decimal values in the range 000-255. The terminal stores 41 entries. Those in excess of this are ignored. If fewer than 41 entries are received, no values are stored." check = "true" classification = "Switch"/>
      <field id="h_i" name = "FIT Number, FIT Data" format = "3, Var" mandatory = "M" parentId="fitData" description = "FIT Number. Designates the number assigned to the FIT in the following field. Values in the range 000 to 999 are valid. The FIT number defines the search order. For example, FIT 000 is the first entry checked during a FIT search. If there is a gap in the numbering range, all omitted entries in the FIT data default to 000. If linked FITs are used, they must have consecutive FIT numbers. FIT Data. Specifies control words for local PIN verification, remote PIN encryption and indirect next state processing. FIT data consists of a number of three character entries. The valid range is 000 to 255, representing decimal values in the range 000-255. The terminal stores 41 entries. Those in excess of this are ignored. If fewer than 41 entries are received, no values are stored." check = "true" classification = "Switch"/>
      <field id="j" name = "Message Authentication Code (MAC) Data" format = "8" mandatory = "O" description = "Message Authentication Code (MAC) Data. Contains the value transmitted for authentication of this message. The characters are 0-9, A-F." check = "true" classification = "Switch"/>
      <field id="m" name = "Trailer Data" format = "Var" mandatory = "O" description = "Message Trailer Data" check = "true" classification = "Switch"/>
    </fields>
  </FitData>
  <ConfigurationData displayName="ConfigurationData">
    <pattern options="34">
      ^
      (?&lt;a&gt;[\x02]*)
      (?&lt;b&gt;3)
      (?&lt;c&gt;[^\x1C])?
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})?
      \x1C
      (?&lt;e&gt;[0-9A-Fa-f]{3})?
      \x1C
      (?&lt;f&gt;1)
      (?&lt;g&gt;3)
      \x1C
      (?&lt;h_i_j_k_l_m_n&gt;
      (?&lt;h&gt;[0-9])
      (?&lt;i&gt;[0-9]{3})
      (?&lt;j&gt;[0-9]{3})
      (?&lt;k&gt;[0-9]{3})
      (?&lt;l&gt;[0-9]{3})
      (?&lt;m&gt;[0-9]{3})
      (?&lt;n&gt;000000000)
      )?
      (\x1C
      (?&lt;o&gt;[0-9]{3})?
      )?
      (\x1C
      (?&lt;timers&gt;(?&lt;p_q&gt;(([0-9]{2})([0-9]{3}))*))
      )?
      (?&lt;r&gt;[\x03]*)
      \z
    </pattern>
    <fields>
      <field id="a" name = "Header Data" format = "Var" mandatory = "O" description = "Message Header Data" check = "true" classification = "Switch"/>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '3' Data Command" check = "true" classification = "Switch"/>
      <field id="c" name = "Response Flag" format = "1" mandatory = "O" description = "Response Flag. Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3" mandatory = "O" description = "Logical Unit Number (LUNO). Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="e" name = "Message Sequence Number" format = "3" mandatory = "O" description = "Message Sequence Number. Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="f" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '1' Customisation Data" check = "true" classification = "Switch"/>
      <field id="g" name = "Message Identifier" format = "1" mandatory = "M" description = "Message Identifier. The message identifier is: '3' State Table" check = "true" classification = "Switch"/>
      <field id="h_i_j_k_l_m_n" name = "Camera Control, Reserved, Reserved, Reserved, Reserved, Supply_Ready_AmountBuffer, Reserved" format = "1,3,3,3,3,3,9" mandatory = "O,O,O,O,O,O,O" description = "Camera Control, Reserved, Reserved, Reserved, Reserved, Supply Mode, Ready Status and Amount Buffer Length Options. Reserved. Must be 000 000 000." check = "true" classification = "Switch"/>
      <field id="o" name = "LUNO" format = "3" mandatory = "O" description = " LUNO. Logical Unit Number to return in transaction requests, and solicited status and unsolicited status messages sent by the terminal." check = "true" classification = "Switch"/>
      <field id="timers" name = "Timers" format = "Var" mandatory = "O" description = "Timer Number, Number of 800 Millisecond Ticks per Timer Field." check = "true" classification = "Switch"/>
      <field id="p_q" name = "Timer Number, Number of 800 Millisecond Ticks per Timer Field" format = "2, 3" parentId="timers" mandatory = "O, O" description = "Timer Number, Number of 800 Millisecond Ticks per Timer Field." check = "true" classification = "Switch"/>
      <field id="r" name = "Trailer Data" format = "Var" mandatory = "O" description = "Message Trailer Data" check = "true" classification = "Switch"/>
    </fields>
  </ConfigurationData>
  <EnhancedConfigurationData displayName="EnhancedConfigurationData">
    <pattern options="34">
      ^
      (?&lt;a&gt;[\x02]*)
      (?&lt;b&gt;3)
      (?&lt;c&gt;[^\x1C])?
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})?
      \x1C
      (?&lt;e&gt;[0-9A-Fa-f]{3})?
      \x1C
      (?&lt;f&gt;1)
      (?&lt;g&gt;A)
      \x1C
      (?&lt;h&gt;[0-9]{3})?
      (\x1C
      (?&lt;options&gt;(?&lt;i_j&gt;(([0-9]{2})?([0-9]{3})?)*)?)
      )?
      (\x1C
      (?&lt;timers&gt;(?&lt;k_l&gt;(([0-9]{2})?([0-9]{3})?)*)?)
      )?
      (?&lt;m&gt;[\x03]*)
      \z
    </pattern>
    <fields>
      <field id="a" name = "Header Data" format = "Var" mandatory = "O" description = "Message Header Data" check = "true" classification = "Switch"/>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '3' Data Command" check = "true" classification = "Switch"/>
      <field id="c" name = "Response Flag" format = "1" mandatory = "O" description = "Response Flag. Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3" mandatory = "O" description = "Logical Unit Number (LUNO). Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="e" name = "Message Sequence Number" format = "3" mandatory = "O" description = "Message Sequence Number. Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="f" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '1' Customisation Data" check = "true" classification = "Switch"/>
      <field id="g" name = "Message Identifier" format = "1" mandatory = "M" description = "Message Identifier. The message identifier is: 'A' - Enhanced Configuration Data" check = "true" classification = "Switch"/>
      <field id="h" name = "Logical Unit Number" format = "3" mandatory = "O" description = "Logical Unit Number. As field 'o' of Configuration Parameters Load" check = "true" classification = "Switch"/>
      <field id="options" name = "Options" format = "Var" mandatory = "O" description = "Option Number. Contains a configuration option number, for which the values are held in field 'j'. Option Code. Specifies the configuration for the function (option number) in field 'i'. Option numbers are as follows.  Option Number Description of Option 00 Camera control option: as field 'h' in Configuration Parameters Load; (for details, see page 7-1) 01 Ready/Supply/Amount buffer options: as field 'm' in Configuration Parameters Load; (for details, see page 7-2) 02 Auto voice 03 Date format for Supervisor journal messages 04 Roll width 05 Left print column. 06 Reserved 07 Track 1 format 0811 Reserved 12 Specific command reject option 1314 Reserved 15 Transaction status information option 16 Journal printer backup time option 17 Journal printer backup print operations option 18 - 22 Reserved 23 Envelope dispenser status option. 24 Enhanced TI/Sensor status option. 25 Media entry/exit indicators flash rate option. 26 Reserved 27 Remote relay 28 - 31 Reserved 32 Unsolicited Reporting Control for camera and voice guidance 33 Simulate Supervisor Mode entry/exit 34 MCN range 35 Report Dual Mode EJ and Hardcopy Backup Unsolicited Messages 36 Enhanced EJ backup 37 Print Track 2 to Journal 38 - 43 Reserved 44 Bunch Note Acceptor (BNA) Journal Vaulted Notes Count 45 Bunch Note Acceptor (BNA) Message Settings 46 MCRW Enhanced Card Device (ECD) Security Jitter 47 Reserved 48 Barcode reader 49-68 Reserved 69 EMV Smart Card Extended Status: reserved for use with EMV/CAM2 Exits. 70 EMV Smart Card: reserved. 71 Time-Out State entry 74 Cash Deposit Retract Destination 76 Cash Handlers 77 78 79 80 83 Next state number GBRU variant reporting Coin Dispenser Alphanumeric State Entry Cheque Processing Module" check = "true" classification = "Switch"/>
      <field id="i_j" name = "Option Number, Option Code" format = "2, 3" mandatory = "O, O" parentId="options" description = "Option Number. Contains a configuration option number, for which the values are held in field 'j'. Option Code. Specifies the configuration for the function (option number) in field 'i'. Option numbers are as follows.  Option Number Description of Option 00 Camera control option: as field 'h' in Configuration Parameters Load; (for details, see page 7-1) 01 Ready/Supply/Amount buffer options: as field 'm' in Configuration Parameters Load; (for details, see page 7-2) 02 Auto voice 03 Date format for Supervisor journal messages 04 Roll width 05 Left print column. 06 Reserved 07 Track 1 format 0811 Reserved 12 Specific command reject option 1314 Reserved 15 Transaction status information option 16 Journal printer backup time option 17 Journal printer backup print operations option 18 - 22 Reserved 23 Envelope dispenser status option. 24 Enhanced TI/Sensor status option. 25 Media entry/exit indicators flash rate option. 26 Reserved 27 Remote relay 28 - 31 Reserved 32 Unsolicited Reporting Control for camera and voice guidance 33 Simulate Supervisor Mode entry/exit 34 MCN range 35 Report Dual Mode EJ and Hardcopy Backup Unsolicited Messages 36 Enhanced EJ backup 37 Print Track 2 to Journal 38 - 43 Reserved 44 Bunch Note Acceptor (BNA) Journal Vaulted Notes Count 45 Bunch Note Acceptor (BNA) Message Settings 46 MCRW Enhanced Card Device (ECD) Security Jitter 47 Reserved 48 Barcode reader 49-68 Reserved 69 EMV Smart Card Extended Status: reserved for use with EMV/CAM2 Exits. 70 EMV Smart Card: reserved. 71 Time-Out State entry 74 Cash Deposit Retract Destination 76 Cash Handlers 77 78 79 80 83 Next state number GBRU variant reporting Coin Dispenser Alphanumeric State Entry Cheque Processing Module" check = "true" classification = "Switch"/>
      <field id="timers" name = "Timers" format = "Var" mandatory = "O" description = "Timer Number. Contains the timer number. The use of the timers is as follows. Timers with an asterisk (*) can be adjusted for a voice-guided session. For more information, see Timers on page 7-22. '00' * Keyboard entry time-out '01' * Cardholder response to time-out screen time-out '02' Close state screen time-out '03' Communications response time-out '04' * Envelope/cheque insertion time-out '05' * Cash retract time-out '06' Poll/select time-out '07' * Present time-out '08' * Night safe deposit time-out '09' * Card removal time-out '10' Additional present time-out '11 - 59' Reserved '60' EJ acknowledgement timer '61' * Barcode reader scan time-out '62' Reserved '63' Hardware failure screen time-out '64 - 67' Reserved '68' Statement MEI duration time-out '69' Receipt MEI duration time-out '70' 71' Reserved '72' DASH card removal time-out '73 -76' Reserved '77' * BNA cash acceptance time-out '78' * GBXX cash retract time-out '79 - 86' Reserved '87' * Cheque capture screen time-out '88 - 91' Reserved '92' Fault display time-out '93' Reserved '94' * Cheque removal time-out '95' * Statement retract time-out '96' * Statement present time-out '97 - 99' Reserved. Customisation Data Commands Number of Seconds per Timer Field. Specifies the time-out interval for the preceding timer in seconds. The number of seconds can be 001-255. If the time-out interval is not specified, the timer default value of 30 seconds is applied." check = "true" classification = "Switch"/>
      <field id="k_l" name = "Timer Number, Customisation Data Commands Number of Seconds per Timer Field" format = "2, 3" mandatory = "O, O" parentId="timers"  description = "Timer Number. Contains the timer number. The use of the timers is as follows. Timers with an asterisk (*) can be adjusted for a voice-guided session. For more information, see Timers on page 7-22. '00' * Keyboard entry time-out '01' * Cardholder response to time-out screen time-out '02' Close state screen time-out '03' Communications response time-out '04' * Envelope/cheque insertion time-out '05' * Cash retract time-out '06' Poll/select time-out '07' * Present time-out '08' * Night safe deposit time-out '09' * Card removal time-out '10' Additional present time-out '11 - 59' Reserved '60' EJ acknowledgement timer '61' * Barcode reader scan time-out '62' Reserved '63' Hardware failure screen time-out '64 - 67' Reserved '68' Statement MEI duration time-out '69' Receipt MEI duration time-out '70' 71' Reserved '72' DASH card removal time-out '73 -76' Reserved '77' * BNA cash acceptance time-out '78' * GBXX cash retract time-out '79 - 86' Reserved '87' * Cheque capture screen time-out '88 - 91' Reserved '92' Fault display time-out '93' Reserved '94' * Cheque removal time-out '95' * Statement retract time-out '96' * Statement present time-out '97 - 99' Reserved. Customisation Data Commands Number of Seconds per Timer Field. Specifies the time-out interval for the preceding timer in seconds. The number of seconds can be 001-255. If the time-out interval is not specified, the timer default value of 30 seconds is applied." check = "true" classification = "Switch"/>
      <field id="m" name = "Trailer Data" format = "Var" mandatory = "O" description = "Message Trailer Data" check = "true" classification = "Switch"/>
    </fields>
  </EnhancedConfigurationData>
  <ConfigurationIdData displayName="ConfigurationIdData">
    <pattern options="34">
      ^
      (?&lt;a&gt;[\x02]*)
      (?&lt;b&gt;3)
      (?&lt;c&gt;[^\x1C])?
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})?
      \x1C
      (?&lt;e&gt;[0-9A-Fa-f]{3})?
      \x1C
      (?&lt;f&gt;1)
      (?&lt;g&gt;6)
      \x1C
      (?&lt;h&gt;[0-9]{4})
      (?&lt;i&gt;[\x03]*)
      \z
    </pattern>
    <fields>
      <field id="a" name = "Header Data" format = "Var" mandatory = "O" description = "Message Header Data" check = "true" classification = "Switch"/>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '3' Data Command" check = "true" classification = "Switch"/>
      <field id="c" name = "Response Flag" format = "1" mandatory = "O" description = "Response Flag. Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3" mandatory = "O" description = "Logical Unit Number (LUNO). Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="e" name = "Message Sequence Number" format = "3" mandatory = "O" description = "Message Sequence Number. Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="f" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '1' Customisation Data" check = "true" classification = "Switch"/>
      <field id="g" name = "Message Identifier" format = "1" mandatory = "M" description = "Message Identifier. The message identifier is: '6' - Configuration ID number " check = "true" classification = "Switch"/>
      <field id="h" name = "Configuration ID Number" format = "4" mandatory = "M" description = "Configuration ID Number. The valid range is 0001-9999." check = "true" classification = "Switch"/>
      <field id="i" name = "Trailer Data" format = "Var" mandatory = "O" description = "Message Trailer Data" check = "true" classification = "Switch"/>
    </fields>
  </ConfigurationIdData>
  <MacFieldSelection displayName="MacFieldSelection">
    <pattern options="34">
      ^
      (?&lt;a&gt;[\x02]*)
      (?&lt;b&gt;3)
      (?&lt;c&gt;[^\x1C])?
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})?
      \x1C
      (?&lt;e&gt;[0-9A-Fa-f]{3})?
      \x1C
      (?&lt;f&gt;1)
      (?&lt;g&gt;B)
      \x1C
      (?&lt;h&gt;[0-9]{0,47})
      \x1C?
      (?&lt;i&gt;[0-9]{0,36})
      \x1C?
      (?&lt;j&gt;[0-9]{0,11})
      \x1C?
      (?&lt;k&gt;[0-9]{0,4})
      \x1C?
      (?&lt;l&gt;[0-9]{0,6})
      \x1C?
      (?&lt;m&gt;[0-9]{0,6})
      \x1C?
      (?&lt;n&gt;[0-9]{0,11})
      \x1C?
      (?&lt;o&gt;[0-9]{0,5})
      ([\x1C]
      (?&lt;p&gt;[0-9A-F]{8})
      )?
      (?&lt;q&gt;[\x03]*)
      \z
    </pattern>
    <fields>
      <field id="a" name = "Header Data" format = "Var" mandatory = "O" description = "Message Header Data" check = "true" classification = "Switch"/>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '3' Data Command" check = "true" classification = "Switch"/>
      <field id="c" name = "Response Flag" format = "1" mandatory = "O" description = "Response Flag. Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3" mandatory = "O" description = "Logical Unit Number (LUNO). Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="e" name = "Message Sequence Number" format = "3" mandatory = "O" description = "Message Sequence Number. Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="f" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '1' Customisation Data" check = "true" classification = "Switch"/>
      <field id="g" name = "Message Identifier" format = "1" mandatory = "M" description = "Message Identifier. The message identifier is: 'B' - Message Authentication Field selection" check = "true" classification = "Switch"/>
      <field id="h" name = "Transaction Request Field" format = "Var (47)" mandatory = "O" description = "Transaction Request Field. This field contains the field selection data for the transaction request message. The fields of the Transaction Request message are selected for inclusion in the MAC if the relevant offset byte is set to 1. The offsets for the Transaction Request message fields are shown: Offset Description 0 0 - MAC the complete message. Ignore the following digits in the field 1 - Selectively MAC the fields below if the relevant byte is set to 1 1 Fields 'b' and 'c' 2 Field 'd' 3 Reserved 4 Field 'e' 5 Field 'f' 6 Field 'g' 7 Field 'h' 8 Field 'i' 9 Field 'j' 10 Field 'k' 11 Field 'l' 12 Field 'm' 13 Field 'n' 14 Field 'o' 15 Field 'p' 16 Fields 'q' and 'r', optionally buffer 'f' 17 Field 'aa' * - Identified by Data ID 'A' - Reserved 18 Field 'ab' * - Identified by Data ID 'B' - Reserved 19 Field 'ac' * - Identified by Data ID '6' - Reserved 20 Field 'ad' * - Identified by Data ID 'C' - Reserved 21 Field 'ae' * - Identified by Data ID 'D' - Reserved 22 Field 'af' * - Identified by Data ID 'E' - Reserved 23 Field 'ag' * - Identified by Data ID 'F' - Reserved 24 Field 'ah' * - Identified by Data ID 'G' - Reserved 25 Field 'ai' * - Identified by Data ID 'H' - Reserved 26 Field 'aj' * - Identified by Data ID 'I' - Reserved 27 Field 'ak' * - Identified by Data ID 'J' - Reserved 28 Field 'al' * - Identified by Data ID 'K' - Reserved 29 Field 'am' * - Identified by Data ID 'L' - Reserved 30 Field 'an' * - Identified by Data ID 'M' - Reserved 31 Field 'ao' * - Identified by Data ID 'N' - Reserved 32 Field 'ap' * - Identified by Data ID 'O' - Reserved 33 Field 'aq' * - Identified by Data ID 'P' - Reserved 34 Field 'ar' * - Identified by Data ID 'Q' -Reserved 35 Field 'as' * - Identified by Data ID 'R' - Reserved 36 Field 'at' * - Identified by Data ID 'S' - Reserved 37 Field 'au' * - Identified by Data ID 'T' - Reserved 38 Field 'av' * - Identified by Data ID 'U' - CSP Data 39 Field 'aw' * - Identified by Data ID 'V' - Confirmation CSP Data 40 Field 'ax' * - Identified by Data ID 'W' - Available for use by Exits 41 Field 'ay' * - Identified by Data ID 'X' - Available for use by Exits 42 Field 'az' * - Identified by Data ID 'Y' - Available for use by Exits 43 Field 'ba' * - Identified by Data ID 'Z' - Available for use by Exits 44 Field 'bb' * - Identified by Data ID '[' - Available for use by Exits 45 Field 'bc' * - Identified by Data ID '\' - Available for use by Exits 46 Field 'bd' * - Identified by Data ID '5' - Available for use by EMV/CAM2 Exits 51 Field 'ce' identified by Data ID 'e' - Barcode reader data * Indicates that all the elements present for that field will be MACed (group separators excluded)." check = "true" classification = "Switch"/>
      <field id="i" name = "Transaction Reply Field" format = "Var (36)" mandatory = "O" description = "Transaction Reply Field. This field contains the selection data for the Transaction Reply message. The fields of the Transaction Reply message are selected for inclusion in the MAC if the relevant offset byte is set to 1. The offsets for the transaction reply message fields are shown below: Offset Description 0 0 - MAC the complete message. Ignore the following digits in the field 1 - Selectively MAC the fields below if the relevant byte is set to 1 1 Fields 'b' and 'c' 2 Field 'd' 3 Field 'e' 4 Field 'f' 5 Fields 'g', 'h', 'i', 'j' and 'j1' - 'jn' 6 Field 'k' 7 Field 'l' 8 Field 'm' 9 Field 'n' 10 Field 'o' 11 Field 'p' 12 Fields 'q' and 'r' 13 Fields 's' and 't' 14 Fields 'u', 'v' and subsequent print fields. See Table Note 18. 15 Field 'w' 16 Field 'x' 17 Field 'aa' * - Identified by Data ID 'A' - Reserved 18 Field 'ab' * - Identified by Data ID 'B' - Reserved 19 Field 'ac' * - Identified by Data ID 'C' - Reserved 20 Field 'ad' * - Identified by Data ID 'D' - Reserved 21 Field 'ae' * - Identified by Data ID 'E' - Reserved 22 Field 'af' * - Identified by Data ID 'F' - Reserved 23 Field 'ag' * - Identified by Data ID 'G' - Reserved 24 Field 'ah' * - Identified by Data ID 'H' - Reserved 25 Field 'ai' * - Identified by Data ID 'I' - Reserved 26 Field 'aj' * - Identified by Data ID 'J' - Reserved 27 Field 'ak' * - Identified by Data ID 'K' - Track 1 Data 28 Field 'al' * - Identified by Data ID 'L' - Track 2 Data 29 Field 'am' * - Identified by Data ID 'M' - Virtual Controller data 30 Field 'an' * - Identified by Data ID 'N' - Virtual Controller data 31 Field 'ao' * - Identified by Data ID 'O' - Virtual Controller data 32 Field 'ap' * - Identified by Data ID 'P' - Virtual Controller data 33 Field 'aq' * - Identified by Data ID 'Q' - Virtual Controller data 34 Field 'ar' * - Identified by Data ID 'R' - Virtual Controller data 35 Field 'as' * - Identified by Data ID 'a' - single cheque deposit data. 36 Field 'at' * - Identified by Data ID '5' - Available for use by EMV/CAM2 Exits. See Table Note 20. * Indicates that all the elements present for that field will be MACed (group separators excluded)." check = "true" classification = "Switch"/>
      <field id="j" name = "Solicited Status Field" format = "11" mandatory = "O" description = "Solicited Status Field. This field contains the MAC selection data for the solicited status message." check = "true" classification = "Switch"/>
      <field id="k" name = "Other Messages Field" format = "4" mandatory = "O" description = "Other Messages Field. This field contains the MAC selection data for FIT load, state tables load, terminal state status and Dispenser Currency Cassette Mapping Table messages." check = "true" classification = "Switch"/>
      <field id="l" name = "Track 1 Field" format = "6" mandatory = "O" description = "Track 1 Field. This field contains the MAC selection data for magnetic card track 1." check = "true" classification = "Switch"/>
      <field id="m" name = "Track 2 Field" format = "6" mandatory = "O" description = "Track 2 Field. This field contains the MAC selection data for magnetic card track 2." check = "true" classification = "Switch"/>
      <field id="n" name = "Track 3 Field" format = "11" mandatory = "O" description = "Track 3 Field. This field contains the MAC selection data for magnetic card track 3." check = "true" classification = "Switch"/>
      <field id="o" name = "EMV Smart Card Configuration" format = "5" mandatory = "O" description = "EMV Smart Card Configuration. This field contains the MAC selection data for the EMV Configuration message." check = "true" classification = "Switch"/>
      <field id="p" name = "Message Authentication Code (MAC) Data" format = "5" mandatory = "O" description = "Message Authentication Code (MAC) Data. This field contains the eight-character value transmitted for authentication of this message. The characters are 0-9 and A-F." check = "true" classification = "Switch"/>
      <field id="q" name = "Trailer Data" format = "Var" mandatory = "O" description = "Message Trailer Data" check = "true" classification = "Switch"/>
    </fields>
  </MacFieldSelection>
  <DateAndTimeData displayName="DateAndTimeData">
    <pattern options="34">
      ^
      (?&lt;a&gt;[\x02]*)
      (?&lt;b&gt;3)
      (?&lt;c&gt;[^\x1C])?
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})?
      \x1C
      (?&lt;e&gt;[0-9A-Fa-f]{3})?
      \x1C
      (?&lt;f&gt;1)
      (?&lt;g&gt;C)
      \x1C
      (?&lt;h&gt;[0-9]{10})
      (?&lt;i&gt;[\x03]*)
      \z
    </pattern>
    <fields>
      <field id="a" name = "Header Data" format = "Var" mandatory = "O" description = "Message Header Data" check = "true" classification = "Switch"/>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '3' Data Command" check = "true" classification = "Switch"/>
      <field id="c" name = "Response Flag" format = "1" mandatory = "O" description = "Response Flag. Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3" mandatory = "O" description = "Logical Unit Number (LUNO). Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="e" name = "Message Sequence Number" format = "3" mandatory = "O" description = "Message Sequence Number. Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="f" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '1' Customisation Data" check = "true" classification = "Switch"/>
      <field id="g" name = "Message Identifier" format = "1" mandatory = "M" description = "Message Identifier. The message identifier is: 'C' - Date and Time" check = "true" classification = "Switch"/>
      <field id="h" name = "Date/Time Data" format = "10" mandatory = "M" description = "Date/Time Data. This field contains the date and time in the following format: YY = Year ('00' - '99') MM = Month ('01' - '12') DD = Day ('01' - '31') HH = Hour ('00' - '23') MM = Minute ('00' - '59') If 00&lt;=YY&lt;=89, the year is taken to be in the range 2000&lt;=YY&lt;=2089. If 90&lt;=YY&lt;=99, the year is taken to be in the range 1990&lt;=YY&lt;=1999. Note: Seconds are set to zero when the date and time are set." check = "true" classification = "Switch"/>
      <field id="i" name = "Trailer Data" format = "Var" mandatory = "O" description = "Message Trailer Data" check = "true" classification = "Switch"/>
    </fields>
  </DateAndTimeData>
  <EncryptionKeyChange displayName="EncryptionKeyChange">
    <pattern options="34">
      ^
      (?&lt;a&gt;[\x02]*)
      (?&lt;b&gt;3)
      (?&lt;c&gt;[^\x1C])?
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})?
      \x1C
      (?&lt;e&gt;[0-9A-Fa-f]{3})?
      \x1C
      (?&lt;f&gt;3)
      (?&lt;g&gt;[1-9])
      \x1C?
      (
      (?&lt;h&gt;[0-9]{24})
      |
      (?&lt;h&gt;\x1C?[0-9]{288})
      )
      (?&lt;i&gt;[\x03]*)
      \z
    </pattern>
    <fields>
      <field id="a" name = "Header Data" format = "Var" mandatory = "O" description = "Message Header Data" check = "true" classification = "Switch"/>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '3' Data Command" check = "true" classification = "Switch"/>
      <field id="c" name = "Response Flag" format = "1" mandatory = "O" description = "Response Flag. Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3" mandatory = "O" description = "Logical Unit Number (LUNO). Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="e" name = "Message Sequence Number" format = "3" mandatory = "O" description = "Message Sequence Number. Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="f" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '3' - Encryption Key Information" check = "true" classification = "Switch"/>
      <field id="g" name = "Modifier" format = "1" mandatory = "M" description = "Modifier. This one-character field specifies the encryption key change to take place: '1' - Decipher new master key with current master key * '2' - Decipher new communications key with current master key * '3' - Decipher new communications key with current communications key * '4' - Use locally-entered communications key ('B' key) as current communications key '5' - Decipher new MAC key with current master key * '6' - Decipher new MAC key with current communications key * '7' - Use locally-entered communications key ('B' key) as current MAC key '8' - Decipher new VISA master key with current VISA master key * '9' - Key data is new VISA key table; the equivalent old key is overwritten. See Table Note 21. * The equivalent old key is overwritten." check = "true" classification = "Switch"/>
      <field id="h" name = "New Key Data" format = "24 or 288" mandatory = "O" description = "New Key Data. Key data consists of entries of three characters. The valid range of each entry is 000-255. Each entry defines the value of two hexadecimal encryption key digits. A key consists of eight entries. The first entry contains digits 1 and 2. The last entry contains digits 15 and 16 (95 and 96). For example, 255, 254, 253, 252, 251, 250, 249, 248 is equivalent to FF, FE, FD, FC, FB, FA, F9, F8 entered locally at the terminal." check = "true" classification = "Switch"/>
      <field id="i" name = "Trailer Data" format = "Var" mandatory = "O" description = "Message Trailer Data" check = "true" classification = "Switch"/>
    </fields>
  </EncryptionKeyChange>
  <ExtendedEncryptionKeyChange displayName="ExtendedEncryptionKeyChange">
    <pattern options="34">
      ^
      (?&lt;a&gt;[\x02]*)
      (?&lt;b&gt;3)
      (?&lt;c&gt;[^\x1C])?
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})?
      \x1C
      (?&lt;e&gt;[0-9A-Fa-f]{3})?
      \x1C
      (?&lt;f&gt;4)
      (?&lt;g&gt;[1-9A-Z])
      \x1C?
      (?&lt;h&gt;[0-9]{3})?
      (?&lt;i&gt;[\x20-\x7E]{1,640})?
      (?&lt;k&gt;[\x03]*)
      \z
    </pattern>
    <fields>
      <field id="a" name = "Header Data" format = "Var" mandatory = "O" description = "Message Header Data" check = "true" classification = "Switch"/>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '3' Data Command" check = "true" classification = "Switch"/>
      <field id="c" name = "Response Flag" format = "1" mandatory = "O" description = "Response Flag. Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3" mandatory = "O" description = "Logical Unit Number (LUNO). Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="e" name = "Message Sequence Number" format = "3" mandatory = "O" description = "Message Sequence Number. Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="f" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '4' - Extended Encryption Key Information" check = "true" classification = "Switch"/>
      <field id="g" name = "Modifier" format = "1" mandatory = "M" description = "Modifier. This one-character field specifies the encryption key change to take place: '1' - Decipher new master key with current master key. '2' - Decipher new communications key with current master key. '3' - Decipher new communications key with current communications key.  '4' - Use locally entered communications key ('B' key) as current communications key. '5' - Decipher new MAC key with current master key. '6' - Decipher new MAC key with current communications key. '7' - Use locally entered communications key ('B' key) as current MAC key.  '8' - Decipher new VISA master key with current VISA master key. '9' - Key data is new VISA key table. 'A' - Decipher new VISA master key with current master key. 'B' - Load Host Security Module (HSM) public key and signature. The key data field contains the HSM public key (PK-HSM) and signature block (PK-HSM) created using SK-NCR, each base 94 encoded giving a total length of 640 bytes. 'C' - Load initial master key (A-key) with RSA key. The key data field contains the initial A-key encrypted with the EPP public key [A-KEY], PK-EPP and signature block ([A-KEY], PK-EPP) created using SK-HSM, each base 94 encoded giving a total length of 640 bytes. 'D' - Load new initial communications key (B-key) with RSA key. The key data field contains the initial B-key encrypted with the EPP public key [B-KEY], PK-EPP and signature block ([B-KEY], PK-EPP) created using SK-HSM, each base 94 encoded giving a total length of 640 bytes. 'E' - Load new initial VISA master key (V-key) with RSA key. The key data field contains the initial V-key encrypted with the EPP public key [V-KEY], PK-EPP and signature block ([V-KEY], PK-EPP) created using SK-HSM, each base 94 encoded giving a total length of 640 bytes. 'F' - Send EPP serial number. The terminal will respond with an Encryptor Initialisation Data message containing the signed serial number. If the EPP serial number returned by the EPP is not 8 bytes in length. it will be rejected with a Specific Command Reject code of E06. If the encryptor has previously been used in BAPE mode, this command option will fail unless the key entry mode is changed through either the modifier 'J' or the Supervisor Access menu. 'G' - Send EPP public key. The terminal will respond with an Encryptor Initialisation Data message containing the signed EPP public key 'H' - Send all KVVs.  'I' - Reserved. 'J' - Set key entry mode. 'K' - Send current key entry mode 'L' - Load host certificate (primary or secondary) 'M' - Send SST certificate 'N' - Send SST random number This is supported only if the SST is using certificates or the Enhanced Signature scheme for remote key loading. If 'N' is not supported, the message will be rejected with reason E02: 'O' - Load A-key PKCS7 encoded. 'P' - Replace certification authority certificate 'Q' - Send encryptor capabilities and state. 'R' - Load NCR Sub public key and signature.  'S' - Delete HSM public key.  'T' - Delete NCR Sub public key.  'U' - Send EPP attributes.  'V' - Send variable length EPP serial number." check = "true" classification = "Switch"/>
      <field id="h" name = "Key Data Size" format = "3" mandatory = "O" description = "Key Data Size. Specifies the size of the following key data field in hexadecimal (hex). For a single-length DES key, the size is 018 hex (24 decimal) characters. For a double-length DES key, the size is 030 hex (48 decimal) characters. For the six VISA table keys, the size is 120 hex (288 decimal) characters." check = "true" classification = "Switch"/>
      <field id="i" name = "New Key Data" format = "0 - 640" mandatory = "O" description = "New Key Data. Maximum length is 640 bytes. For DES keys, the key data consists of entries of three characters. The valid range of each entry is 000-255. Each entry defines the value of two hexadecimal encryption key digits. A key consists of eight entries for a single-length key, or sixteen entries for a double-length key. The first entry contains digits 1 and 2. The last entry contains digits 15 and 16 (95 and 96). For example, 255, 254, 253, 252, 251, 250, 249, 248 is equivalent to FF, FE, FD, FC, FB, FA, F9, F8 entered locally at the terminal. In all messages where DES key data is present, except for modifier '9', only one key is present. For modifier '9', twelve keys comprising the six VISA key table pairs are present. The key is interpreted as single or double-length depending on the Key Entry mode option selected from the Supervisor Access menu. " check = "true" classification = "Switch"/>
      <field id="k" name = "Trailer Data" format = "Var" mandatory = "O" description = "Message Trailer Data" check = "true" classification = "Switch"/>
    </fields>
  </ExtendedEncryptionKeyChange>
  <EmvCurrencyData displayName="EmvCurrencyData">
    <pattern options="34">
      ^
      (?&lt;a&gt;[\x02]*)
      (?&lt;b&gt;8)
      (?&lt;c&gt;[^\x1C])?
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})?
      \x1C
      (?&lt;e&gt;1)
      \x1C
      (?&lt;f&gt;
      (?&lt;f1&gt;[0-9A-F]{2})
      (
      (?&lt;f2&gt;[0-9A-F]{2})
      (?&lt;f3&gt;[^\x1C\x03]{0,255})
      )*
      )
      ([\x1C]
      (?&lt;g&gt;[0-9A-F]{8})
      )?
      (?&lt;h&gt;[\x03]*)
      \z
    </pattern>
    <fields>
      <field id="a" name = "Header Data" format = "Var" mandatory = "O" description = "Message Header Data" check = "true" classification = "Switch"/>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The value is fixed as '8' to indicate EMV configuration data." check = "true" classification = "Switch"/>
      <field id="c" name = "Response Flag" format = "1" mandatory = "O" description = "Response Flag. Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3 or 9" mandatory = "O" description = "Logical Unit Number (LUNO)." check = "true" classification = "Switch"/>
      <field id="e" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. '1' - 'ICC Currency Data Objects Table' data. '2' - 'ICC Transaction Data Objects Table' data. '3' - 'ICC Language Support Table' data. '4' - 'ICC Terminal Data Objects Table' data. '5' - 'ICC Terminal Acceptable AIDs Table' data." check = "true" classification = "Switch"/>
      <field id="f" name = "Configuration Data" format = "Var" mandatory = "M" description = "Configuration Data." check = "true" classification = "Switch"/>
      <field id="f1" name = "Number of Currency Type Mapping Entries" format = "2" parentId="f" mandatory = "M" description = "Number of Currency Type Mapping Entries. Two-digit ASCII hex value in the range '01' to 'FF' inclusive." check = "true" classification = "Switch"/>
      <field id="f2" name = "Currency Type" format = "2" mandatory = "O" parentId="f" description = "Currency Type. Two-digit ASCII hex value in the range '01' to 'FF' inclusive." check = "true" classification = "Switch"/>
      <field id="f3" name = "BER-TLV Data Objects" format = "Var (000-255)" parentId="f" mandatory = "O" description = "BER-TLV Data Objects. Any BER-TLV formatted data object may be placed in this field, but all data objects must be held within a single Response Format 2 data object (tag 0x77). The data is sent in ASCII hex. This field contains the Transaction Currency Code (tag 0x5F2A) and the Transaction Currency Exponent (tag 0x5F36) data objects. For example: '77 09 5F 2A 02 08 26 5F 36 01 02' Where: '77' - 'Response Format 2' data object tag '09' - 'Response Format 2' data object length '5F 2A' - 'Transaction Currency Code' data object tag '02'- 'Transaction Currency Code' data object length '08 26' - Transaction Currency Code' data object value '5F 36' - 'Transaction Currency Exponent' data object tag '01'- 'Transaction Currency Exponent' data object length '02' 'Transaction Currency Exponent' data object value" check = "true" classification = "Switch"/>
      <field id="g" name = "Message Authentication Code (MAC) Data" format = "Var" mandatory = "O" description = "Message Authentication Code (MAC) Data. Eight digit ASCII hex value used to authenticate the message data." check = "true" classification = "Switch"/>
      <field id="h" name = "Trailer Data" format = "Var" mandatory = "O" description = "Message Trailer Data" check = "true" classification = "Switch"/>
    </fields>
  </EmvCurrencyData>
  <EmvTransactionData displayName="EmvTransactionData">
    <pattern options="34">
      ^
      (?&lt;a&gt;[\x02]*)
      (?&lt;b&gt;8)
      (?&lt;c&gt;[^\x1C])?
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})?
      \x1C
      (?&lt;e&gt;2)
      \x1C
      (?&lt;f&gt;
      (?&lt;f1&gt;[0-9A-F]{2})
      (
      (?&lt;f2&gt;[0-9A-F]{2})
      (?&lt;f3&gt;[^\x1C\x03]{0,255})
      )*
      )
      ([\x1C]
      (?&lt;g&gt;[0-9A-F]{8})
      )?
      (?&lt;h&gt;[\x03]*)
      \z
    </pattern>
    <fields>
      <field id="a" name = "Header Data" format = "Var" mandatory = "O" description = "Message Header Data" check = "true" classification = "Switch"/>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The value is fixed as '8' to indicate EMV configuration data." check = "true" classification = "Switch"/>
      <field id="c" name = "Response Flag" format = "1" mandatory = "O" description = "Response Flag. Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3 or 9" mandatory = "O" description = "Logical Unit Number (LUNO)." check = "true" classification = "Switch"/>
      <field id="e" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. '1' - 'ICC Currency Data Objects Table' data. '2' - 'ICC Transaction Data Objects Table' data. '3' - 'ICC Language Support Table' data. '4' - 'ICC Terminal Data Objects Table' data. '5' - 'ICC Terminal Acceptable AIDs Table' data." check = "true" classification = "Switch"/>
      <field id="f" name = "Configuration Data" format = "Var" mandatory = "M" description = "Configuration Data." check = "true" classification = "Switch"/>
      <field id="f1" name = "Number of Transaction Type Mapping Entries" format = "2" parentId="f" mandatory = "M" description = "Number of Transaction Type Mapping Entries. Two-digit ASCII hex value in the range '01' to 'FF' inclusive." check = "true" classification = "Switch"/>
      <field id="f2" name = "Transaction Type" format = "2" mandatory = "O" parentId="f" description = "Transaction Type. Two-digit ASCII hex value in the range '01' to 'FF' inclusive." check = "true" classification = "Switch"/>
      <field id="f3" name = "BER-TLV Data Objects" format = "Var (000-255)" parentId="f" mandatory = "O" description = "BER-TLV Data Objects. Any BER-TLV formatted data object may be placed in this field, but all data objects must be held within a single 'Response Format 2' data object (tag 0x77). The data is sent in ASCII hex. Note: Only primitive BER-TLV data objects of a type known to the terminal are stored for use in ICC processing. This field contains the 'Transaction Type' (tag 0x9C) data object and the MasterCard proprietary 'Transaction Category Code'(tag 0x9F53) data object. For example: '77 07 9C 01 01 9F53 01 5A' Where: '77'= 'Response Format 2' data object tag '07' = 'Response Format 2' data object length '9C' = 'Transaction Type' data object tag '01' = 'Transaction Type' data object length '01' = 'Transaction Type' data object value '9F53' = 'Transaction Category Code' data object tag '01' = 'Transaction Category Code' data object length '5A' = 'Transaction Category Code' data object value." check = "true" classification = "Switch"/>
      <field id="g" name = "Message Authentication Code (MAC) Data" format = "Var" mandatory = "O" description = "Message Authentication Code (MAC) Data. Eight digit ASCII hex value used to authenticate the message data." check = "true" classification = "Switch"/>
      <field id="h" name = "Trailer Data" format = "Var" mandatory = "O" description = "Message Trailer Data" check = "true" classification = "Switch"/>
    </fields>
  </EmvTransactionData>
  <EmvLanguageTable displayName="EmvLanguageTable">
    <pattern options="34">
      ^
      (?&lt;a&gt;[\x02]*)
      (?&lt;b&gt;8)
      (?&lt;c&gt;[^\x1C])?
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})?
      \x1C
      (?&lt;e&gt;3)
      \x1C
      (?&lt;f&gt;
      (?&lt;f1a&gt;[0-9A-F]{2})
      (?&lt;languageTable&gt;(?&lt;f2_f3_f4_f5_f6&gt;
      [a-z]{2}
      [0-9]{3}
      [0-7]{3}
      [0-7]{3}
      [ABCDFGHI@]{3}
      )*)
      )
      ([\x1C]
      (?&lt;g&gt;[0-9A-F]{8})
      )?
      (?&lt;h&gt;[\x03]*)
      \z
    </pattern>
    <fields>
      <field id="a" name = "Header Data" format = "Var" mandatory = "O" description = "Message Header Data" check = "true" classification = "Switch"/>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The value is fixed as '8' to indicate EMV configuration data." check = "true" classification = "Switch"/>
      <field id="c" name = "Response Flag" format = "1" mandatory = "O" description = "Response Flag. Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3 or 9" mandatory = "O" description = "Logical Unit Number (LUNO)." check = "true" classification = "Switch"/>
      <field id="e" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. '1' - 'ICC Currency Data Objects Table' data. '2' - 'ICC Transaction Data Objects Table' data. '3' - 'ICC Language Support Table' data. '4' - 'ICC Terminal Data Objects Table' data. '5' - 'ICC Terminal Acceptable AIDs Table' data." check = "true" classification = "Switch"/>
      <field id="f" name = "Configuration Data" format = "Var" mandatory = "M" description = "Configuration Data." check = "true" classification = "Switch"/>
      <field id="f1a" name = "Number of Language Mapping Entries" format = "2" parentId="f" mandatory = "M" description = "Number of Language Mapping Entries. Two-digit ASCII hex value in the range '01' to 'FF' inclusive." check = "true" classification = "Switch"/>
      <field id="languageTable" name = "Language Table" format = "Var" parentId="f" mandatory = "O" description = "Language Code. ASCII character value in the range 'aa' to 'zz' inclusive (that is, lower case alphabetic characters only, with no numerics). The language code must be a value as defined in ISO 639:1998. Screen Base. ASCII decimal value in the range '000' to '999' inclusive, where: 1 = 1000, 2 = 2000.....9 = 9000. This value is used as the screen base, provided the ICC language preference finds a match against the language code in field 'f2'. Note: To enable larger screen groups, values 1 to 9 are now multiplied by 1000. For example, to set the screen base to 1000, set this value to 1. Audio Base. Audio Base. ASCII decimal value in the range '000' to '007' inclusive. This value is used to set the digital audio directory base, provided the ICC language preference finds a match against the language code in field 'f2'. Opcode Buffer Positions. Three different ASCII decimal values, each in the range '0' to '7' inclusive. No duplicate values should be present (that is, '001' is not acceptable). If the ICC language preference finds a match against the language code in field 'f2', the three opcode buffer positions indicated in this field are set to the corresponding values indicated in field 'f6'. Opcode Buffer Values. Three ASCII character values, each with a value in the range 'A' to 'D' or 'F' to 'I' inclusive, or '@'. If the ICC language preference finds a match against the language code in field 'f2', the three opcode values indicated in this field are set in the corresponding opcode positions indicated in field 'f5'. If the opcode value is '@', no change is made to the corresponding opcode positions." check = "true" classification = "Switch"/>
      <field id="f2_f3_f4_f5_f6" name = "Language Code, Screen Base, Audio Base, Opcode Buffer Positions, OpCode Buffer Values" format = "2, 3, 3, 3, 3" parentId="languageTable" mandatory = "O, O, O, O, O" description = "Language Code. ASCII character value in the range 'aa' to 'zz' inclusive (that is, lower case alphabetic characters only, with no numerics). The language code must be a value as defined in ISO 639:1998. Screen Base. ASCII decimal value in the range '000' to '999' inclusive, where: 1 = 1000, 2 = 2000.....9 = 9000. This value is used as the screen base, provided the ICC language preference finds a match against the language code in field 'f2'. Note: To enable larger screen groups, values 1 to 9 are now multiplied by 1000. For example, to set the screen base to 1000, set this value to 1. Audio Base. Audio Base. ASCII decimal value in the range '000' to '007' inclusive. This value is used to set the digital audio directory base, provided the ICC language preference finds a match against the language code in field 'f2'. Opcode Buffer Positions. Three different ASCII decimal values, each in the range '0' to '7' inclusive. No duplicate values should be present (that is, '001' is not acceptable). If the ICC language preference finds a match against the language code in field 'f2', the three opcode buffer positions indicated in this field are set to the corresponding values indicated in field 'f6'. Opcode Buffer Values. Three ASCII character values, each with a value in the range 'A' to 'D' or 'F' to 'I' inclusive, or '@'. If the ICC language preference finds a match against the language code in field 'f2', the three opcode values indicated in this field are set in the corresponding opcode positions indicated in field 'f5'. If the opcode value is '@', no change is made to the corresponding opcode positions." check = "true" classification = "Switch"/>
      <field id="g" name = "Message Authentication Code (MAC) Data" format = "Var" mandatory = "O" description = "Message Authentication Code (MAC) Data. Eight digit ASCII hex value used to authenticate the message data." check = "true" classification = "Switch"/>
      <field id="h" name = "Trailer Data" format = "Var" mandatory = "O" description = "Message Trailer Data" check = "true" classification = "Switch"/>
    </fields>
  </EmvLanguageTable>
  <EmvTerminalData displayName="EmvTerminalData">
    <pattern options="34">
      ^
      (?&lt;a&gt;[\x02]*)
      (?&lt;b&gt;8)
      (?&lt;c&gt;[^\x1C])?
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})?
      \x1C
      (?&lt;e&gt;4)
      \x1C
      (?&lt;f&gt;
      (?&lt;f1&gt;
      (?&lt;f1_a&gt;77)
      (?&lt;f1_b&gt;[0-9A-F]{2})
      (?&lt;f1_c&gt;[^\x1C\x03]{0,255})
      )
      )
      ([\x1C]
      (?&lt;g&gt;[0-9A-F]{8})
      )?
      (?&lt;h&gt;[\x03]*)
      \z
    </pattern>
    <fields>
      <field id="a" name = "Header Data" format = "Var" mandatory = "O" description = "Message Header Data" check = "true" classification = "Switch"/>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The value is fixed as '8' to indicate EMV configuration data." check = "true" classification = "Switch"/>
      <field id="c" name = "Response Flag" format = "1" mandatory = "O" description = "Response Flag. Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3 or 9" mandatory = "O" description = "Logical Unit Number (LUNO)." check = "true" classification = "Switch"/>
      <field id="e" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. '1' - 'ICC Currency Data Objects Table' data. '2' - 'ICC Transaction Data Objects Table' data. '3' - 'ICC Language Support Table' data. '4' - 'ICC Terminal Data Objects Table' data. '5' - 'ICC Terminal Acceptable AIDs Table' data." check = "true" classification = "Switch"/>
      <field id="f" name = "Configuration Data" format = "Var" mandatory = "M" description = "Configuration Data." check = "true" classification = "Switch"/>
      <field id="f1" name = "BER-TLV Data Objects." format = "Var (000-255)" parentId="f" mandatory = "M" description = "BER-TLV Data Objects. Any BER-TLV formatted data object may be placed in this field, but all data objects must be held within a single 'Response Format 2' data object (tag 0x77). The data is sent in ASCII hex. Note: Only 'primitive' BER-TLV data objects of a type known to the terminal are stored for use in ICC processing. This field contains the 'Terminal Country Code' (tag 0x9F1A) and 'Terminal Type' (tag 0x9F35) data objects. For example: '77 09 9F 1A 02 08 26 9F 35 01 14' Where: '77' - 'Response Format 2' data object tag '09' - 'Response Format 2' data object length '9F 1A' - 'Terminal Country Code' data object tag '02' - 'Terminal Country Code' data object length '08 26' - 'Terminal Country Code' data object value '9F 35' - 'Terminal Type' data object tag '01'- 'Terminal Type' data object length '14' - 'Terminal Type' data object value." check = "true" classification = "Switch"/>
      <field id="f1_a" name = "Response Format 2 data object Tag" format = "2" parentId="f1" mandatory = "M" description = "Response Format 2 data object Tag Name. Any BER-TLV formatted data object will start with this field. All data objects must be held within a single Response Format 2 data object (tag 0x77)." check = "true" classification = "Switch"/>
      <field id="f1_b" name = "Response Format 2 data object Length" format = "2" parentId="f1" mandatory = "M" description = "Response Format 2 data object Tag Length." check = "true" classification = "Switch"/>
      <field id="f1_c" name = "BER-TLV Data Objects" format = "Var (000-255)" parentId="f1" detailProvider="Abbrevia.Banking.Atm.SIMplicity.TlvDetailProvider, Abbrevia.Banking.Atm.SIMplicity, Version=1.0.5006.20195, Culture=neutral, PublicKeyToken=null" mandatory = "O" description = "BER-TLV Data Objects. Any BER-TLV formatted data object may be placed in this field. The data is sent in ASCII hex. Note: Only 'primitive' BER-TLV data objects of a type known to the terminal are stored for use in ICC processing. This field contains the 'Terminal Country Code' (tag 0x9F1A) and 'Terminal Type' (tag 0x9F35) data objects. For example: '77 09 9F 1A 02 08 26 9F 35 01 14' Where: '77' - 'Response Format 2' data object tag '09' - 'Response Format 2' data object length '9F 1A' - 'Terminal Country Code' data object tag '02' - 'Terminal Country Code' data object length '08 26' - 'Terminal Country Code' data object value '9F 35' - 'Terminal Type' data object tag '01'- 'Terminal Type' data object length '14' - 'Terminal Type' data object value." check = "true" classification = "Switch"/>
      <field id="g" name = "Message Authentication Code (MAC) Data" format = "Var" mandatory = "O" description = "Message Authentication Code (MAC) Data. Eight digit ASCII hex value used to authenticate the message data." check = "true" classification = "Switch"/>
      <field id="h" name = "Trailer Data" format = "Var" mandatory = "O" description = "Message Trailer Data" check = "true" classification = "Switch"/>
    </fields>
  </EmvTerminalData>
  <EmvTerminalApplication displayName="EmvTerminalApplication">
    <pattern options="34">
      ^
      (?&lt;a&gt;[\x02]*)
      (?&lt;b&gt;8)
      (?&lt;c&gt;[^\x1C])?
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})?
      \x1C
      (?&lt;e&gt;5)
      \x1C
      (?&lt;f&gt;[^\x1C\x03]*)
      ([\x1C](?&lt;g&gt;[0-9A-F]{8}))?
      (?&lt;h&gt;[\x03]*)
      \z
    </pattern>
    <fields>
      <field id="a" name = "Header Data" format = "Var" mandatory = "O" description = "Message Header Data" check = "true" classification = "Switch"/>
      <field id="b" name="Message Class" format="1" mandatory="M" description="The message class is: '8' - EMV Configuration." check="true" classification="Switch"/>
      <field id="c" name="Response Flag" format="1" mandatory="O" description="Response Flag. Included for future use and ignored by the terminal." check="false" classification="Switch"/>
      <field id="d" name="Logical Unit Number (LUNO)" format="3 or 9" mandatory="O" description="Logical Unit Number(LUNO). Included for future use and ignored by the terminal" check="false" classification="Switch"/>
      <field id="e" name="Message Sub-Class" format="1" mandatory="M" description="Message Sub-Class. '1' - 'ICC Currency Data Objects Table' data '2' - 'ICC Transaction Data Objects Table' data '3' - 'ICC Language Support Table' Data '4' - 'ICC Terminal Data Objects Table' Data '5' - 'ICC Terminal Acceptable AIDs Table' Data." check="true" classification="Switch"/>
      <field id="f" name="ICC Terminal Acceptable AIDs Table Data" format="Var" mandatory="M" description="ICC Terminal Acceptable AIDs Table" check="true" classification="Switch"/>
      <field id="g" name="Message Authentication Code Data" format="8" mandatory="See Table Note 1" description="Message Authentication Code Data. This field contains the calculated value for authentication of this message." check="true" classification="Switch"/>
      <field id="h" name = "Trailer Data" format = "Var" mandatory = "O" description = "Message Trailer Data" check = "true" classification = "Switch"/>
    </fields>
  </EmvTerminalApplication>
  <WcrEmvApplicationId displayName="WcrEmvApplicationId">
    <pattern options="34">
      ^
      (?&lt;b&gt;8)
      (?&lt;c&gt;[^\x1C])?
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})?
      \x1C
      (?&lt;e&gt;5)
      \x1C
      (?&lt;f&gt;[^\x1C]*)
      ([\x1C](?&lt;g&gt;[0-9A-F]{8}))?
      \z
    </pattern>
    <fields>
      <field id="b" name="Message Class" format="1" mandatory="M" description="The message class is: '8' - EMV Configuration." check="true" classification="Switch"/>
      <field id="c" name="Response Flag" format="1" mandatory="O" description="Response Flag. Included for future use and ignored by the terminal." check="false" classification="Switch"/>
      <field id="d" name="Logical Unit Number (LUNO)" format="3 or 9" mandatory="O" description="Logical Unit Number(LUNO). Included for future use and ignored by the terminal" check="false" classification="Switch"/>
      <field id="e" name="Message Sub-Class" format="1" mandatory="M" description="Message Sub-Class. '1' - 'ICC Currency Data Objects Table' data '2' - 'ICC Transaction Data Objects Table' data '3' - 'ICC Language Support Table' Data '4' - 'ICC Terminal Data Objects Table' Data '5' - 'ICC Terminal Acceptable AIDs Table' Data." check="true" classification="Switch"/>
      <field id="f" name="ICC Terminal Acceptable AIDs Table Data" format="Var" mandatory="M" description="ICC Terminal Acceptable AIDs Table" check="true" classification="Switch"/>
      <field id="g" name="Message Authentication Code Data" format="8" mandatory="See Table Note 1" description="Message Authentication Code Data. This field contains the calculated value for authentication of this message." check="true" classification="Switch"/>
    </fields>
  </WcrEmvApplicationId>
  <SolicitedCashInStatus displayName="SolicitedCashInStatus">
    <pattern options="34">
      ^
      (?&lt;b&gt;2)
      (?&lt;c&gt;2)
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})
      \x1C
      \x1C
      (?&lt;c&gt;8)
      \x1C
      (?&lt;g1&gt;r)
      (?&lt;i&gt;\d{1})
      \x1C
      (?&lt;i&gt;\d{1})
      \x1C
      (?&lt;i&gt;\d{2})
      (?&lt;e1&gt;[0-9A-Za-z]*)
      \x1C
      (?&lt;f&gt;[0-4]{1})
      \z
    </pattern>
    <fields>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '2' - Solicited message." check = "true" classification = "ATM"/>
      <field id="c" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '2' - Status message." check = "true" classification = "ATM"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3 or 9" mandatory = "M" description = "Logical Unit Number (LUNO). This number is defined in a field transmitted to the terminal in a Configuration Parameters Load message. The default number is 000. If the data security feature is configured, an additional six characters are present which contain the machine number. For details, see the APTRA Advance NDC, Supervisor's Guide." check = "true" classification = "ATM"/>
      <field id="f" name = "Status Descriptor" format = "1" mandatory = "M" description = "Status Descriptor. Describes the status message as follows: '8' Device Fault - This indicates that a terminal device is reporting abnormal status. This value is also used in a configuration ID status message. '9' Ready - This indicates that the instruction was completed successfully. 'A' Command Reject - This is inserted into the status descriptor field under the following conditions: 1. Terminal receives an illegal command. 2. Terminal receives illegal data from Central. 3. Terminal receives data while not in the correct mode. For more information, see the Message Validation section in Chapter 10, Central to Terminal Messages. 'B' Ready - This indicates that the Transaction Reply was successfully completed. (When separate 'Ready' for Transaction Reply commands option has been selected as a configuration parameter.) 'C' Specific Command Reject - This is sent to indicate a rejection of the message for authentication failure, or if the specific command reject option is set and a message is rejected that would otherwise generate a command reject 'A'. The status information field identifies the reason for rejection. 'F' Terminal State - This is sent in response to Terminal Commands requesting supply counters, terminal configuration information, or the date and time." check = "true" classification = "ATM"/>
      <field id="g" name = "Device Identifier Graphic (DIG)" format = "1" mandatory = "M" description = "This one-character field indicates this solicited message as a CashIn device status message. Valid range is r" check = "true" classification = "ATM"/>
      <field id="h" name = "Transaction Device Status" format = "1" mandatory = "O" description = "Gives details of a CashIn operation in response to a Transaction Reply Command message. It gives specific information about the situation that has happened during the cash in transaction." check = "true" classification = "ATM"/>
      <field id="i" name = "Error Severity" format = "4" mandatory = "O" description = "NDC standard. Represents the severity of the CashIn device." check = "true" classification = "ATM"/>
      <field id="j" name = "Maintenance Status" format = "2" mandatory = "O" description = "By default the two characters M-status reflects one to one the 2-character error code(defined in table StClass 6446:)." check = "true" classification = "ATM" />
      <field id="i" name = "Maintenance Data" format = "Var (00-99)" mandatory = "O" description = "By default the M-Data field shows the 2-character error code defined in the (StClass 6446: table) padded to the left with 10 times 00." check = "true" classification = "ATM"/>
      <field id="k" name = "Supplies Status" format = "1" mandatory = "O" description = "NDC standard. Represents the supply status of the CashIn device." check = "true" classification = "ATM"/>
      <field id="l" name = "Message Authentication Code (MAC)" format = "8" mandatory = "O" description = "Message Authentication Code (MAC) Data. Contains the calculated value for authentication of this message. The characters are in the range 0-9 and A-F." check = "true" classification = "ATM"/>
    </fields>
  </SolicitedCashInStatus>
  <DispenserCurrencyCassetteMappingTable displayName="DispenserCurrencyCassetteMappingTable">
    <pattern options="34">
      ^
      (?&lt;a&gt;[\x02]*)
      (?&lt;b&gt;3)
      (?&lt;c&gt;[^\x1C])?
      \x1C
      (?&lt;d&gt;\d{9}|\d{3})?
      \x1C
      (?&lt;e&gt;[0-9A-Fa-f]{3})?
      \x1C
      (?&lt;f&gt;1)
      (?&lt;g&gt;E)
      \x1C
      (?&lt;h_i&gt;
      (?&lt;h&gt;[0-9A-Fa-f]{2})
      (?&lt;i&gt;
      (?&lt;i1&gt;[0-9A-Fa-f]{2})
      (?&lt;i2&gt;[0-9A-Fa-f])
      (?&lt;i3&gt;[0-9]{5})
      \x1C?
      )*
      )?
      ([\x1C]
      (?&lt;j&gt;[0-9A-F]{8})
      )?
      (?&lt;k&gt;[\x03]*)
      \z
    </pattern>
    <fields>
      <field id="a" name = "Header Data" format = "Var" mandatory = "O" description = "Message Header Data" check = "true" classification = "Switch"/>
      <field id="b" name = "Message Class" format = "1" mandatory = "M" description = "Message Class. The message class is: '3' Data Command" check = "true" classification = "Switch"/>
      <field id="c" name = "Response Flag" format = "1" mandatory = "O" description = "Response Flag. Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="d" name = "Logical Unit Number (LUNO)" format = "3" mandatory = "O" description = "Logical Unit Number (LUNO). Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="e" name = "Message Sequence Number" format = "3" mandatory = "O" description = "Message Sequence Number. Included for future use and ignored by the terminal." check = "true" classification = "Switch"/>
      <field id="f" name = "Message Sub-Class" format = "1" mandatory = "M" description = "Message Sub-Class. The message sub-class is: '1' Customisation Data" check = "true" classification = "Switch"/>
      <field id="g" name = "Message Identifier" format = "1" mandatory = "M" description = "Message Identifier. The message identifier is: '2' State Table" check = "true" classification = "Switch"/>
      <field id="h_i" name = "Currency mapping table" format = "Var" mandatory = "M" description = "This field is used to define currency types" check = "true" classification = "Switch"/>
      <field id="h" name = "Number of mapping entries" format = "3, Var(25)" parentId="h_i" mandatory = "M" description = "Number of mapping entries. 2 digits ACII HEX value (01-FF)" check = "true" classification = "Switch"/>
      <field id="i1" name = "Currency type" format = "3, Var(25)" parentId="i" mandatory = "M" description = "Currency type. Single digit ASCII hex value (01-FF), using to mapping for state type 'G'" check = "true" classification = "Switch"/>
      <field id="i2" name = "Cassete type" format = "3, Var(25)" parentId="i" mandatory = "M" description = "Cassete type. Single digit ASCII hex value (0-F), using to mapping for state type 'G'" check = "true" classification = "Switch"/>
      <field id="i3" name = "Denomination for cassete" format = "3, Var(25)" parentId="i" mandatory = "M" description = "Denomination for cassete. 5 digit ASCII numeric value" check = "true" classification = "Switch"/>
      <field id="j" name = "Message Authentication Code (MAC) Data" format = "8" mandatory = "O" description = "Message Authentication Code (MAC) Data. Contains the value transmitted for authentication of this message." check = "true" classification = "Switch"/>
      <field id="k" name = "Trailer Data" format = "Var" mandatory = "O" description = "Message Trailer Data" check = "true" classification = "Switch"/>
    </fields>
  </DispenserCurrencyCassetteMappingTable>

</configuration>
